
    

  

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
        <title>jkalucki/grabby-hands - GitHub</title>
    <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub" />
    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub" />

    <link href="https://assets0.github.com/stylesheets/bundle_common.css?52a04f4d5bac1e6525ba43735c8142489bd7a665" media="screen" rel="stylesheet" type="text/css" />
<link href="https://assets3.github.com/stylesheets/bundle_github.css?52a04f4d5bac1e6525ba43735c8142489bd7a665" media="screen" rel="stylesheet" type="text/css" />

    <script type="text/javascript" charset="utf-8">
      var GitHub = {}
      var github_user = null
      
    </script>
    <script src="https://assets1.github.com/javascripts/jquery/jquery-1.4.2.min.js?52a04f4d5bac1e6525ba43735c8142489bd7a665" type="text/javascript"></script>
    <script src="https://assets1.github.com/javascripts/bundle_common.js?52a04f4d5bac1e6525ba43735c8142489bd7a665" type="text/javascript"></script>
<script src="https://assets2.github.com/javascripts/bundle_github.js?52a04f4d5bac1e6525ba43735c8142489bd7a665" type="text/javascript"></script>


        <script type="text/javascript" charset="utf-8">
      GitHub.spy({
        repo: "jkalucki/grabby-hands"
      })
    </script>

    
  
    
  

  <link href="https://github.com/jkalucki/grabby-hands/commits/master.atom" rel="alternate" title="Recent Commits to grabby-hands:master" type="application/atom+xml" />

        <meta name="description" content="A JVM Kestrel client that aggregates queues from multiple servers. Implemented in Scala with Java bindings. In use at Twitter for all JVM Search and Streaming Kestrel interactions." />
    <script type="text/javascript">
      GitHub.nameWithOwner = GitHub.nameWithOwner || "jkalucki/grabby-hands";
      GitHub.currentRef = 'master';
      GitHub.commitSHA = "d89388ca6edf7cb1de662855b03e42e9ca908adf";
      GitHub.currentPath = "";
      GitHub.masterBranch = "master";

      
        GitHub.currentTreeSHA = "d89388ca6edf7cb1de662855b03e42e9ca908adf";
      
    </script>
  

            <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-3769691-2']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script');
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        ga.setAttribute('async', 'true');
        document.documentElement.firstChild.appendChild(ga);
      })();
    </script>

  </head>

  

  <body class="logged_out ">
    

    
      <script type="text/javascript">
        var _kmq = _kmq || [];
        function _kms(u){
          var s = document.createElement('script'); var f = document.getElementsByTagName('script')[0]; s.type = 'text/javascript'; s.async = true;
          s.src = u; f.parentNode.insertBefore(s, f);
        }
        _kms('//i.kissmetrics.com/i.js');_kms('//doug1izaerwt3.cloudfront.net/406e8bf3a2b8846ead55afb3cfaf6664523e3a54.1.js');
      </script>
    

    

    

    

    <div class="subnavd" id="main">
      <div id="header" class="true">
        
          <a class="logo boring" href="https://github.com">
            <img src="/images/modules/header/logov3.png?changed" class="default" alt="github" />
            <![if !IE]>
            <img src="/images/modules/header/logov3-hover.png" class="hover" alt="github" />
            <![endif]>
          </a>
        
        
        <div class="topsearch">
  
    <ul class="nav logged_out">
      <li class="pricing"><a href="/plans">Pricing and Signup</a></li>
      <li><a href="/explore">Explore GitHub</a></li>
      <li><a href="/features">Features</a></li>
      <li><a href="/blog">Blog</a></li>
      <li><a href="https://github.com/login">Login</a></li>
    </ul>
  
</div>

      </div>

      
      
        
    <div class="site">
      <div class="pagehead repohead vis-public   ">

      

      <div class="title-actions-bar">
        <h1>
          <a href="/jkalucki">jkalucki</a> / <strong><a href="https://github.com/jkalucki/grabby-hands">grabby-hands</a></strong>
          
          
        </h1>

        
    <ul class="actions">
      

      
        <li class="for-owner" style="display:none"><a href="https://github.com/jkalucki/grabby-hands/admin" class="minibutton btn-admin "><span><span class="icon"></span>Admin</span></a></li>
        <li>
          <a href="/jkalucki/grabby-hands/toggle_watch" class="minibutton btn-watch " id="watch_button" onclick="var f = document.createElement('form'); f.style.display = 'none'; this.parentNode.appendChild(f); f.method = 'POST'; f.action = this.href;var s = document.createElement('input'); s.setAttribute('type', 'hidden'); s.setAttribute('name', 'authenticity_token'); s.setAttribute('value', 'c512b96a16bddeb79382a8b9ee2a48ed45c20b18'); f.appendChild(s);f.submit();return false;" style="display:none"><span><span class="icon"></span>Watch</span></a>
          <a href="/jkalucki/grabby-hands/toggle_watch" class="minibutton btn-watch " id="unwatch_button" onclick="var f = document.createElement('form'); f.style.display = 'none'; this.parentNode.appendChild(f); f.method = 'POST'; f.action = this.href;var s = document.createElement('input'); s.setAttribute('type', 'hidden'); s.setAttribute('name', 'authenticity_token'); s.setAttribute('value', 'c512b96a16bddeb79382a8b9ee2a48ed45c20b18'); f.appendChild(s);f.submit();return false;" style="display:none"><span><span class="icon"></span>Unwatch</span></a>
        </li>
        
          
            <li class="for-notforked" style="display:none"><a href="/jkalucki/grabby-hands/fork" class="minibutton btn-fork " id="fork_button" onclick="var f = document.createElement('form'); f.style.display = 'none'; this.parentNode.appendChild(f); f.method = 'POST'; f.action = this.href;var s = document.createElement('input'); s.setAttribute('type', 'hidden'); s.setAttribute('name', 'authenticity_token'); s.setAttribute('value', 'c512b96a16bddeb79382a8b9ee2a48ed45c20b18'); f.appendChild(s);f.submit();return false;"><span><span class="icon"></span>Fork</span></a></li>
            <li class="for-hasfork" style="display:none"><a href="#" class="minibutton btn-fork " id="your_fork_button"><span><span class="icon"></span>Your Fork</span></a></li>
          

          
        
      
      
      <li class="repostats">
        <ul class="repo-stats">
          <li class="watchers"><a href="/jkalucki/grabby-hands/watchers" title="Watchers" class="tooltipped downwards">28</a></li>
          <li class="forks"><a href="/jkalucki/grabby-hands/network" title="Forks" class="tooltipped downwards">4</a></li>
        </ul>
      </li>
    </ul>

      </div>

        
  <ul class="tabs">
    <li><a href="https://github.com/jkalucki/grabby-hands" class="selected" highlight="repo_source">Source</a></li>
    <li><a href="https://github.com/jkalucki/grabby-hands/commits/master" highlight="repo_commits">Commits</a></li>
    <li><a href="/jkalucki/grabby-hands/network" highlight="repo_network">Network</a></li>
    <li><a href="/jkalucki/grabby-hands/pulls" highlight="repo_pulls">Pull Requests (0)</a></li>

    

    
      
      <li><a href="/jkalucki/grabby-hands/issues" highlight="issues">Issues (0)</a></li>
    

            
    <li><a href="/jkalucki/grabby-hands/graphs" highlight="repo_graphs">Graphs</a></li>

    <li class="contextswitch nochoices">
      <span class="toggle leftwards" >
        <em>Branch:</em>
        <code>master</code>
      </span>
    </li>
  </ul>

  <div style="display:none" id="pl-description"><p><em class="placeholder">click here to add a description</em></p></div>
  <div style="display:none" id="pl-homepage"><p><em class="placeholder">click here to add a homepage</em></p></div>

  <div class="subnav-bar">
  
  <ul>
    <li>
      <a href="#" class="dropdown">Switch Branches (6)</a>
      <ul>
        
          
          
            <li><a href="/jkalucki/grabby-hands/tree/1.1" action="show">1.1</a></li>
          
        
          
          
            <li><a href="/jkalucki/grabby-hands/tree/1.2" action="show">1.2</a></li>
          
        
          
          
            <li><a href="/jkalucki/grabby-hands/tree/1.4" action="show">1.4</a></li>
          
        
          
          
            <li><a href="/jkalucki/grabby-hands/tree/fd_leak" action="show">fd_leak</a></li>
          
        
          
          
            <li><a href="/jkalucki/grabby-hands/tree/gh-pages" action="show">gh-pages</a></li>
          
        
          
            <li><strong>master &#x2713;</strong></li>
            
      </ul>
    </li>
    <li>
      <a href="#" class="dropdown defunct">Switch Tags (0)</a>
      
    </li>
    <li>
    
    <a href="/jkalucki/grabby-hands/branches" class="manage">Branch List</a>
    
    </li>
  </ul>
</div>

  
  
  
  
  
  



        
    <div id="repo_details" class="metabox clearfix">
      <div id="repo_details_loader" class="metabox-loader" style="display:none">Sending Request&hellip;</div>

        <a href="/jkalucki/grabby-hands/downloads" class="download-source" id="download_button" title="Download source, tagged packages and binaries."><span class="icon"></span>Downloads</a>

      <div id="repository_desc_wrapper">
      <div id="repository_description" rel="repository_description_edit">
        
          <p>A JVM Kestrel client that aggregates queues from multiple servers. Implemented in Scala with Java bindings. In use at Twitter for all JVM Search and Streaming Kestrel interactions.
            <span id="read_more" style="display:none">&mdash; <a href="#readme">Read more</a></span>
          </p>
        
      </div>

      <div id="repository_description_edit" style="display:none;" class="inline-edit">
        <form action="/jkalucki/grabby-hands/admin/update" method="post"><div style="margin:0;padding:0"><input name="authenticity_token" type="hidden" value="c512b96a16bddeb79382a8b9ee2a48ed45c20b18" /></div>
          <input type="hidden" name="field" value="repository_description">
          <input type="text" class="textfield" name="value" value="A JVM Kestrel client that aggregates queues from multiple servers. Implemented in Scala with Java bindings. In use at Twitter for all JVM Search and Streaming Kestrel interactions.">
          <div class="form-actions">
            <button class="minibutton"><span>Save</span></button> &nbsp; <a href="#" class="cancel">Cancel</a>
          </div>
        </form>
      </div>

      
      <div class="repository-homepage" id="repository_homepage" rel="repository_homepage_edit">
        <p><a href="http://" rel="nofollow"></a></p>
      </div>

      <div id="repository_homepage_edit" style="display:none;" class="inline-edit">
        <form action="/jkalucki/grabby-hands/admin/update" method="post"><div style="margin:0;padding:0"><input name="authenticity_token" type="hidden" value="c512b96a16bddeb79382a8b9ee2a48ed45c20b18" /></div>
          <input type="hidden" name="field" value="repository_homepage">
          <input type="text" class="textfield" name="value" value="">
          <div class="form-actions">
            <button class="minibutton"><span>Save</span></button> &nbsp; <a href="#" class="cancel">Cancel</a>
          </div>
        </form>
      </div>
      </div>
      <div class="rule "></div>
            <div id="url_box" class="url-box">
        <ul class="clone-urls">
          
            
            <li id="http_clone_url"><a href="https://github.com/jkalucki/grabby-hands.git" data-permissions="Read-Only">HTTP</a></li>
            <li id="public_clone_url"><a href="git://github.com/jkalucki/grabby-hands.git" data-permissions="Read-Only">Git Read-Only</a></li>
          
          
        </ul>
        <input type="text" spellcheck="false" id="url_field" class="url-field" />
              <span style="display:none" id="url_box_clippy"></span>
      <span id="clippy_tooltip_url_box_clippy" class="clippy-tooltip tooltipped" title="copy to clipboard">
      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"
              width="14"
              height="14"
              class="clippy"
              id="clippy" >
      <param name="movie" value="https://assets1.github.com/flash/clippy.swf?v5"/>
      <param name="allowScriptAccess" value="always" />
      <param name="quality" value="high" />
      <param name="scale" value="noscale" />
      <param NAME="FlashVars" value="id=url_box_clippy&amp;copied=&amp;copyto=">
      <param name="bgcolor" value="#FFFFFF">
      <param name="wmode" value="opaque">
      <embed src="https://assets1.github.com/flash/clippy.swf?v5"
             width="14"
             height="14"
             name="clippy"
             quality="high"
             allowScriptAccess="always"
             type="application/x-shockwave-flash"
             pluginspage="http://www.macromedia.com/go/getflashplayer"
             FlashVars="id=url_box_clippy&amp;copied=&amp;copyto="
             bgcolor="#FFFFFF"
             wmode="opaque"
      />
      </object>
      </span>

        <p id="url_description">This URL has <strong>Read+Write</strong> access</p>
      </div>
    </div>


        

      </div><!-- /.pagehead -->

      









<script type="text/javascript">
  GitHub.currentCommitRef = 'master'
  GitHub.currentRepoOwner = 'jkalucki'
  GitHub.currentRepo = "grabby-hands"
  GitHub.downloadRepo = '/jkalucki/grabby-hands/archives/master'
  GitHub.revType = "master"

  GitHub.controllerName = "tree"
  GitHub.actionName     = "show"
  GitHub.currentAction  = "tree#show"

  

  
</script>








  <div id="commit">
    <div class="group">
        
  <div class="envelope commit">
    <div class="human">
      
        <div class="message"><pre><a href="/jkalucki/grabby-hands/commit/d89388ca6edf7cb1de662855b03e42e9ca908adf">Remove test libs from distro.</a> </pre></div>
      

      <div class="actor">
        <div class="gravatar">
          
          <img src="https://secure.gravatar.com/avatar/0bfa97e4fdb7aa6616e369012837976b?s=140&d=https%3A%2F%2Fgithub.com%2Fimages%2Fgravatars%2Fgravatar-140.png" alt="" width="30" height="30"  />
        </div>
        <div class="name"><a href="/jkalucki">jkalucki</a> <span>(author)</span></div>
        <div class="date">
          <abbr class="relatize" title="2010-11-30 15:45:29">Tue Nov 30 15:45:29 -0800 2010</abbr>
        </div>
      </div>

      

    </div>
    <div class="machine">
      <span>c</span>ommit&nbsp;&nbsp;<a href="/jkalucki/grabby-hands/commit/d89388ca6edf7cb1de662855b03e42e9ca908adf" hotkey="c">d89388ca6edf7cb1de66</a><br />
      <span>t</span>ree&nbsp;&nbsp;&nbsp;&nbsp;<a href="/jkalucki/grabby-hands/tree/d89388ca6edf7cb1de662855b03e42e9ca908adf" hotkey="t">20474011cb8c77aed84a</a><br />
      
        <span>p</span>arent&nbsp;
        
        <a href="/jkalucki/grabby-hands/tree/3b399cef13099475be89f4b057c4192e272715e0" hotkey="p">3b399cef13099475be89</a>
      

    </div>
  </div>

    </div>
  </div>



<div id="slider">
  
    <div class="breadcrumb" data-path="/">
      <b><a href="/jkalucki/grabby-hands/tree/d89388ca6edf7cb1de662855b03e42e9ca908adf">grabby-hands</a></b> / 
    </div>

    
      


  <div class="frames">
    <div class="frame frame-center" data-path="/">
      <table id="browser" cellpadding="0" cellspacing="0">
        <tr class="header">
          <th></th>
          <th>name</th>
          <th>age</th>
          <th>
            <div class="history">
              <a href="/jkalucki/grabby-hands/commits/master/">history</a>
            </div>
            message
          </th>
        </tr>

        

        
        
                    <tr class="alt">
            <td class="icon"> <img alt="directory" src="https://assets2.github.com/images/icons/dir.png?feb4d1e377eba507ce7642cdb7c2c5a509bec479" /> </td>
            <td class="content"> <a href="/jkalucki/grabby-hands/tree/d89388ca6edf7cb1de662855b03e42e9ca908adf/ant" class="js-slide-to" id="625133fef1a0bf66f2f740e3bb6703a3dfe09aff">ant/</a></td>
            
            <td class="age"> <span class="relatize">Mon Nov 01 16:21:53 -0700 2010</span> </td>
            <td class="message"> <a href="/jkalucki/grabby-hands/commit/233ba57e4cda2cd9b689f78c621e674447297ba1" class="message" title="Fix ant warnings.">Fix ant warnings.</a> [<a href="/jkalucki">jkalucki</a>] </td>
          </tr>
        
                    <tr class="">
            <td class="icon"> <img alt="directory" src="https://assets2.github.com/images/icons/dir.png?feb4d1e377eba507ce7642cdb7c2c5a509bec479" /> </td>
            <td class="content"> <a href="/jkalucki/grabby-hands/tree/d89388ca6edf7cb1de662855b03e42e9ca908adf/ivy" class="js-slide-to" id="ccbc7eb99157f1e72bc9d54ee37c857419896ce9">ivy/</a></td>
            
            <td class="age"> <span class="relatize">Mon Nov 29 22:07:59 -0800 2010</span> </td>
            <td class="message"> <a href="/jkalucki/grabby-hands/commit/a6293bfe9283b13b0c8aebf3092d3c5930ee1cc6" class="message" title="Poke around for leaking fd.">Poke around for leaking fd.</a> [<a href="/jkalucki">jkalucki</a>] </td>
          </tr>
        
                    <tr class="alt">
            <td class="icon"> <img alt="directory" src="https://assets2.github.com/images/icons/dir.png?feb4d1e377eba507ce7642cdb7c2c5a509bec479" /> </td>
            <td class="content"> <a href="/jkalucki/grabby-hands/tree/d89388ca6edf7cb1de662855b03e42e9ca908adf/project" class="js-slide-to" id="7f5c6175c99a948c913a525d89863ac6d4c93e68">project/</a></td>
            
            <td class="age"> <span class="relatize">Tue Nov 30 15:45:29 -0800 2010</span> </td>
            <td class="message"> <a href="/jkalucki/grabby-hands/commit/d89388ca6edf7cb1de662855b03e42e9ca908adf" class="message" title="Remove test libs from distro.">Remove test libs from distro.</a> [<a href="/jkalucki">jkalucki</a>] </td>
          </tr>
        
                    <tr class="">
            <td class="icon"> <img alt="directory" src="https://assets2.github.com/images/icons/dir.png?feb4d1e377eba507ce7642cdb7c2c5a509bec479" /> </td>
            <td class="content"> <a href="/jkalucki/grabby-hands/tree/d89388ca6edf7cb1de662855b03e42e9ca908adf/src" class="js-slide-to" id="d5c38ccc52a0d54c0bf9031705b66ba513bccd09">src/</a></td>
            
            <td class="age"> <span class="relatize">Tue Nov 30 11:14:44 -0800 2010</span> </td>
            <td class="message"> <a href="/jkalucki/grabby-hands/commit/4b87cdd471c2d7090691d6b2d5b6602379825f61" class="message" title="Turn off scala 2.8 migration warnings, as they point to an OK usage.">Turn off scala 2.8 migration warnings, as they ...</a> [<a href="/jkalucki">jkalucki</a>] </td>
          </tr>
        
                    <tr class="alt">
            <td class="icon"> <img alt="file" src="https://assets2.github.com/images/icons/txt.png?feb4d1e377eba507ce7642cdb7c2c5a509bec479" /> </td>
            <td class="content"> <a href="/jkalucki/grabby-hands/blob/d89388ca6edf7cb1de662855b03e42e9ca908adf/.gitignore" class="js-slide-to" id="458abc9a08b48745c496e829111483c15792e8d8">.gitignore</a></td>
            
            <td class="age"> <span class="relatize">Wed Oct 13 17:08:11 -0700 2010</span> </td>
            <td class="message"> <a href="/jkalucki/grabby-hands/commit/94e68404311ef947ba1c5819316af7c471e7bd8f" class="message" title="moved to sbt build, added 2.8.0 cross-build support">moved to sbt build, added 2.8.0 cross-build sup...</a> [mmcbride] </td>
          </tr>
        
                    <tr class="">
            <td class="icon"> <img alt="file" src="https://assets2.github.com/images/icons/txt.png?feb4d1e377eba507ce7642cdb7c2c5a509bec479" /> </td>
            <td class="content"> <a href="/jkalucki/grabby-hands/blob/d89388ca6edf7cb1de662855b03e42e9ca908adf/LICENSE" class="js-slide-to" id="d645695673349e3947e8e5ae42332d0ac3164cd7">LICENSE</a></td>
            
            <td class="age"> <span class="relatize">Tue Jan 19 20:54:14 -0800 2010</span> </td>
            <td class="message"> <a href="/jkalucki/grabby-hands/commit/5fa9cd40084bfebc27e9cd88f0687042cf334971" class="message" title="Basic project layout.">Basic project layout.</a> [John Kalucki] </td>
          </tr>
        
                    <tr class="alt">
            <td class="icon"> <img alt="file" src="https://assets2.github.com/images/icons/txt.png?feb4d1e377eba507ce7642cdb7c2c5a509bec479" /> </td>
            <td class="content"> <a href="/jkalucki/grabby-hands/blob/d89388ca6edf7cb1de662855b03e42e9ca908adf/README" class="js-slide-to" id="4e15a9191666c3d1e0e40420b0cea4bc4afb3f27">README</a></td>
            
            <td class="age"> <span class="relatize">Tue Nov 30 11:14:44 -0800 2010</span> </td>
            <td class="message"> <a href="/jkalucki/grabby-hands/commit/4b87cdd471c2d7090691d6b2d5b6602379825f61" class="message" title="Turn off scala 2.8 migration warnings, as they point to an OK usage.">Turn off scala 2.8 migration warnings, as they ...</a> [<a href="/jkalucki">jkalucki</a>] </td>
          </tr>
        
                    <tr class="">
            <td class="icon"> <img alt="file" src="https://assets2.github.com/images/icons/txt.png?feb4d1e377eba507ce7642cdb7c2c5a509bec479" /> </td>
            <td class="content"> <a href="/jkalucki/grabby-hands/blob/d89388ca6edf7cb1de662855b03e42e9ca908adf/build.xml" class="js-slide-to" id="e667176744c0bd8cbf095940db2dac0b6f4ed017">build.xml</a></td>
            
            <td class="age"> <span class="relatize">Thu Feb 18 20:57:22 -0800 2010</span> </td>
            <td class="message"> <a href="/jkalucki/grabby-hands/commit/efc17ff8d6518929620239eca2db0aa465218c7b" class="message" title="Get java testing under Junit with -g line numbers.">Get java testing under Junit with -g line numbers.</a> [John Kalucki] </td>
          </tr>
        
                    <tr class="alt">
            <td class="icon"> <img alt="file" src="https://assets2.github.com/images/icons/txt.png?feb4d1e377eba507ce7642cdb7c2c5a509bec479" /> </td>
            <td class="content"> <a href="/jkalucki/grabby-hands/blob/d89388ca6edf7cb1de662855b03e42e9ca908adf/logging.properties" class="js-slide-to" id="285f0150937d531dc4052d64dc7de84ee13a237d">logging.properties</a></td>
            
            <td class="age"> <span class="relatize">Mon Feb 22 12:03:47 -0800 2010</span> </td>
            <td class="message"> <a href="/jkalucki/grabby-hands/commit/46a8042e5d66f4e080783e016ef7de8192693b3e" class="message" title="Add some basic stress tests.">Add some basic stress tests.</a> [John Kalucki] </td>
          </tr>
        
      </table>
    </div>
  </div>
  <br style="clear:both;">


<br style="clear:both;">

<div class="frame frame-loading" style="display:none;">
  <img src="/images/modules/ajax/big_spinner_336699.gif">
</div>
    

  

      
    <div id="readme" class="announce " data-path="/"><span class="name">README</span><div class="plain"><pre>GRABBY HANDS
============

v1.3 2010/11/30 - Fix a leaking file descriptor on down Kestrel from Linux.
v1.2 2010/11/29 - Merge in transactional read and write support from jreichhold.
v1.1 2010/11/29 - Add SBT, Scala2.8 and Maven support
v1.0 2010/05/27 - First Release

SUMMARY
-------
A JVM Kestrel client optimized for low-latency consumption of message
queues hosted across a cluster of Kestrel servers.  Connections are
opened to each Kestrel for each requested queue and each outstanding
read or write transaction.  Messages are read via Kestrel blocking
read transactions. Implemented in Scala, but callable from Java.


GOALS
-----
Robustness, visibility, efficiency, and low-latency.


NON-GOALS
---------
A complete implementation of the memcache protocol.

Scala Actor dependency.

A deep or Scala-specific dependency chain.

A fair or uniform write distribution across a cluster.

Strict order preservation.


FEATURES
--------
Low latency end-to-end read results by using Kestrel blocking
transactions.

Highly-concurrent. Each transaction is concurrently hosted in its
own thread.

Multiple outstanding read or write transaction support.

Multiple Kestrel clusters can be supported by creating additional
instances of GrabbyHands.

Arbitrary user-defined read and write timeout behaviors are possible
by interacting directly with an internal Java Blocking Queue.

Internal queues provide additional, but bounded, liveness.

Writes may be cancelled while still waiting in local queues.

Writes may be made at-least-once transactional by calling
Write.awaitWrite().

If at least one Kestrel is available, read and write progress can
be made.

Immutable configuration. The entire configuration is passed in at
instantiation and cannot be modified. Safety and simplicity over
flexibility and complexity.

Support for Kestrel transactional reads and writes.

Counters for everything.


SCALA EXAMPLE
-------------
See the Scala unit tests in src/test/scala/com/twitter/grabbyhands/*Spec.java
for more detailed examples.

  val queue = "example"
  val grabby = {
    val config = new Config()
    config.addServer(host + ":" + port)
    config.addQueue(queue)
    new GrabbyHands(config)
  }
  val send = "payload"
  grabby.getSendQueue(queue).put(new Write(send))
  val receive = new String(grabby.getRecvQueue("example").poll(1, TimeUnit.SECONDS).array)
  receive must be_==(send)


JAVA EXAMPLE
------------
See the Java unit test in src/test/java/com/twitter/grabbyhands/JavaTest.java
for a more detailed example.

  String queue = "example"
  Config config = new Config();
  config.addServer(host + ":" + port);
  config.addQueue(queue);
  GrabbyHands grabbyHands = new GrabbyHands(config);
  String send = "payload";
  grabbyHands.getSendQueue(queue).put(new Write(send));
  String receive = new String(grabbyHands.getRecvQueue(queue).poll(1, TimeUnit.SECONDS));
  assertEquals(send, receive);


CONFIGURATION ADVICE
--------------------
Some options can be overridden on a per queue basis by setting
values in the QueueConfig object returned by addQueue().

Scala users can generally assign values:
  val config = new Config()
  config.recvNumConnections = 2
  val queueConfigs = config.addQueues(Array(queue1, queue2))
  // override queue1, leaving queue2 at default of 2
  queueConfig(queue1).recvNumConnections = 4

Java users should probably use the bean-style accessors:
  config.setRecvNumConnections(2);

Generally one transaction per direction (send or receive) provides
sufficient throughput and latency, especially when reading from a
large Kestrel cluster. Demanding applications, or those reading
from a small Kestrel cluster, may wish to add a second or third
concurrent transaction in a given direction by setting sendNumConnections
and recvNumConnections.

Set maxMessageBytes to be larger than your largest expected message.
Excessive message size wastes a bit of memory and provides additional
garbage collection pressure.

Set kestrelReadTimeoutMs to be large enough to cover your typical,
if not maximal arrival gap, but not so large as to cause shutdown
latency issues. Larger is almost always better.

connectTimeoutMs is largely irrelevant, due to the threading model.
Excessive values may actually increase reconnection latency to a
recently recovered Kestrel server.

readTimeoutMs and writeTimeoutMs, when tuned correctly, might possibly
decrease down or struggling Kestrel server detection latency.  Again,
due to the threading model, this may be irrelevant, as traffic will
tend to naturally flow around a slow server.  Excessively small
values may cause needless transaction failures and retries.

reconnectHoldDownMs can reduce connection thrashing logging annoyance
when faced with a down Kestrel server. Excessively large values
will increase reconnection latency, but will not otherwise improve
throughput around an unavailable Kestrel. Excessively small values
will burn local CPU and network resources.

sendQueueDepth can increase write liveness by decoupling your application
from transaction completion latency. Excessive queue depth, when not
coupled with Write.awaitWrite() checking, may cause undesired uncommitted
write loss upon local process exit.

recvQueueDepth can increase read liveness by pipelining read messages
locally.  Excessive queue depth may cause undesired uncommitted read
loss upon local process exit.


BUILD
-----
With ant:
% ant package

With sbt:
% sbt update
% sbt package

If you switch between ant and sbt, be sure to clean.


TESTS
-----
All tests assume a kestrel process running on localhost:22133.

With ant:
% ant test (runs the normal tests that are run during ant package)
% ant stress (runs a small stress test suite and give some performance numbers)
% ant javatest (runs the java example)

With sbt:
% sbt test (scala tests and java example)
% sbt stress

BINARIES
--------
<a href="http://maven.twttr.com">http://maven.twttr.com</a>


LICENSE
-------
Apache 2.0 License. See included license file.
</pre></div></div>
  </div>



    </div>
  
      
    </div>

    <div id="footer" class="clearfix">
      <div class="site">
        <div class="sponsor">
          <a href="http://www.rackspace.com" class="logo">
            <img alt="Dedicated Server" src="https://assets3.github.com/images/modules/footer/rackspace_logo.png?v2?52a04f4d5bac1e6525ba43735c8142489bd7a665" />
          </a>
          Powered by the <a href="http://www.rackspace.com ">Dedicated
          Servers</a> and<br/> <a href="http://www.rackspacecloud.com">Cloud
          Computing</a> of Rackspace Hosting<span>&reg;</span>
        </div>

        <ul class="links">
          <li class="blog"><a href="https://github.com/blog">Blog</a></li>
          <li><a href="http://support.github.com">Support</a></li>
          <li><a href="https://github.com/training">Training</a></li>
          <li><a href="http://jobs.github.com">Job Board</a></li>
          <li><a href="http://shop.github.com">Shop</a></li>
          <li><a href="https://github.com/contact">Contact</a></li>
          <li><a href="http://develop.github.com">API</a></li>
          <li><a href="http://status.github.com">Status</a></li>
        </ul>
        <ul class="sosueme">
          <li class="main">&copy; 2010 <span id="_rrt" title="0.06559s from fe3.rs.github.com">GitHub</span> Inc. All rights reserved.</li>
          <li><a href="/site/terms">Terms of Service</a></li>
          <li><a href="/site/privacy">Privacy</a></li>
          <li><a href="https://github.com/security">Security</a></li>
        </ul>
      </div>
    </div><!-- /#footer -->

    
      
      
        <!-- current locale:  -->
        <div class="locales">
          <div class="site">

            <ul class="choices clearfix limited-locales">
              <li><span class="current">English</span></li>
              
                  <li><a rel="nofollow" href="?locale=de">Deutsch</a></li>
              
                  <li><a rel="nofollow" href="?locale=fr">Français</a></li>
              
                  <li><a rel="nofollow" href="?locale=ja">日本語</a></li>
              
                  <li><a rel="nofollow" href="?locale=pt-BR">Português (BR)</a></li>
              
                  <li><a rel="nofollow" href="?locale=ru">Русский</a></li>
              
                  <li><a rel="nofollow" href="?locale=zh">中文</a></li>
              
              <li class="all"><a href="#" class="minibutton btn-forward js-all-locales"><span><span class="icon"></span>See all available languages</span></a></li>
            </ul>

            <div class="all-locales clearfix">
              <h3>Your current locale selection: <strong>English</strong>. Choose another?</h3>
              
              
                <ul class="choices">
                  
                      <li><a rel="nofollow" href="?locale=en">English</a></li>
                  
                      <li><a rel="nofollow" href="?locale=af">Afrikaans</a></li>
                  
                      <li><a rel="nofollow" href="?locale=ca">Català</a></li>
                  
                      <li><a rel="nofollow" href="?locale=cs">Čeština</a></li>
                  
                </ul>
              
                <ul class="choices">
                  
                      <li><a rel="nofollow" href="?locale=de">Deutsch</a></li>
                  
                      <li><a rel="nofollow" href="?locale=es">Español</a></li>
                  
                      <li><a rel="nofollow" href="?locale=fr">Français</a></li>
                  
                      <li><a rel="nofollow" href="?locale=hr">Hrvatski</a></li>
                  
                </ul>
              
                <ul class="choices">
                  
                      <li><a rel="nofollow" href="?locale=id">Indonesia</a></li>
                  
                      <li><a rel="nofollow" href="?locale=it">Italiano</a></li>
                  
                      <li><a rel="nofollow" href="?locale=ja">日本語</a></li>
                  
                      <li><a rel="nofollow" href="?locale=nl">Nederlands</a></li>
                  
                </ul>
              
                <ul class="choices">
                  
                      <li><a rel="nofollow" href="?locale=no">Norsk</a></li>
                  
                      <li><a rel="nofollow" href="?locale=pl">Polski</a></li>
                  
                      <li><a rel="nofollow" href="?locale=pt-BR">Português (BR)</a></li>
                  
                      <li><a rel="nofollow" href="?locale=ru">Русский</a></li>
                  
                </ul>
              
                <ul class="choices">
                  
                      <li><a rel="nofollow" href="?locale=sr">Српски</a></li>
                  
                      <li><a rel="nofollow" href="?locale=sv">Svenska</a></li>
                  
                      <li><a rel="nofollow" href="?locale=zh">中文</a></li>
                  
                </ul>
              
            </div>

          </div>
          <div class="fade"></div>
        </div>
      
    

    <script>window._auth_token = "c512b96a16bddeb79382a8b9ee2a48ed45c20b18"</script>
    <div id="keyboard_shortcuts_pane" style="display:none">
  <h2>Keyboard Shortcuts</h2>

  <div class="columns threecols">
    <div class="column first">
      <h3>Site wide shortcuts</h3>
      <dl class="keyboard-mappings">
        <dt>s</dt>
        <dd>Focus site search</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>?</dt>
        <dd>Bring up this help dialog</dd>
      </dl>
    </div><!-- /.column.first -->
    <div class="column middle">
      <h3>Commit list</h3>
      <dl class="keyboard-mappings">
        <dt>j</dt>
        <dd>Move selected down</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>k</dt>
        <dd>Move selected up</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>t</dt>
        <dd>Open tree</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>p</dt>
        <dd>Open parent</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>c <em>or</em> o <em>or</em> enter</dt>
        <dd>Open commit</dd>
      </dl>
    </div><!-- /.column.first -->
    <div class="column last">
      <h3>Pull request list</h3>
      <dl class="keyboard-mappings">
        <dt>j</dt>
        <dd>Move selected down</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>k</dt>
        <dd>Move selected up</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>o <em>or</em> enter</dt>
        <dd>Open issue</dd>
      </dl>
    </div><!-- /.columns.last -->
  </div><!-- /.columns.equacols -->

  <div class="rule"></div>

  <h3>Issues</h3>

  <div class="columns threecols">
    <div class="column first">
      <dl class="keyboard-mappings">
        <dt>j</dt>
        <dd>Move selected down</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>k</dt>
        <dd>Move selected up</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>x</dt>
        <dd>Toggle select target</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>o <em>or</em> enter</dt>
        <dd>Open issue</dd>
      </dl>
    </div><!-- /.column.first -->
    <div class="column middle">
      <dl class="keyboard-mappings">
        <dt>I</dt>
        <dd>Mark selected as read</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>U</dt>
        <dd>Mark selected as unread</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>e</dt>
        <dd>Close selected</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>y</dt>
        <dd>Remove selected from view</dd>
      </dl>
    </div><!-- /.column.middle -->
    <div class="column last">
      <dl class="keyboard-mappings">
        <dt>c</dt>
        <dd>Create issue</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>l</dt>
        <dd>Create label</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>i</dt>
        <dd>Back to inbox</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>u</dt>
        <dd>Back to issues</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>/</dt>
        <dd>Focus issues search</dd>
      </dl>
    </div>
  </div>

  <div class="rule"></div>

  <h3>Network Graph</h3>
  <div class="columns equacols">
    <div class="column first">
      <dl class="keyboard-mappings">
        <dt>← <em>or</em> h</dt>
        <dd>Scroll left</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>→ <em>or</em> l</dt>
        <dd>Scroll right</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>↑ <em>or</em> k</dt>
        <dd>Scroll up</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>↓ <em>or</em> j</dt>
        <dd>Scroll down</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>t</dt>
        <dd>Toggle visibility of head labels</dd>
      </dl>
    </div><!-- /.column.first -->
    <div class="column last">
      <dl class="keyboard-mappings">
        <dt>shift ← <em>or</em> shift h</dt>
        <dd>Scroll all the way left</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>shift → <em>or</em> shift l</dt>
        <dd>Scroll all the way right</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>shift ↑ <em>or</em> shift k</dt>
        <dd>Scroll all the way up</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>shift ↓ <em>or</em> shift j</dt>
        <dd>Scroll all the way down</dd>
      </dl>
    </div><!-- /.column.last -->
  </div>

</div>
    

    <!--[if IE 8]>
    <script type="text/javascript" charset="utf-8">
      $(document.body).addClass("ie8")
    </script>
    <![endif]-->

    <!--[if IE 7]>
    <script type="text/javascript" charset="utf-8">
      $(document.body).addClass("ie7")
    </script>
    <![endif]-->

    <script type="text/javascript">
      _kmq.push(['trackClick', 'entice-signup-button', 'Entice banner clicked']);
      
    </script>
    
  </body>
</html>

