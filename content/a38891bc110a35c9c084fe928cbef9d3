
    

  

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
        <title>apenwarr/sshuttle - GitHub</title>
    <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub" />
    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub" />

    <link href="https://assets0.github.com/stylesheets/bundle_common.css?52a04f4d5bac1e6525ba43735c8142489bd7a665" media="screen" rel="stylesheet" type="text/css" />
<link href="https://assets3.github.com/stylesheets/bundle_github.css?52a04f4d5bac1e6525ba43735c8142489bd7a665" media="screen" rel="stylesheet" type="text/css" />

    <script type="text/javascript" charset="utf-8">
      var GitHub = {}
      var github_user = null
      
    </script>
    <script src="https://assets1.github.com/javascripts/jquery/jquery-1.4.2.min.js?52a04f4d5bac1e6525ba43735c8142489bd7a665" type="text/javascript"></script>
    <script src="https://assets1.github.com/javascripts/bundle_common.js?52a04f4d5bac1e6525ba43735c8142489bd7a665" type="text/javascript"></script>
<script src="https://assets2.github.com/javascripts/bundle_github.js?52a04f4d5bac1e6525ba43735c8142489bd7a665" type="text/javascript"></script>


        <script type="text/javascript" charset="utf-8">
      GitHub.spy({
        repo: "apenwarr/sshuttle"
      })
    </script>

    
  
    
  

  <link href="https://github.com/apenwarr/sshuttle/commits/master.atom" rel="alternate" title="Recent Commits to sshuttle:master" type="application/atom+xml" />

        <meta name="description" content="Transparent proxy server that works as a poor man's VPN.  Forwards over ssh.  Doesn't require admin access.  Works with Linux and MacOS, now including 10.6." />
    <script type="text/javascript">
      GitHub.nameWithOwner = GitHub.nameWithOwner || "apenwarr/sshuttle";
      GitHub.currentRef = 'master';
      GitHub.commitSHA = "41fd0348eb8f27d9c47d0b51c49fbf92d769ab5b";
      GitHub.currentPath = "";
      GitHub.masterBranch = "master";

      
        GitHub.currentTreeSHA = "41fd0348eb8f27d9c47d0b51c49fbf92d769ab5b";
      
    </script>
  

            <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-3769691-2']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script');
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        ga.setAttribute('async', 'true');
        document.documentElement.firstChild.appendChild(ga);
      })();
    </script>

  </head>

  

  <body class="logged_out ">
    

    
      <script type="text/javascript">
        var _kmq = _kmq || [];
        function _kms(u){
          var s = document.createElement('script'); var f = document.getElementsByTagName('script')[0]; s.type = 'text/javascript'; s.async = true;
          s.src = u; f.parentNode.insertBefore(s, f);
        }
        _kms('//i.kissmetrics.com/i.js');_kms('//doug1izaerwt3.cloudfront.net/406e8bf3a2b8846ead55afb3cfaf6664523e3a54.1.js');
      </script>
    

    

    

    

    <div class="subnavd" id="main">
      <div id="header" class="true">
        
          <a class="logo boring" href="https://github.com">
            <img src="/images/modules/header/logov3.png?changed" class="default" alt="github" />
            <![if !IE]>
            <img src="/images/modules/header/logov3-hover.png" class="hover" alt="github" />
            <![endif]>
          </a>
        
        
        <div class="topsearch">
  
    <ul class="nav logged_out">
      <li class="pricing"><a href="/plans">Pricing and Signup</a></li>
      <li><a href="/explore">Explore GitHub</a></li>
      <li><a href="/features">Features</a></li>
      <li><a href="/blog">Blog</a></li>
      <li><a href="https://github.com/login">Login</a></li>
    </ul>
  
</div>

      </div>

      
      
        
    <div class="site">
      <div class="pagehead repohead vis-public   ">

      

      <div class="title-actions-bar">
        <h1>
          <a href="/apenwarr">apenwarr</a> / <strong><a href="https://github.com/apenwarr/sshuttle">sshuttle</a></strong>
          
          
        </h1>

        
    <ul class="actions">
      

      
        <li class="for-owner" style="display:none"><a href="https://github.com/apenwarr/sshuttle/admin" class="minibutton btn-admin "><span><span class="icon"></span>Admin</span></a></li>
        <li>
          <a href="/apenwarr/sshuttle/toggle_watch" class="minibutton btn-watch " id="watch_button" onclick="var f = document.createElement('form'); f.style.display = 'none'; this.parentNode.appendChild(f); f.method = 'POST'; f.action = this.href;var s = document.createElement('input'); s.setAttribute('type', 'hidden'); s.setAttribute('name', 'authenticity_token'); s.setAttribute('value', '756e85818e3548ef8142a77a8e70f982218498bb'); f.appendChild(s);f.submit();return false;" style="display:none"><span><span class="icon"></span>Watch</span></a>
          <a href="/apenwarr/sshuttle/toggle_watch" class="minibutton btn-watch " id="unwatch_button" onclick="var f = document.createElement('form'); f.style.display = 'none'; this.parentNode.appendChild(f); f.method = 'POST'; f.action = this.href;var s = document.createElement('input'); s.setAttribute('type', 'hidden'); s.setAttribute('name', 'authenticity_token'); s.setAttribute('value', '756e85818e3548ef8142a77a8e70f982218498bb'); f.appendChild(s);f.submit();return false;" style="display:none"><span><span class="icon"></span>Unwatch</span></a>
        </li>
        
          
            <li class="for-notforked" style="display:none"><a href="/apenwarr/sshuttle/fork" class="minibutton btn-fork " id="fork_button" onclick="var f = document.createElement('form'); f.style.display = 'none'; this.parentNode.appendChild(f); f.method = 'POST'; f.action = this.href;var s = document.createElement('input'); s.setAttribute('type', 'hidden'); s.setAttribute('name', 'authenticity_token'); s.setAttribute('value', '756e85818e3548ef8142a77a8e70f982218498bb'); f.appendChild(s);f.submit();return false;"><span><span class="icon"></span>Fork</span></a></li>
            <li class="for-hasfork" style="display:none"><a href="#" class="minibutton btn-fork " id="your_fork_button"><span><span class="icon"></span>Your Fork</span></a></li>
          

          
        
      
      
      <li class="repostats">
        <ul class="repo-stats">
          <li class="watchers"><a href="/apenwarr/sshuttle/watchers" title="Watchers" class="tooltipped downwards">233</a></li>
          <li class="forks"><a href="/apenwarr/sshuttle/network" title="Forks" class="tooltipped downwards">8</a></li>
        </ul>
      </li>
    </ul>

      </div>

        
  <ul class="tabs">
    <li><a href="https://github.com/apenwarr/sshuttle" class="selected" highlight="repo_source">Source</a></li>
    <li><a href="https://github.com/apenwarr/sshuttle/commits/master" highlight="repo_commits">Commits</a></li>
    <li><a href="/apenwarr/sshuttle/network" highlight="repo_network">Network</a></li>
    <li><a href="/apenwarr/sshuttle/pulls" highlight="repo_pulls">Pull Requests (2)</a></li>

    

    

    
    <li><a href="/apenwarr/sshuttle/graphs" highlight="repo_graphs">Graphs</a></li>

    <li class="contextswitch nochoices">
      <span class="toggle leftwards" >
        <em>Branch:</em>
        <code>master</code>
      </span>
    </li>
  </ul>

  <div style="display:none" id="pl-description"><p><em class="placeholder">click here to add a description</em></p></div>
  <div style="display:none" id="pl-homepage"><p><em class="placeholder">click here to add a homepage</em></p></div>

  <div class="subnav-bar">
  
  <ul>
    <li>
      <a href="#" class="dropdown">Switch Branches (1)</a>
      <ul>
        
          
            <li><strong>master &#x2713;</strong></li>
            
      </ul>
    </li>
    <li>
      <a href="#" class="dropdown ">Switch Tags (10)</a>
              <ul>
                      
              <li><a href="/apenwarr/sshuttle/tree/sshuttle-0.43a">sshuttle-0.43a</a></li>
            
                      
              <li><a href="/apenwarr/sshuttle/tree/sshuttle-0.43">sshuttle-0.43</a></li>
            
                      
              <li><a href="/apenwarr/sshuttle/tree/sshuttle-0.42">sshuttle-0.42</a></li>
            
                      
              <li><a href="/apenwarr/sshuttle/tree/sshuttle-0.41">sshuttle-0.41</a></li>
            
                      
              <li><a href="/apenwarr/sshuttle/tree/sshuttle-0.40">sshuttle-0.40</a></li>
            
                      
              <li><a href="/apenwarr/sshuttle/tree/sshuttle-0.31">sshuttle-0.31</a></li>
            
                      
              <li><a href="/apenwarr/sshuttle/tree/sshuttle-0.30">sshuttle-0.30</a></li>
            
                      
              <li><a href="/apenwarr/sshuttle/tree/sshuttle-0.20">sshuttle-0.20</a></li>
            
                      
              <li><a href="/apenwarr/sshuttle/tree/sshuttle-0.11">sshuttle-0.11</a></li>
            
                      
              <li><a href="/apenwarr/sshuttle/tree/sshuttle-0.10">sshuttle-0.10</a></li>
            
                  </ul>
      
    </li>
    <li>
    
    <a href="/apenwarr/sshuttle/branches" class="manage">Branch List</a>
    
    </li>
  </ul>
</div>

  
  
  
  
  
  



        
    <div id="repo_details" class="metabox clearfix">
      <div id="repo_details_loader" class="metabox-loader" style="display:none">Sending Request&hellip;</div>

        <a href="/apenwarr/sshuttle/downloads" class="download-source" id="download_button" title="Download source, tagged packages and binaries."><span class="icon"></span>Downloads</a>

      <div id="repository_desc_wrapper">
      <div id="repository_description" rel="repository_description_edit">
        
          <p>Transparent proxy server that works as a poor man's VPN.  Forwards over ssh.  Doesn't require admin access.  Works with Linux and MacOS, now including 10.6.
            <span id="read_more" style="display:none">&mdash; <a href="#readme">Read more</a></span>
          </p>
        
      </div>

      <div id="repository_description_edit" style="display:none;" class="inline-edit">
        <form action="/apenwarr/sshuttle/admin/update" method="post"><div style="margin:0;padding:0"><input name="authenticity_token" type="hidden" value="756e85818e3548ef8142a77a8e70f982218498bb" /></div>
          <input type="hidden" name="field" value="repository_description">
          <input type="text" class="textfield" name="value" value="Transparent proxy server that works as a poor man's VPN.  Forwards over ssh.  Doesn't require admin access.  Works with Linux and MacOS, now including 10.6.">
          <div class="form-actions">
            <button class="minibutton"><span>Save</span></button> &nbsp; <a href="#" class="cancel">Cancel</a>
          </div>
        </form>
      </div>

      
      <div class="repository-homepage" id="repository_homepage" rel="repository_homepage_edit">
        <p><a href="http://" rel="nofollow"></a></p>
      </div>

      <div id="repository_homepage_edit" style="display:none;" class="inline-edit">
        <form action="/apenwarr/sshuttle/admin/update" method="post"><div style="margin:0;padding:0"><input name="authenticity_token" type="hidden" value="756e85818e3548ef8142a77a8e70f982218498bb" /></div>
          <input type="hidden" name="field" value="repository_homepage">
          <input type="text" class="textfield" name="value" value="">
          <div class="form-actions">
            <button class="minibutton"><span>Save</span></button> &nbsp; <a href="#" class="cancel">Cancel</a>
          </div>
        </form>
      </div>
      </div>
      <div class="rule "></div>
            <div id="url_box" class="url-box">
        <ul class="clone-urls">
          
            
            <li id="http_clone_url"><a href="https://github.com/apenwarr/sshuttle.git" data-permissions="Read-Only">HTTP</a></li>
            <li id="public_clone_url"><a href="git://github.com/apenwarr/sshuttle.git" data-permissions="Read-Only">Git Read-Only</a></li>
          
          
        </ul>
        <input type="text" spellcheck="false" id="url_field" class="url-field" />
              <span style="display:none" id="url_box_clippy"></span>
      <span id="clippy_tooltip_url_box_clippy" class="clippy-tooltip tooltipped" title="copy to clipboard">
      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"
              width="14"
              height="14"
              class="clippy"
              id="clippy" >
      <param name="movie" value="https://assets1.github.com/flash/clippy.swf?v5"/>
      <param name="allowScriptAccess" value="always" />
      <param name="quality" value="high" />
      <param name="scale" value="noscale" />
      <param NAME="FlashVars" value="id=url_box_clippy&amp;copied=&amp;copyto=">
      <param name="bgcolor" value="#FFFFFF">
      <param name="wmode" value="opaque">
      <embed src="https://assets1.github.com/flash/clippy.swf?v5"
             width="14"
             height="14"
             name="clippy"
             quality="high"
             allowScriptAccess="always"
             type="application/x-shockwave-flash"
             pluginspage="http://www.macromedia.com/go/getflashplayer"
             FlashVars="id=url_box_clippy&amp;copied=&amp;copyto="
             bgcolor="#FFFFFF"
             wmode="opaque"
      />
      </object>
      </span>

        <p id="url_description">This URL has <strong>Read+Write</strong> access</p>
      </div>
    </div>


        

      </div><!-- /.pagehead -->

      









<script type="text/javascript">
  GitHub.currentCommitRef = 'master'
  GitHub.currentRepoOwner = 'apenwarr'
  GitHub.currentRepo = "sshuttle"
  GitHub.downloadRepo = '/apenwarr/sshuttle/archives/master'
  GitHub.revType = "master"

  GitHub.controllerName = "tree"
  GitHub.actionName     = "show"
  GitHub.currentAction  = "tree#show"

  

  
</script>








  <div id="commit">
    <div class="group">
        
  <div class="envelope commit">
    <div class="human">
      
        <div class="message"><pre><a href="/apenwarr/sshuttle/commit/41fd0348eb8f27d9c47d0b51c49fbf92d769ab5b">Fix a bug when packets are received on a channel after it closes.</a> </pre></div>
      

      <div class="actor">
        <div class="gravatar">
          
          <img src="https://secure.gravatar.com/avatar/918b627daf7d848cd40770ed6cd15233?s=140&d=https%3A%2F%2Fgithub.com%2Fimages%2Fgravatars%2Fgravatar-140.png" alt="" width="30" height="30"  />
        </div>
        <div class="name"><a href="/apenwarr">apenwarr</a> <span>(author)</span></div>
        <div class="date">
          <abbr class="relatize" title="2010-12-11 17:27:12">Sat Dec 11 17:27:12 -0800 2010</abbr>
        </div>
      </div>

      

    </div>
    <div class="machine">
      <span>c</span>ommit&nbsp;&nbsp;<a href="/apenwarr/sshuttle/commit/41fd0348eb8f27d9c47d0b51c49fbf92d769ab5b" hotkey="c">41fd0348eb8f27d9c47d</a><br />
      <span>t</span>ree&nbsp;&nbsp;&nbsp;&nbsp;<a href="/apenwarr/sshuttle/tree/41fd0348eb8f27d9c47d0b51c49fbf92d769ab5b" hotkey="t">ddcddbfd75f1ada616c8</a><br />
      
        <span>p</span>arent&nbsp;
        
        <a href="/apenwarr/sshuttle/tree/1907048dad40c5cd6e8b13fe093b6cdf5598b9ff" hotkey="p">1907048dad40c5cd6e8b</a>
      

    </div>
  </div>

    </div>
  </div>



<div id="slider">
  
    <div class="breadcrumb" data-path="/">
      <b><a href="/apenwarr/sshuttle/tree/41fd0348eb8f27d9c47d0b51c49fbf92d769ab5b">sshuttle</a></b> / 
    </div>

    
      


  <div class="frames">
    <div class="frame frame-center" data-path="/">
      <table id="browser" cellpadding="0" cellspacing="0">
        <tr class="header">
          <th></th>
          <th>name</th>
          <th>age</th>
          <th>
            <div class="history">
              <a href="/apenwarr/sshuttle/commits/master/">history</a>
            </div>
            message
          </th>
        </tr>

        

        
        
                    <tr class="alt">
            <td class="icon"> <img alt="directory" src="https://assets1.github.com/images/icons/dir.png?52a04f4d5bac1e6525ba43735c8142489bd7a665" /> </td>
            <td class="content"> <a href="/apenwarr/sshuttle/tree/41fd0348eb8f27d9c47d0b51c49fbf92d769ab5b/compat" class="js-slide-to" id="e99a9a3765c4de300852169e236bb99c9f5ac21a">compat/</a></td>
            
            <td class="age"> <span class="relatize">Fri Oct 01 19:26:56 -0700 2010</span> </td>
            <td class="message"> <a href="/apenwarr/sshuttle/commit/52fbb2ebbea3fef2c4876c16a93408c1dba9b28a" class="message" title="compat/ssubprocess.py: some python versions don't have os.closerange().">compat/ssubprocess.py: some python versions don...</a> [<a href="/apenwarr">apenwarr</a>] </td>
          </tr>
        
                    <tr class="">
            <td class="icon"> <img alt="file" src="https://assets2.github.com/images/icons/txt.png?52a04f4d5bac1e6525ba43735c8142489bd7a665" /> </td>
            <td class="content"> <a href="/apenwarr/sshuttle/blob/41fd0348eb8f27d9c47d0b51c49fbf92d769ab5b/.gitignore" class="js-slide-to" id="b7f8e7e7b887bc7eb73a4a7be3e7e7482f4de0aa">.gitignore</a></td>
            
            <td class="age"> <span class="relatize">Tue Nov 09 01:59:51 -0800 2010</span> </td>
            <td class="message"> <a href="/apenwarr/sshuttle/commit/ef717518464ec71827c86e0dce12b7765b3ffc5b" class="message" title="Add a sshuttle.8 manpage.">Add a sshuttle.8 manpage.</a> [<a href="/apenwarr">apenwarr</a>] </td>
          </tr>
        
                    <tr class="alt">
            <td class="icon"> <img alt="file" src="https://assets2.github.com/images/icons/txt.png?52a04f4d5bac1e6525ba43735c8142489bd7a665" /> </td>
            <td class="content"> <a href="/apenwarr/sshuttle/blob/41fd0348eb8f27d9c47d0b51c49fbf92d769ab5b/LICENSE" class="js-slide-to" id="eb685a5ec981b949faa391ad3fc395cd42932510">LICENSE</a></td>
            
            <td class="age"> <span class="relatize">Sat May 01 13:15:37 -0700 2010</span> </td>
            <td class="message"> <a href="/apenwarr/sshuttle/commit/2f3c86e962f4262f3c23a1360341accb3fc56533" class="message" title="Initial commit.">Initial commit.</a> [<a href="/apenwarr">apenwarr</a>] </td>
          </tr>
        
                    <tr class="">
            <td class="icon"> <img alt="file" src="https://assets2.github.com/images/icons/txt.png?52a04f4d5bac1e6525ba43735c8142489bd7a665" /> </td>
            <td class="content"> <a href="/apenwarr/sshuttle/blob/41fd0348eb8f27d9c47d0b51c49fbf92d769ab5b/Makefile" class="js-slide-to" id="59588718e27355abce804b38b8cdc556928cc988">Makefile</a></td>
            
            <td class="age"> <span class="relatize">Tue Nov 09 01:59:51 -0800 2010</span> </td>
            <td class="message"> <a href="/apenwarr/sshuttle/commit/ef717518464ec71827c86e0dce12b7765b3ffc5b" class="message" title="Add a sshuttle.8 manpage.">Add a sshuttle.8 manpage.</a> [<a href="/apenwarr">apenwarr</a>] </td>
          </tr>
        
                    <tr class="alt">
            <td class="icon"> <img alt="file" src="https://assets2.github.com/images/icons/txt.png?52a04f4d5bac1e6525ba43735c8142489bd7a665" /> </td>
            <td class="content"> <a href="/apenwarr/sshuttle/blob/41fd0348eb8f27d9c47d0b51c49fbf92d769ab5b/README.md" class="js-slide-to" id="6762f72b7fb5752dbdcb1b41d59e4036e31f8a51">README.md</a></td>
            
            <td class="age"> <span class="relatize">Mon Nov 08 23:35:16 -0800 2010</span> </td>
            <td class="message"> <a href="/apenwarr/sshuttle/commit/bcf189230579f62afd5f826a32b938e28bf047d6" class="message" title="Make password prompting more clear.">Make password prompting more clear.</a> [<a href="/apenwarr">apenwarr</a>] </td>
          </tr>
        
                    <tr class="">
            <td class="icon"> <img alt="file" src="https://assets2.github.com/images/icons/txt.png?52a04f4d5bac1e6525ba43735c8142489bd7a665" /> </td>
            <td class="content"> <a href="/apenwarr/sshuttle/blob/41fd0348eb8f27d9c47d0b51c49fbf92d769ab5b/assembler.py" class="js-slide-to" id="c478e3723b1280b10e977ee4a14a5e7f0b358701">assembler.py</a></td>
            
            <td class="age"> <span class="relatize">Fri May 07 17:02:04 -0700 2010</span> </td>
            <td class="message"> <a href="/apenwarr/sshuttle/commit/7043195043d5a1885235833804ae7f90404e4a46" class="message" title="Add -N (--auto-nets) option for auto-discovering subnets.">Add -N (--auto-nets) option for auto-discoverin...</a> [<a href="/apenwarr">apenwarr</a>] </td>
          </tr>
        
                    <tr class="alt">
            <td class="icon"> <img alt="file" src="https://assets2.github.com/images/icons/txt.png?52a04f4d5bac1e6525ba43735c8142489bd7a665" /> </td>
            <td class="content"> <a href="/apenwarr/sshuttle/blob/41fd0348eb8f27d9c47d0b51c49fbf92d769ab5b/client.py" class="js-slide-to" id="0301ca0d2244139c2d6f992c966222a3b2005288">client.py</a></td>
            
            <td class="age"> <span class="relatize">Tue Nov 09 00:17:01 -0800 2010</span> </td>
            <td class="message"> <a href="/apenwarr/sshuttle/commit/32b4defa9b55ba8a214373a408ef6b42c9a58414" class="message" title="Add a new --ssh-cmd= option to let you override the ssh command.">Add a new --ssh-cmd= option to let you override...</a> [<a href="/apenwarr">apenwarr</a>] </td>
          </tr>
        
                    <tr class="">
            <td class="icon"> <img alt="file" src="https://assets2.github.com/images/icons/txt.png?52a04f4d5bac1e6525ba43735c8142489bd7a665" /> </td>
            <td class="content"> <a href="/apenwarr/sshuttle/blob/41fd0348eb8f27d9c47d0b51c49fbf92d769ab5b/firewall.py" class="js-slide-to" id="36ba768d865c280f4cb619e3f778358acd48cc21">firewall.py</a></td>
            
            <td class="age"> <span class="relatize">Sat Oct 16 19:11:30 -0700 2010</span> </td>
            <td class="message"> <a href="/apenwarr/sshuttle/commit/fe742c928d3a134aab9ced7fa316b04b9bbfbf3f" class="message" title="firewall.py: don't die if a given sysctl doesn't exist.">firewall.py: don't die if a given sysctl doesn'...</a> [<a href="/apenwarr">apenwarr</a>] </td>
          </tr>
        
                    <tr class="alt">
            <td class="icon"> <img alt="file" src="https://assets2.github.com/images/icons/txt.png?52a04f4d5bac1e6525ba43735c8142489bd7a665" /> </td>
            <td class="content"> <a href="/apenwarr/sshuttle/blob/41fd0348eb8f27d9c47d0b51c49fbf92d769ab5b/helpers.py" class="js-slide-to" id="18871a21477a50db8b24d34a30391074cecbd0fa">helpers.py</a></td>
            
            <td class="age"> <span class="relatize">Fri Oct 01 14:38:08 -0700 2010</span> </td>
            <td class="message"> <a href="/apenwarr/sshuttle/commit/c403a83ab83c36df6938d3b4cb883999b49f5eec" class="message" title="Don't use set() since it's not in python 2.3.">Don't use set() since it's not in python 2.3.</a> [<a href="/apenwarr">apenwarr</a>] </td>
          </tr>
        
                    <tr class="">
            <td class="icon"> <img alt="file" src="https://assets2.github.com/images/icons/txt.png?52a04f4d5bac1e6525ba43735c8142489bd7a665" /> </td>
            <td class="content"> <a href="/apenwarr/sshuttle/blob/41fd0348eb8f27d9c47d0b51c49fbf92d769ab5b/hostwatch.py" class="js-slide-to" id="d77a58f60252e4c45e470c933421e66c3672670f">hostwatch.py</a></td>
            
            <td class="age"> <span class="relatize">Fri Oct 01 12:11:48 -0700 2010</span> </td>
            <td class="message"> <a href="/apenwarr/sshuttle/commit/da774f3f460e1e3ef27a1ffbbf34c33d70c6659d" class="message" title="import and use subprocess.py from python 2.6.">import and use subprocess.py from python 2.6.</a> [<a href="/apenwarr">apenwarr</a>] </td>
          </tr>
        
                    <tr class="alt">
            <td class="icon"> <img alt="file" src="https://assets2.github.com/images/icons/txt.png?52a04f4d5bac1e6525ba43735c8142489bd7a665" /> </td>
            <td class="content"> <a href="/apenwarr/sshuttle/blob/41fd0348eb8f27d9c47d0b51c49fbf92d769ab5b/main.py" class="js-slide-to" id="eab4e5b060041acf7463117b5b93e102bf025960">main.py</a></td>
            
            <td class="age"> <span class="relatize">Tue Nov 09 00:17:01 -0800 2010</span> </td>
            <td class="message"> <a href="/apenwarr/sshuttle/commit/32b4defa9b55ba8a214373a408ef6b42c9a58414" class="message" title="Add a new --ssh-cmd= option to let you override the ssh command.">Add a new --ssh-cmd= option to let you override...</a> [<a href="/apenwarr">apenwarr</a>] </td>
          </tr>
        
                    <tr class="">
            <td class="icon"> <img alt="file" src="https://assets2.github.com/images/icons/txt.png?52a04f4d5bac1e6525ba43735c8142489bd7a665" /> </td>
            <td class="content"> <a href="/apenwarr/sshuttle/blob/41fd0348eb8f27d9c47d0b51c49fbf92d769ab5b/options.py" class="js-slide-to" id="5ff2a850a546007e9ff72e698518b8471a9946ee">options.py</a></td>
            
            <td class="age"> <span class="relatize">Tue Sep 21 18:03:17 -0700 2010</span> </td>
            <td class="message"> <a href="/apenwarr/sshuttle/commit/2ef1c6a4c49824c18ed8ee3dee3d9d76b651c291" class="message" title="latest options.py from bup, now with tty-width guessing.">latest options.py from bup, now with tty-width ...</a> [<a href="/apenwarr">apenwarr</a>] </td>
          </tr>
        
                    <tr class="alt">
            <td class="icon"> <img alt="file" src="https://assets2.github.com/images/icons/txt.png?52a04f4d5bac1e6525ba43735c8142489bd7a665" /> </td>
            <td class="content"> <a href="/apenwarr/sshuttle/blob/41fd0348eb8f27d9c47d0b51c49fbf92d769ab5b/server.py" class="js-slide-to" id="08af657e8ee0045d9cf7fc82558accba1ae48a03">server.py</a></td>
            
            <td class="age"> <span class="relatize">Mon Oct 04 02:47:43 -0700 2010</span> </td>
            <td class="message"> <a href="/apenwarr/sshuttle/commit/a32305a275eea70a2df22992eb0f4e7483d8ca98" class="message" title="server.py: don't send partial hostwatch lists.">server.py: don't send partial hostwatch lists.</a> [<a href="/apenwarr">apenwarr</a>] </td>
          </tr>
        
                    <tr class="">
            <td class="icon"> <img alt="file" src="https://assets2.github.com/images/icons/txt.png?52a04f4d5bac1e6525ba43735c8142489bd7a665" /> </td>
            <td class="content"> <a href="/apenwarr/sshuttle/blob/41fd0348eb8f27d9c47d0b51c49fbf92d769ab5b/ssh.py" class="js-slide-to" id="dd9e0424d86dc01bf66c47b474ea23a01068708e">ssh.py</a></td>
            
            <td class="age"> <span class="relatize">Thu Dec 09 19:20:01 -0800 2010</span> </td>
            <td class="message"> <a href="/apenwarr/sshuttle/commit/918725c4857f8b6fc31813354ba29e152a83b751" class="message" title="Oops, earlier ipv6 patch didn't work if no -r option is specified.">Oops, earlier ipv6 patch didn't work if no -r o...</a> [<a href="/apenwarr">apenwarr</a>] </td>
          </tr>
        
                    <tr class="alt">
            <td class="icon"> <img alt="file" src="https://assets2.github.com/images/icons/txt.png?52a04f4d5bac1e6525ba43735c8142489bd7a665" /> </td>
            <td class="content"> <a href="/apenwarr/sshuttle/blob/41fd0348eb8f27d9c47d0b51c49fbf92d769ab5b/sshuttle" class="js-slide-to" id="11a5d8e18ab71465be9424cf930c5e792c75edb7">sshuttle</a></td>
            
            <td class="age"> <span class="relatize">Sat May 01 13:15:37 -0700 2010</span> </td>
            <td class="message"> <a href="/apenwarr/sshuttle/commit/2f3c86e962f4262f3c23a1360341accb3fc56533" class="message" title="Initial commit.">Initial commit.</a> [<a href="/apenwarr">apenwarr</a>] </td>
          </tr>
        
                    <tr class="">
            <td class="icon"> <img alt="file" src="https://assets2.github.com/images/icons/txt.png?52a04f4d5bac1e6525ba43735c8142489bd7a665" /> </td>
            <td class="content"> <a href="/apenwarr/sshuttle/blob/41fd0348eb8f27d9c47d0b51c49fbf92d769ab5b/sshuttle.md" class="js-slide-to" id="eb2983e0a4801df3f74d19e9a8dd08005b7cee68">sshuttle.md</a></td>
            
            <td class="age"> <span class="relatize">Tue Nov 09 01:59:51 -0800 2010</span> </td>
            <td class="message"> <a href="/apenwarr/sshuttle/commit/ef717518464ec71827c86e0dce12b7765b3ffc5b" class="message" title="Add a sshuttle.8 manpage.">Add a sshuttle.8 manpage.</a> [<a href="/apenwarr">apenwarr</a>] </td>
          </tr>
        
                    <tr class="alt">
            <td class="icon"> <img alt="file" src="https://assets2.github.com/images/icons/txt.png?52a04f4d5bac1e6525ba43735c8142489bd7a665" /> </td>
            <td class="content"> <a href="/apenwarr/sshuttle/blob/41fd0348eb8f27d9c47d0b51c49fbf92d769ab5b/ssnet.py" class="js-slide-to" id="c06498ffe9e0884d41c16d131d9dd8f953af7c81">ssnet.py</a></td>
            
            <td class="age"> <span class="relatize">Sat Dec 11 17:27:12 -0800 2010</span> </td>
            <td class="message"> <a href="/apenwarr/sshuttle/commit/41fd0348eb8f27d9c47d0b51c49fbf92d769ab5b" class="message" title="Fix a bug when packets are received on a channel after it closes.">Fix a bug when packets are received on a channe...</a> [<a href="/apenwarr">apenwarr</a>] </td>
          </tr>
        
      </table>
    </div>
  </div>
  <br style="clear:both;">


<br style="clear:both;">

<div class="frame frame-loading" style="display:none;">
  <img src="/images/modules/ajax/big_spinner_336699.gif">
</div>
    

  

      
    <div id="readme" class="announce md" data-path="/"><span class="name">README.md</span><div class="wikistyle"><h1>sshuttle: where transparent proxy meets VPN meets ssh</h1>

<p>As far as I know, sshuttle is the only program that solves the following
common case:</p>

<ul>
<li><p>Your client machine (or router) is Linux, FreeBSD, or MacOS.</p></li>
<li><p>You have access to a remote network via ssh.</p></li>
<li><p>You don't necessarily have admin access on the remote network.</p></li>
<li><p>The remote network has no VPN, or only stupid/complex VPN
 protocols (IPsec, PPTP, etc). Or maybe you <i>are</i> the
 admin and you just got frustrated with the awful state of
 VPN tools.</p></li>
<li><p>You don't want to create an ssh port forward for every
 single host/port on the remote network.</p></li>
<li><p>You hate openssh's port forwarding because it's randomly
 slow and/or stupid.</p></li>
<li><p>You can't use openssh's PermitTunnel feature because
 it's disabled by default on openssh servers; plus it does
 TCP-over-TCP, which has terrible performance (see below).</p></li>
</ul><h2>Prerequisites</h2>

<ul>
<li><p>sudo, su, or logged in as root on your client machine.
(The server doesn't need admin access.)</p></li>
<li><p>If you use Linux on your client machine:
iptables installed on the client, including at
least the iptables DNAT, REDIRECT, and ttl modules.
These are installed by default on most Linux distributions.
(The server doesn't need iptables and doesn't need to be
Linux.)</p></li>
<li><p>If you use MacOS or BSD on your client machine:
Your kernel needs to be compiled with IPFIREWALL_FORWARD
(MacOS has this by default) and you need to have ipfw
available. (The server doesn't need to be MacOS or BSD.)</p></li>
</ul><h2>This is how you use it:</h2>

<ul>
<li><p><tt>git clone git://github.com/apenwarr/sshuttle</tt>
 on your client machine. You'll need root or sudo
 access, and python needs to be installed.</p></li>
<li><p><tt>./sshuttle -r username@sshserver 0.0.0.0/0 -vv</tt></p></li>
</ul><p>(You may be prompted for one or more passwords; first, the
local password to become root using either sudo or su, and
then the remote ssh password.  Or you might have sudo and ssh set
up to not require passwords, in which case you won't be
prompted at all.)</p>

<p>That's it!  Now your local machine can access the remote network as if you
were right there.  And if your "client" machine is a router, everyone on
your local network can make connections to your remote network.</p>

<p>You don't need to install sshuttle on the remote server;
the remote server just needs to have python available.
sshuttle will automatically upload and run its source code
to the remote python interpreter.</p>

<p>This creates a transparent proxy server on your local machine for all IP
addresses that match 0.0.0.0/0.  (You can use more specific IP addresses if
you want; use any number of IP addresses or subnets to change which
addresses get proxied.  Using 0.0.0.0/0 proxies <i>everything</i>, which is
interesting if you don't trust the people on your local network.)</p>

<p>Any TCP session you initiate to one of the proxied IP addresses will be
captured by sshuttle and sent over an ssh session to the remote copy of
sshuttle, which will then regenerate the connection on that end, and funnel
the data back and forth through ssh.</p>

<p>Fun, right?  A poor man's instant VPN, and you don't even have to have
admin access on the server.</p>

<h2>Theory of Operation</h2>

<p>sshuttle is not exactly a VPN, and not exactly port forwarding.  It's kind
of both, and kind of neither.</p>

<p>It's like a VPN, since it can forward every port on an entire network, not
just ports you specify.  Conveniently, it lets you use the "real" IP
addresses of each host rather than faking port numbers on localhost.</p>

<p>On the other hand, the way it <em>works</em> is more like ssh port forwarding than
a VPN.  Normally, a VPN forwards your data one packet at a time, and
doesn't care about individual connections; ie. it's "stateless" with respect
to the traffic.  sshuttle is the opposite of stateless; it tracks every
single connection.</p>

<p>You could compare sshuttle to something like the old <a href="http://en.wikipedia.org/wiki/Slirp">Slirp</a> program, which was a
userspace TCP/IP implementation that did something similar.  But it
operated on a packet-by-packet basis on the client side, reassembling the
packets on the server side.  That worked okay back in the "real live serial
port" days, because serial ports had predictable latency and buffering.</p>

<p>But you can't safely just forward TCP packets over a TCP session (like ssh),
because TCP's performance depends fundamentally on packet loss; it
<i>must</i> experience packet loss in order to know when to slow down!  At
the same time, the outer TCP session (ssh, in this case) is a reliable
transport, which means that what you forward through the tunnel <i>never</i>
experiences packet loss.  The ssh session itself experiences packet loss, of
course, but TCP fixes it up and ssh (and thus you) never know the
difference.  But neither does your inner TCP session, and extremely screwy
performance ensues.</p>

<p>sshuttle assembles the TCP stream locally, multiplexes it statefully over
an ssh session, and disassembles it back into packets at the other end.  So
it never ends up doing TCP-over-TCP.  It's just data-over-TCP, which is
safe.</p>

<h2>Useless Trivia</h2>

<p>Back in 1998 (12 years ago!  Yikes!), I released the first version of <a href="http://alumnit.ca/wiki/?TunnelVisionReadMe">Tunnel Vision</a>, a
semi-intelligent VPN client for Linux.  Unfortunately, I made two big mistakes:
I implemented the key exchange myself (oops), and I ended up doing
TCP-over-TCP (double oops).  The resulting program worked okay - and people
used it for years - but the performance was always a bit funny.  And nobody
ever found any security flaws in my key exchange, either, but that doesn't
mean anything. :)</p>

<p>The same year, dcoombs and I also released Fast Forward, a proxy server
supporting transparent proxying.  Among other things, we used it for
automatically splitting traffic across more than one Internet connection (a
tool we called "Double Vision").</p>

<p>I was still in university at the time.  A couple years after that, one of my
professors was working with some graduate students on the technology that
would eventually become <a href="http://www.slipstream.com/">Slipstream
Internet Acceleration</a>.  He asked me to do a contract for him to build an
initial prototype of a transparent proxy server for mobile networks.  The
idea was similar to sshuttle: if you reassemble and then disassemble the TCP
packets, you can reduce latency and improve performance vs.  just forwarding
the packets over a plain VPN or mobile network.  (It's unlikely that any of
my code has persisted in the Slipstream product today, but the concept is
still pretty cool.  I'm still horrified that people use plain TCP on
complex mobile networks with crazily variable latency, for which it was
never really intended.)</p>

<p>That project I did for Slipstream was what first gave me the idea to merge
the concepts of Fast Forward, Double Vision, and Tunnel Vision into a single
program that was the best of all worlds.  And here we are, at last, 10 years
later.  You're welcome.</p>

<p>--
Avery Pennarun <a href="mailto:apenwarr@gmail.com">apenwarr@gmail.com</a></p>

<p>Mailing list:
   Subscribe by sending a message to <a href="mailto:sshuttle+subscribe@googlegroups.com">sshuttle+subscribe@googlegroups.com</a>
   List archives are at: http://groups.google.com/group/sshuttle</p></div></div>
  </div>



    </div>
  
      
    </div>

    <div id="footer" class="clearfix">
      <div class="site">
        <div class="sponsor">
          <a href="http://www.rackspace.com" class="logo">
            <img alt="Dedicated Server" src="https://assets3.github.com/images/modules/footer/rackspace_logo.png?v2?52a04f4d5bac1e6525ba43735c8142489bd7a665" />
          </a>
          Powered by the <a href="http://www.rackspace.com ">Dedicated
          Servers</a> and<br/> <a href="http://www.rackspacecloud.com">Cloud
          Computing</a> of Rackspace Hosting<span>&reg;</span>
        </div>

        <ul class="links">
          <li class="blog"><a href="https://github.com/blog">Blog</a></li>
          <li><a href="http://support.github.com">Support</a></li>
          <li><a href="https://github.com/training">Training</a></li>
          <li><a href="http://jobs.github.com">Job Board</a></li>
          <li><a href="http://shop.github.com">Shop</a></li>
          <li><a href="https://github.com/contact">Contact</a></li>
          <li><a href="http://develop.github.com">API</a></li>
          <li><a href="http://status.github.com">Status</a></li>
        </ul>
        <ul class="sosueme">
          <li class="main">&copy; 2010 <span id="_rrt" title="0.11742s from fe6.rs.github.com">GitHub</span> Inc. All rights reserved.</li>
          <li><a href="/site/terms">Terms of Service</a></li>
          <li><a href="/site/privacy">Privacy</a></li>
          <li><a href="https://github.com/security">Security</a></li>
        </ul>
      </div>
    </div><!-- /#footer -->

    
      
      
        <!-- current locale:  -->
        <div class="locales">
          <div class="site">

            <ul class="choices clearfix limited-locales">
              <li><span class="current">English</span></li>
              
                  <li><a rel="nofollow" href="?locale=de">Deutsch</a></li>
              
                  <li><a rel="nofollow" href="?locale=fr">Français</a></li>
              
                  <li><a rel="nofollow" href="?locale=ja">日本語</a></li>
              
                  <li><a rel="nofollow" href="?locale=pt-BR">Português (BR)</a></li>
              
                  <li><a rel="nofollow" href="?locale=ru">Русский</a></li>
              
                  <li><a rel="nofollow" href="?locale=zh">中文</a></li>
              
              <li class="all"><a href="#" class="minibutton btn-forward js-all-locales"><span><span class="icon"></span>See all available languages</span></a></li>
            </ul>

            <div class="all-locales clearfix">
              <h3>Your current locale selection: <strong>English</strong>. Choose another?</h3>
              
              
                <ul class="choices">
                  
                      <li><a rel="nofollow" href="?locale=en">English</a></li>
                  
                      <li><a rel="nofollow" href="?locale=af">Afrikaans</a></li>
                  
                      <li><a rel="nofollow" href="?locale=ca">Català</a></li>
                  
                      <li><a rel="nofollow" href="?locale=cs">Čeština</a></li>
                  
                </ul>
              
                <ul class="choices">
                  
                      <li><a rel="nofollow" href="?locale=de">Deutsch</a></li>
                  
                      <li><a rel="nofollow" href="?locale=es">Español</a></li>
                  
                      <li><a rel="nofollow" href="?locale=fr">Français</a></li>
                  
                      <li><a rel="nofollow" href="?locale=hr">Hrvatski</a></li>
                  
                </ul>
              
                <ul class="choices">
                  
                      <li><a rel="nofollow" href="?locale=id">Indonesia</a></li>
                  
                      <li><a rel="nofollow" href="?locale=it">Italiano</a></li>
                  
                      <li><a rel="nofollow" href="?locale=ja">日本語</a></li>
                  
                      <li><a rel="nofollow" href="?locale=nl">Nederlands</a></li>
                  
                </ul>
              
                <ul class="choices">
                  
                      <li><a rel="nofollow" href="?locale=no">Norsk</a></li>
                  
                      <li><a rel="nofollow" href="?locale=pl">Polski</a></li>
                  
                      <li><a rel="nofollow" href="?locale=pt-BR">Português (BR)</a></li>
                  
                      <li><a rel="nofollow" href="?locale=ru">Русский</a></li>
                  
                </ul>
              
                <ul class="choices">
                  
                      <li><a rel="nofollow" href="?locale=sr">Српски</a></li>
                  
                      <li><a rel="nofollow" href="?locale=sv">Svenska</a></li>
                  
                      <li><a rel="nofollow" href="?locale=zh">中文</a></li>
                  
                </ul>
              
            </div>

          </div>
          <div class="fade"></div>
        </div>
      
    

    <script>window._auth_token = "756e85818e3548ef8142a77a8e70f982218498bb"</script>
    <div id="keyboard_shortcuts_pane" style="display:none">
  <h2>Keyboard Shortcuts</h2>

  <div class="columns threecols">
    <div class="column first">
      <h3>Site wide shortcuts</h3>
      <dl class="keyboard-mappings">
        <dt>s</dt>
        <dd>Focus site search</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>?</dt>
        <dd>Bring up this help dialog</dd>
      </dl>
    </div><!-- /.column.first -->
    <div class="column middle">
      <h3>Commit list</h3>
      <dl class="keyboard-mappings">
        <dt>j</dt>
        <dd>Move selected down</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>k</dt>
        <dd>Move selected up</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>t</dt>
        <dd>Open tree</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>p</dt>
        <dd>Open parent</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>c <em>or</em> o <em>or</em> enter</dt>
        <dd>Open commit</dd>
      </dl>
    </div><!-- /.column.first -->
    <div class="column last">
      <h3>Pull request list</h3>
      <dl class="keyboard-mappings">
        <dt>j</dt>
        <dd>Move selected down</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>k</dt>
        <dd>Move selected up</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>o <em>or</em> enter</dt>
        <dd>Open issue</dd>
      </dl>
    </div><!-- /.columns.last -->
  </div><!-- /.columns.equacols -->

  <div class="rule"></div>

  <h3>Issues</h3>

  <div class="columns threecols">
    <div class="column first">
      <dl class="keyboard-mappings">
        <dt>j</dt>
        <dd>Move selected down</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>k</dt>
        <dd>Move selected up</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>x</dt>
        <dd>Toggle select target</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>o <em>or</em> enter</dt>
        <dd>Open issue</dd>
      </dl>
    </div><!-- /.column.first -->
    <div class="column middle">
      <dl class="keyboard-mappings">
        <dt>I</dt>
        <dd>Mark selected as read</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>U</dt>
        <dd>Mark selected as unread</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>e</dt>
        <dd>Close selected</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>y</dt>
        <dd>Remove selected from view</dd>
      </dl>
    </div><!-- /.column.middle -->
    <div class="column last">
      <dl class="keyboard-mappings">
        <dt>c</dt>
        <dd>Create issue</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>l</dt>
        <dd>Create label</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>i</dt>
        <dd>Back to inbox</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>u</dt>
        <dd>Back to issues</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>/</dt>
        <dd>Focus issues search</dd>
      </dl>
    </div>
  </div>

  <div class="rule"></div>

  <h3>Network Graph</h3>
  <div class="columns equacols">
    <div class="column first">
      <dl class="keyboard-mappings">
        <dt>← <em>or</em> h</dt>
        <dd>Scroll left</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>→ <em>or</em> l</dt>
        <dd>Scroll right</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>↑ <em>or</em> k</dt>
        <dd>Scroll up</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>↓ <em>or</em> j</dt>
        <dd>Scroll down</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>t</dt>
        <dd>Toggle visibility of head labels</dd>
      </dl>
    </div><!-- /.column.first -->
    <div class="column last">
      <dl class="keyboard-mappings">
        <dt>shift ← <em>or</em> shift h</dt>
        <dd>Scroll all the way left</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>shift → <em>or</em> shift l</dt>
        <dd>Scroll all the way right</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>shift ↑ <em>or</em> shift k</dt>
        <dd>Scroll all the way up</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>shift ↓ <em>or</em> shift j</dt>
        <dd>Scroll all the way down</dd>
      </dl>
    </div><!-- /.column.last -->
  </div>

</div>
    

    <!--[if IE 8]>
    <script type="text/javascript" charset="utf-8">
      $(document.body).addClass("ie8")
    </script>
    <![endif]-->

    <!--[if IE 7]>
    <script type="text/javascript" charset="utf-8">
      $(document.body).addClass("ie7")
    </script>
    <![endif]-->

    <script type="text/javascript">
      _kmq.push(['trackClick', 'entice-signup-button', 'Entice banner clicked']);
      
    </script>
    
  </body>
</html>

