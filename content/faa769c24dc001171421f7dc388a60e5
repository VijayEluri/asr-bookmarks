<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  

  <head>
    <title>
      WhatIsLibpurple –
      Pidgin – Trac
    </title>
        <link rel="search" href="/search" />
        <link rel="help" href="/wiki/TracGuide" />
        <link rel="alternate" href="/wiki/WhatIsLibpurple?format=txt" type="text/x-trac-wiki" title="Plain Text" />
        <link rel="up" href="/wiki/WhatIsLibpurple" title="View Latest Version" />
        <link rel="start" href="/wiki" />
        <link rel="stylesheet" href="/chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="/chrome/common/css/wiki.css" type="text/css" />
        <link rel="shortcut icon" href="/static/pidgin.ico" type="image/x-icon" />
        <link rel="icon" href="/static/pidgin.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="/search/opensearch" title="Search Pidgin" />
    <script type="text/javascript" src="/chrome/common/js/jquery.js"></script><script type="text/javascript" src="/chrome/common/js/trac.js"></script><script type="text/javascript" src="/chrome/common/js/search.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("#content").find("h1,h2,h3,h4,h5,h6").addAnchor("Link to this section");
      });
    </script>
<style type="text/css">
@import url("/extension/pidgin/design/pidgin/stylesheets/style.css");
@import url("/static/pidgin-trac.css");
</style>
  </head>
  <body>
    <div id="BodyWrapper">
      <div id="Container">
        <div class="TopNavigation">
          <a href="http://pidgin.im/"><img class="TitleImage" alt="Pidgin" src="/static/images/pidgin_logo.jpg" height="58" width="133" /></a>
          <ul>
            <li><a href="http://pidgin.im/download">Download</a></li>
	    <li><a href="http://developer.pidgin.im/wiki/ThirdPartyPlugins">Plugins</a></li>
	    <li><a href="http://pidgin.im/support/">Help</a></li>
            <li><a href="http://pidgin.im/about">About</a></li>
            <li><a href="http://pidgin.im/news">News</a></li>
            <li class="Selected"><a href="http://developer.pidgin.im/">Development</a></li>
          </ul>
        </div>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://developer.pidgin.im/"><img src="/static/header.png" alt="" /></a>
      </div>
      <form id="search" action="/search" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="/login">Login</a></li><li><a href="/wiki/TracGuide">Help/Guide</a></li><li><a href="/about">About Trac</a></li><li><a href="/prefs">Preferences</a></li><li class="last"><a href="/register">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first active"><a href="/wiki">Wiki</a></li><li><a href="/timeline">Timeline</a></li><li><a href="/roadmap">Roadmap</a></li><li><a href="/query">View Tickets</a></li><li><a href="/search">Search</a></li><li class="last"><a href="/doxygen">API</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
            <li class="first "><a href="/wiki/WikiStart">Start Page</a></li><li><a href="/wiki/TitleIndex">Index</a></li><li><a href="/wiki/WhatIsLibpurple?action=history">History</a></li><li class="last"><a href="/wiki/WhatIsLibpurple?action=diff&amp;version=19">Last Change</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="wiki">
      <div class="wikipage searchable">
        
          <h1 id="Whatislibpurple">What is libpurple?</h1>
<p>
libpurple is intended to be the core of an IM program.  When using libpurple, you'll basically be writing a UI for this core chunk of code.  Pidgin is a GTK+ frontend to libpurple, Finch is an ncurses frontend, and Adium is a Cocoa frontend.
</p>
<h1 id="Whouseslibpurple">Who uses libpurple?</h1>
<ul><li><a class="ext-link" href="http://www.adium.im/"><span class="icon">Adium</span></a> - A user-friendly graphical IM program for OS X.
</li><li><a class="ext-link" href="http://www.apolloapp.com/"><span class="icon">Apollo IM</span></a> - IM application for the iPhone and iPod Touch.
</li><li><a class="ext-link" href="http://www.eqo.com/"><span class="icon">EQO</span></a> - An IM program for mobile phones.
</li><li><a href="http://pidgin.im/">Finch</a> - A text-based IM program that works well in Linux and other Unixes.
</li><li><a class="ext-link" href="http://instantbird.com/"><span class="icon">Instantbird</span></a> - A graphical IM program based on Mozilla's XUL framework.
</li><li><a class="ext-link" href="http://www.meebo.com/"><span class="icon">Meebo</span></a> - A web-based IM program.
</li><li><a class="ext-link" href="http://opensource.palm.com/packages.html"><span class="icon">Palm</span></a> - Maybe used in the messenger on the Palm Pre?
</li><li><a href="http://pidgin.im/">Pidgin</a> - A user-friendly graphical IM program for Windows, Linux and other Unixes.
</li><li><a class="wiki" href="/wiki/Telepathy">Telepathy-Haze</a> - A connection manager for the Telepathy IM framework.
</li><li><a class="ext-link" href="http://spectrum.im/"><span class="icon">Spectrum</span></a> - Open source XMPP transport/gateway.
</li></ul><h1 id="Howdoesitwork">How does it work?</h1>
<p>
You write a program in C or C++ that provides all the fancy windows and dialogs and anything that the user interacts with.  Your program uses our libpurple library to connect to the IM networks, manage accounts and preferences, and lots of other helpful little things.
</p>
<p>
Your program registers a bunch of callback functions, called "UI ops," with libpurple.  This is done by populating the appropriate uiops structures (eg. PurpleAccountUiOps, PurpleBlistUiOps, etc.) and making them available to the libpurple core (by calling purple_account_set_ui_ops, purple_blist_set_ui_ops, etc.).  These ui ops are triggered by specific events.  For example, the buddylist ui ops are used to update your buddylist window when a new buddy is added, or if a buddy goes away, or becomes idle, etc.  The same thing happens for conversations, logging etc.
</p>
<p>
While the uiops are sufficient for most of the ui operations, it's likely that you will want to use various libpurple signals, as well.
</p>
<h1 id="Canyougivemesomedetails">Can you give me some details?</h1>
<p>
Your application will first initialize the core (purple_core_init), add plugin-search paths, load the saved plugins, prefs etc.  Your best bet is to check out a copy of the source code and look at finch/finch.c:init_libpurple().
</p>
<h1 id="Isitthreaded">Is it threaded?</h1>
<p>
libpurple is <i>not</i> threadsafe. It should be accessed by an implementing UI only one thread <i>ever</i> (that is, do not attempt to use synchronization or locks to access it from multiple threads). Plugins can use multiple threads, but they must always call libpurple functions and callbacks on the thread on which they were initialized (typically the main thread of the program).
</p>
<p>
libpurple's run loop access occurs through eventloop.c; the UI must implement the UI Ops defined there and register them in order to watch sockets for new data and call timeout functions after a specified delay. For example, Pidgin uses the glib run loop, and Adium uses the Cocoa event run loop.
</p>
<h1 id="Wheretogetit">Where to get it?</h1>
<p>
You can find libpurple's source in Pidgin's source package.
</p>

        
        
      </div>
            <br />
            <div>
              Last Modified by hanzz, <a class="timeline" href="/timeline?from=2010-02-12T03%3A58%3A28Z-0500&amp;precision=second" title="2010-02-12T03:58:28Z-0500 in Timeline">10 months</a> ago
            </div>
        </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="last first">
          <a rel="nofollow" href="/wiki/WhatIsLibpurple?format=txt">Plain Text</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="/chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">
        Powered by <a href="/about"><strong>Trac 0.11.1</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.
      </p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
        <div style="color: #666; font-size: 11px; padding: 1em 0; text-align: center;">All information, including names and email addresses, entered onto this website or sent to mailing lists affiliated with this website will be <u>public</u>.  Do not post confidential information, especially passwords!</div>
      <br />
      </div>
    </div>
  
  <!-- Google Analytics Widget Code -->
<script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
  jQuery(document).ready( function() {
    var pageTracker = _gat._getTracker("UA-2814037-1");
    pageTracker._setDomainName(".pidgin.im");
    pageTracker._initData();
    pageTracker._trackPageview();
    jQuery('a').each( function() {
      var url;
      if ( this.href.match("http:\/\/developer.pidgin.im") ) {
        if ( this.href.match(/\.(.)$/) ) {
          url = this.pathname + this.search;
        };
      } else {
        var port = '';
        if ( this.port != '') port = ':'+this.port;
        url = '/external/' + this.hostname + port + this.pathname + this.search;
      };
      if ( url ) {
        if ( ! url.match('^\/attachment\/') ) {
          jQuery(this).click( function() {
            pageTracker._trackPageview(url);
          });
        };
      };
    });
  });
</script>
</body>
</html>