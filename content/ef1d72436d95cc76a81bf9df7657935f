<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>  Upload multiple files with a single file element | Stickblog</title> <!-- change to whatever you want as the title for your website -->
<meta name="generator" content="WordPress 3.0.1" /> <!-- leave this for stats -->
<meta name="keywords" content=" " /> <!-- enter a string of keywords that relate to your website inside the " " -->
<meta name="author" content=" " /><!-- enter your name inside the " "  -->
<meta name="description" content=" " /> <!-- enter site description inside the " "  -->
<meta name="robots" content="index, follow, noarchive" />
<meta name="googlebot" content="noarchive" />

<link rel="stylesheet" href="http://the-stickman.com/wp-content/themes/gathering-v02/style.css" type="text/css" media="screen" />
<link rel="alternate stylesheet" type="text/css" media="screen" title="red" href="/stylesheets/red.css" />
<link rel="alternate stylesheet" type="text/css" media="screen" title="blue" href="/stylesheets/blue.css" />
<link rel="alternate stylesheet" type="text/css" media="screen" title="orange" href="/stylesheets/orange.css" />
<link rel="alternate" type="application/rss+xml" title="Stickblog RSS Feed" href="http://the-stickman.com/feed/" />
<link rel="pingback" href="http://the-stickman.com/xmlrpc.php" />
<link rel="alternate" type="application/rss+xml" title="Stickblog &raquo; Upload multiple files with a single file element Comments Feed" href="http://the-stickman.com/web-development/javascript/upload-multiple-files-with-a-single-file-element/feed/" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://the-stickman.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://the-stickman.com/wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='Stickblog' href='http://the-stickman.com/' />
<link rel='start' title='This is not a blog. Honest.' href='http://the-stickman.com/general/this-is-not-a-blog-honest/' />
<link rel='prev' title='Dynamic forms and tables in Mozilla' href='http://the-stickman.com/web-development/dynamic-forms-and-tables-in-mozilla/' />
<link rel='next' title='Firefox Extension: View Rendered Source' href='http://the-stickman.com/web-development/firefox-extensions/firefox-extension-view-rendered-source/' />
<meta name="generator" content="WordPress 3.0.1" />
<link rel='canonical' href='http://the-stickman.com/web-development/javascript/upload-multiple-files-with-a-single-file-element/' />
<link rel='shortlink' href='http://the-stickman.com/?p=11' />

</script>
<style type="text/css">
#ad_hiddennetwork{
border-bottom: 2px solid gray; 
padding: 3px; 
font-family: verdana,helvetica,helv,sans-serif; 
background-color: #ccc; 
font-size: 7pt;
}
#ad_hiddennetwork a{
color:#009;
font-weight:bold;
}
#ad_hiddennetwork a:hover{
color:#33c;
font-weight:bold;
}
</style>
</head>
<body>

<div id="outercontainer">
<div id="container">
	<div id="header" onclick="location.href='http://the-stickman.com';" style="cursor: pointer;">
			<h1><a href="http://the-stickman.com">Stickblog</a></h1>
			<h3>Random developer notes</h3>
		</div>
		<div id="menu">
			<div id="menumain"><!-- Used for Page Highlighting -->
				<ul>
				<li class="page_item page-item-112"><a href="http://the-stickman.com/about-stickman/" title="About Stickman">About Stickman</a></li>
<li class="page_item page-item-145"><a href="http://the-stickman.com/using-code-from-this-site-ie-licence/" title="Using code from this site (i.e. licence)">Using code from this site (i.e. licence)</a></li>
				</ul>
			</div>
			</div><style type="text/css">
#maincontent{
margin-right:0px;
}
.navigation{
width:700px;
}
</style>
<div id="maincontent">
<!-- Main ad -->
<script type="text/javascript"><!--
google_ad_client = "pub-9416141041667067";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "text_image";
google_ad_channel ="2011275932";
google_color_border = "B4D0DC";
google_color_bg = "ECF8FF";
google_color_link = "0000CC";
google_color_url = "008000";
google_color_text = "6F6F6F";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

<span style="padding-left:20px;">
<!-- Firefox -->
<script type="text/javascript"><!--
google_ad_client = "pub-9416141041667067";
google_ad_width = 120;
google_ad_height = 60;
google_ad_format = "120x60_as_rimg";
google_cpa_choice = "CAAQl6_zzwEaCEm74-fcKbRWKPm093M";
//--></script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</span>

<!--loop-->			
  				
				<!--post text with the read more link-->
				<div class="entry">
				<h1 id="post-11"><a href="http://the-stickman.com/web-development/javascript/upload-multiple-files-with-a-single-file-element/" rel="bookmark" title="Permanent Link to Upload multiple files with a single file element">Upload multiple files with a single file element</a></h1>	
				Published July 13th, 2005                <p><strong>STOP PRESS: There is now <a href="http://the-stickman.com/web-development/javascript/multiple-file-uploader-mootools-version/">a new version here</a>, based on Mootools</strong>.</p>
<blockquote><p><strong>Please note:</strong> As you will notice if you take the time to read this article, you will see no mention of the word &#8216;Ajax&#8217; (apart from the ones in this paragraph). That&#8217;s because this technique has nothing whatsoever to do with Ajax &#8212; and I never claimed that it did. The fact that people are linking to this page and suggesting some sort of Ajax-y connection has nothing to do with me. So please, no more &#8220;but it&#8217;s not Ajax!&#8221; comments.</p>
<p>Thank you.
</p></blockquote>
<p>10th October 2005: Updated to add Safari support. Many thanks to Luis Torrefranca, Jamie Butler and Matt Kurpiewski (<a href="http://www.law.pitt.edu">http://www.law.pitt.edu</a>) and Shawn Parker &#038; John Pennypacker (<a href="http://www.fuzzycoconut.com">http://www.fuzzycoconut.com</a>) for their help. Please <a href="/files/multiple-file-element.zip">download again</a>.</strong></p>
<p>2nd October 2005: I updated the script to fix a potentially nasty bug.</p>
<p>If you have a form where you want to allow a user to upload more than one file, you&#8217;re stuck with either adding as many file input elements as the number of files you want to upload, or possibly having new ones appear &#8216;magically&#8217; through Javascript.</p>
<p>I was mulling over some ideas while walking home from work last week, when I came up with what I thought might be a quite cunning (and more atttractive and useable) way to allow a form to use a single file input element &#8212; sort of &#8212; to upload multiple files. Since you can only store file upload information in a file upload element (&lt;input type=&#8221;file&#8221;&gt;), you&#8217;ll always need to have one element per file to be uploaded. But what occurred to me is that you don&#8217;t need to <em>display</em> all those file elements.</p>
<p>Using the DOM, it&#8217;s actually a relatively simple matter to conceal a file element once a file has been chosen, and add a new (empty) one in its place. And to keep doing so, as many times as you like. It all happens so quickly, that it <em>appears</em> that there&#8217;s only one input element.</p>
<p>To make it even smarter, you can then read the value of each element (ie. the name of the file to be uploaded) and build a list, in whatever format you like, of chosen files. And with a little bit more code you can add the ability selectively to remove files that have been picked.</p>
<p>Enough waffling &#8212; here&#8217;s a demonstration:</p>
<div style="padding:5px;margin:5px;background:#eee;">
<form>
<input type="file" id="element_input" name="file_1" />
</form>
<div id="files_list" style="border:1px solid black;padding:5px;background:#fff;font-size:x-small;"><strong>Files (maximum 3):</strong></div>
</div>
<p><script src="/include/multifile.js"></script></p>
<p>I&#8217;ve deliberately left all styling out of the class, so the list is ugly (you can edit this yourself quite easily). And obviously there&#8217;s no submit button (I don&#8217;t want a load of junk files uploaded to my host, thanks) so I can&#8217;t show it &#8216;in action&#8217; as such. You&#8217;ll just have to take my word for it, that it really does work. Or of course, <a href="/files/multiple-file-element.zip">download the (zipped) file</a> and try it for yourself (don&#8217;t use the version included in this page, it&#8217;s slightly different).</p>
<p>The code is heavily commented to explain a) how to use it and b) how it works, although I&#8217;ve also included a compressed, comment- and whitespace-free version which is significantly smaller. I&#8217;ve tested it successfully with Mozilla Firefox 1.04, MSIE 6 and Opera 8 but I&#8217;m fairly confident that it&#8217;ll work with most, if not all, modern DOM-enabled browsers &#8212; if you can confirm or disprove this, please let me know.</p>
<p>One thing to be aware of when allowing mutliple uploads is that there are generally limits on the quantity of data that can be sent in any one request &#8212; for example, PHP has a default limit of 2MB (although this can be changed, using <a href="http://us2.php.net/manual/en/function.ini-set.php">ini_set</a>(&#8216;upload_max_filesize&#8217;, &#8216;[<em>new size</em>]M&#8217;) where <em>new size</em> is the maximum number in megabytes &#8212; this will not work if safe mode is enabled on your host).</p>
<p>If you&#8217;re looking for help handling the files once they&#8217;ve been uploaded, you could do worse than take a look at this <a href="#comment-173">this comment</a> by Shawn Parker (thanks again, Shawn!).</p>
<p>The licence for this code is simple: use it how you like, but don&#8217;t blame me if it breaks anything. Also, it&#8217;d be nice if you&#8217;d leave the credit (with the link to this site) in the code.</p>
					<p class="entry-meta"> Category: <a href="http://the-stickman.com/category/web-development/javascript/" title="View all posts in Javascript" rel="category tag">Javascript</a> | Tags: </p>
					</div>
		<!--navigation-->
<!--The navigation.php was written by Chris Pearson for the Cutline Theme [http://cutline.tubetorial.com/], a great theme and worth a hard look   Please do not delete this message.  -->

<div class="navigation">
	<span class="previous">&larr; <a href="http://the-stickman.com/web-development/dynamic-forms-and-tables-in-mozilla/" rel="prev">Dynamic forms and tables in Mozilla</a></span>
	<span class="next"><a href="http://the-stickman.com/web-development/firefox-extensions/firefox-extension-view-rendered-source/" rel="next">Firefox Extension: View Rendered Source</a> &rarr;</span>
</div>

<!-- Main ad -->
<script type="text/javascript"><!--
google_ad_client = "pub-9416141041667067";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "text_image";
google_ad_channel ="2011275932";
google_color_border = "B4D0DC";
google_color_bg = "ECF8FF";
google_color_link = "0000CC";
google_color_url = "008000";
google_color_text = "6F6F6F";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

<span style="padding-left:20px;">
<!-- Firefox -->
<script type="text/javascript"><!--
google_ad_client = "pub-9416141041667067";
google_ad_width = 120;
google_ad_height = 60;
google_ad_format = "120x60_as_rimg";
google_cpa_choice = "CAAQl6_zzwEaCEm74-fcKbRWKPm093M";
//--></script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>		
	<!--include comments template-->
	
<!-- Comments code provided by christianmontoya.com -->


	<p id="respond">
		<span class="trackback"><a href="http://the-stickman.com/web-development/javascript/upload-multiple-files-with-a-single-file-element/trackback/" rel="trackback">Get a Trackback link</a></span>
</p>




	<h2 class="comments-header">44 Trackbacks/Pingbacks</h2>
	<ol id="trackbacks">
	

	<li id="comment-128" class="odd">
	Pingback: 
	<a href='http://tiredidea.com/?p=19' rel='external nofollow' class='url'>Tired Idea  &raquo; Blog Archive   &raquo; Upload. Wash. Rinse. Repeat.</a> on August 17, 2005	</li>
	
		

	<li id="comment-134" class="even">
	Trackback: 
	<a href='http://dougal.gunters.org/?p=666' rel='external nofollow' class='url'>geek ramblings</a> on September 27, 2005	</li>
	
		

	<li id="comment-135" class="odd">
	Pingback: 
	<a href='http://warpedvisions.org/2005/09/27/ajax-multi-file-upload/' rel='external nofollow' class='url'>warpedvisions.org  &raquo; Blog Archive   &raquo; Ajax multi-file upload</a> on September 28, 2005	</li>
	
		

	<li id="comment-136" class="even">
	Pingback: 
	<a href='http://incoherentbabble.com/2005/09/27/ajax-multi-upload-utility/' rel='external nofollow' class='url'>Incoherent Babble  &raquo; Blog Archive   &raquo; Ajax Multi-Upload Utility</a> on September 28, 2005	</li>
	
		

	<li id="comment-137" class="odd">
	Pingback: 
	<a href='http://www.eretzvaju.org/upload-de-fichiers-multiples-avec-un-seul-champ-file' rel='external nofollow' class='url'>Kiss in the dark &raquo; Upload de fichiers multiples avec un seul champ file</a> on September 28, 2005	</li>
	
		

	<li id="comment-138" class="even">
	Trackback: 
	<a href='http://www.infosauce.org/articles/2005/09/28/multiple-file-upload-and-the-abuse-of-buzzwords' rel='external nofollow' class='url'>InfoSauce</a> on September 28, 2005	</li>
	
		

	<li id="comment-142" class="odd">
	Trackback: 
	<a href='http://www.fiftyfoureleven.com/resources/programming/javascript/javascript-scripts#L-533' rel='external nofollow' class='url'>Fiftyfoureleven.com Web Development Weblog</a> on September 29, 2005	</li>
	
		

	<li id="comment-144" class="even">
	Trackback: 
	<a href='http://www.bluetrait.com/archive/2005/09/30/ajax-multiple-file-upload/' rel='external nofollow' class='url'>Bluetrait</a> on September 30, 2005	</li>
	
		

	<li id="comment-159" class="odd">
	Pingback: 
	<a href='http://kartashov.com/2005/10/03/ssylki/' rel='external nofollow' class='url'>vasily kartashov &raquo; Blog Archive &raquo; Ð¡ÑÑ‹Ð»ÐºÐ¸</a> on October 4, 2005	</li>
	
		

	<li id="comment-161" class="even">
	Pingback: 
	<a href='http://photostack.org/?p=7' rel='external nofollow' class='url'>PhotoStack &raquo; Beta 361</a> on October 4, 2005	</li>
	
		

	<li id="comment-190" class="odd">
	Pingback: 
	<a href='http://neeraj.name/2005/10/19/upload-multiple-files-with-a-single-file-element/' rel='external nofollow' class='url'>A random pixel &raquo; Upload multiple files with a single file element</a> on October 19, 2005	</li>
	
		

	<li id="comment-201" class="even">
	Pingback: 
	<a href='http://www.jeffhung.idv.tw/blog/?p=338' rel='external nofollow' class='url'>ä»Šæ—¥é€£çµ (2005-10-31) [JeffHung.Blog]</a> on October 31, 2005	</li>
	
		

	<li id="comment-207" class="odd">
	Pingback: 
	<a href='http://photostack.org/2005/11/02/r373/' rel='external nofollow' class='url'>PhotoStack &raquo; r373</a> on November 3, 2005	</li>
	
		

	<li id="comment-240" class="even">
	Pingback: 
	<a href='http://blog.h7media.de/?p=49' rel='external nofollow' class='url'>h7 blog &raquo; Blog Archive &raquo; Mehrere Dateien uploaden</a> on December 22, 2005	</li>
	
		

	<li id="comment-384" class="odd">
	Pingback: 
	<a href='http://www.bram.us/2006/11/30/my-tinymce-file-management-spinoff-1-php-file-uploads/' rel='external nofollow' class='url'>Bram.us &raquo; My TinyMCE File Management : Spinoff 1 : PHP file uploads</a> on November 30, 2006	</li>
	
		

	<li id="comment-402" class="even">
	Pingback: 
	<a href='http://am80.com/?p=7' rel='external nofollow' class='url'>Subir archivos multiples al servidor con AJAX - SWFUpload at mi binxe blog :P</a> on December 19, 2006	</li>
	
		

	<li id="comment-403" class="odd">
	Pingback: 
	<a href='http://15daysofjquery.com/multiple-file-upload-magic-with-unobtrusive-javascript/17/' rel='external nofollow' class='url'>15 Days Of jQuery : Multiple File Upload Magic With Unobtrusive Javascript</a> on December 19, 2006	</li>
	
		

	<li id="comment-470" class="even">
	Pingback: 
	<a href='http://svetoslav.info/blog/archives/18' rel='external nofollow' class='url'>www.svetoslav.info &raquo; Blog Archive &raquo; Upload multiple files</a> on February 24, 2007	</li>
	
		

	<li id="comment-496" class="odd">
	Pingback: 
	<a href='http://www.phreaki.com/2007/03/27/multiple-file-uploads-with-php-and-css-dom/' rel='external nofollow' class='url'>It Forx</a> on March 28, 2007	</li>
	
		

	<li id="comment-442" class="even">
	Pingback: 
	<a href='http://sinistras.aranha.com.br/2007/05/delicious-entre-27042007-e-02052007/' rel='external nofollow' class='url'>Urls Sinistras &raquo; Blog Archive &raquo; del.icio.us entre 27/04/2007 e 02/05/2007</a> on May 3, 2007	</li>
	
		

	<li id="comment-461" class="odd">
	Pingback: 
	<a href='http://nicolasonline.de/mai-0702/' rel='external nofollow' class='url'>Mai 07/02</a> on May 13, 2007	</li>
	
		

	<li id="comment-464" class="even">
	Pingback: 
	<a href='http://bravedave.wordpress.com/2007/05/31/upload-multiple-files-with-a-single-file-element/' rel='external nofollow' class='url'>Upload multiple files with a single file element &laquo; Brave Dave&#8217;s Musings</a> on May 31, 2007	</li>
	
		

	<li id="comment-433" class="odd">
	Pingback: 
	<a href='http://the-stickman.com/web-development/javascript/multiple-file-uploader-mootools-version/' rel='external nofollow' class='url'>Multiple file uploader: Mootools version &raquo; StickBlog</a> on July 2, 2007	</li>
	
		

	<li id="comment-499" class="even">
	Pingback: 
	<a href='http://www.jeffhung.net/blog/articles/jeffhung/947/' rel='external nofollow' class='url'>???? (2007-07-04) [JeffHung.Blog]</a> on July 6, 2007	</li>
	
		

	<li id="comment-437" class="odd">
	Pingback: 
	<a href='http://omeck.net/2007/07/19/upload-wielu-plikow-na-serwer-w-cakephp-v12/' rel='external nofollow' class='url'>omeck - strona domowa &raquo; Archiwum &raquo; Upload wielu plików na serwer w CakePHP v1.2</a> on July 19, 2007	</li>
	
		

	<li id="comment-466" class="even">
	Pingback: 
	<a href='http://jacobslusser.com/2007/09/13/multi-upload/' rel='external nofollow' class='url'>jacobslusser.com &raquo; Blog Archive &raquo; Multiple File Upload</a> on September 13, 2007	</li>
	
		

	<li id="comment-480" class="odd">
	Pingback: 
	<a href='http://luisfk.wordpress.com/2007/12/28/upload-de-multiplos-arquivos-usando-um-unico-input/' rel='external nofollow' class='url'>Upload de múltiplos arquivos usando um único INPUT. &laquo; Trecos &amp; Tarecos da Informática</a> on December 28, 2007	</li>
	
		

	<li id="comment-481" class="even">
	Pingback: 
	<a href='http://www.gauda.de/ruby-on-rails/multiple-file-upload-with-ruby-on-rails-and-file_column/' rel='external nofollow' class='url'>gauda.de &raquo; Blog Archive &raquo; Multiple File Upload with Ruby on Rails and file_column</a> on January 21, 2008	</li>
	
		

	<li id="comment-527" class="odd">
	Pingback: 
	<a href='http://www.doingtheartwork.com/?p=271' rel='external nofollow' class='url'>M.I.S.H.U. &raquo; Blog Archive &raquo; Cakephp: working multiple files uploads ready to download script</a> on February 7, 2008	</li>
	
		

	<li id="comment-532" class="even">
	Pingback: 
	<a href='http://ivanli.wordpress.com/2008/04/16/php-file-upload/' rel='external nofollow' class='url'>PHP File Upload &laquo; ???????</a> on April 16, 2008	</li>
	
		

	<li id="comment-1039" class="odd">
	Pingback: 
	<a href='http://the-stickman.com/web-development/multiple-file-uploader-mootools-version/' rel='external nofollow' class='url'>Multiple file uploader: Mootools version | Stickblog</a> on July 21, 2008	</li>
	
		

	<li id="comment-1040" class="even">
	Pingback: 
	<a href='http://the-stickman.com/web-development/multiple-file-uploader-mootools-version/' rel='external nofollow' class='url'>Multiple file uploader: Mootools version | Stickblog</a> on July 21, 2008	</li>
	
		

	<li id="comment-1042" class="odd">
	Pingback: 
	<a href='http://the-stickman.com/uncategorized/multiple-file-uploader-mootools-12-version/' rel='external nofollow' class='url'>Multiple file uploader: Mootools 1.2 version | Stickblog</a> on July 21, 2008	</li>
	
		

	<li id="comment-1045" class="even">
	Pingback: 
	<a href='http://www.designforever.com/moimoi/?p=1075' rel='external nofollow' class='url'>Scott &raquo; Blog Archive &raquo; Multiple upload of files using javascript function</a> on July 22, 2008	</li>
	
		

	<li id="comment-1057" class="odd">
	Pingback: 
	<a href='http://brtnik.info/wp/?p=47' rel='external nofollow' class='url'>Kucha?ka | brtnik.info</a> on August 21, 2008	</li>
	
		

	<li id="comment-1060" class="even">
	Pingback: 
	<a href='http://h.chrismeller.com/ajax-multi-upload-utility' rel='external nofollow' class='url'>Ajax Multi-Upload Utility - Habari</a> on August 30, 2008	</li>
	
		

	<li id="comment-1071" class="odd">
	Pingback: 
	<a href='http://article.smarteguru.com/2008/09/handle-multiple-attachments-in-ruby-on-rails/' rel='external nofollow' class='url'>Handle multiple attachments in ruby on rails | Article@Smarteguru</a> on September 19, 2008	</li>
	
		

	<li id="comment-1091" class="even">
	Pingback: 
	<a href='http://biezpie.nu/2008/11/04/glitaka-failu-pievienosana/' rel='external nofollow' class='url'>Runas caur biezpienu &raquo; Gl?t?ka failu pievienošana</a> on November 3, 2008	</li>
	
		

	<li id="comment-1140" class="odd">
	Pingback: 
	<a href='http://dirtmind.wordpress.com/2009/01/27/creating-an-image-gallery-for-phpbb/' rel='external nofollow' class='url'>Creating an image gallery for phpBB &laquo;</a> on January 27, 2009	</li>
	
		

	<li id="comment-1186" class="even">
	Pingback: 
	<a href='http://vailo.wordpress.com/2009/04/13/multiple-file-upload-with-attachment_fu/' rel='external nofollow' class='url'>Multiple file upload with attachment_fu &laquo; Is the coffee still warm?</a> on April 13, 2009	</li>
	
		

	<li id="comment-1196" class="odd">
	Pingback: 
	<a href='http://www.freesoft-board.to/f293/javascript-dynamisch-formulare-hinzufuegen-411821.html#post3933517' rel='external nofollow' class='url'>JavaScript - dynamisch formulare hinzuf?gen - Freesoft-Board</a> on April 30, 2009	</li>
	
		

	<li id="comment-1256" class="even">
	Pingback: 
	<a href='http://lubin.emailtune.cn/2009/06/18/multiple-attachments-in-rails-%e5%a6%82%e4%bd%95%e5%9c%a8rails%e4%b8%ad%e5%ae%9e%e7%8e%b0%e5%a4%9a%e6%96%87%e4%bb%b6%e4%b8%8a%e4%bc%a0/' rel='external nofollow' class='url'>Multiple Attachments in Rails ???rails????????</a> on June 18, 2009	</li>
	
		

	<li id="comment-1269" class="odd">
	Pingback: 
	<a href='http://eplayground.net/2009/07/10/multiple-attachments-in-rails' rel='external nofollow' class='url'>multiple-attachments-in-rails</a> on July 11, 2009	</li>
	
		

	<li id="comment-1365" class="even">
	Pingback: 
	<a href='http://hungred.com/how-to/multiple-upload-single-upload-file-jquery/' rel='external nofollow' class='url'>Multiple Upload Using Single Upload File With jQuery - Hungred Dot Com</a> on February 20, 2010	</li>
	
		

	</ol>



	<h2 class="comments-header">489 Comments</h2>
	<ol id="comments">
	
				
		<li id="comment-129" class="odd">
			<div class="comment-meta">
							<p class="comment-author">nate on August 19, 2005</p>
			</div>
			<div class="comment-text">
				<p>Thanks for your code!  I think there might be a bug in multifile.js, though.  When I first tried it, I was having problems that the file input was immediately disabled after I intialized MultiSelector.  Problem seemed to be with:<br />
                        if( this.count &gt;= this.max || !this.max ){<br />
                                element.disabled = true;<br />
                        };<br />
If max is &#8217;0&#8242; (no limit),  (! this.max) is true, and the element is disabled before it is used.   I think you want &#8220;if (this.max &gt; 0 &amp;&amp; this.count &gt;= this.max)&#8221; or the like.</p>
			</div>
		</li>
		
		
			
		<li id="comment-130" class="even">
			<div class="comment-meta">
							<p class="comment-author">Stickman on August 25, 2005</p>
			</div>
			<div class="comment-text">
				<p>Thanks for the bug report &#8212; you&#8217;re absoultely right. I&#8217;ve changed the code such that if <i>max</i> isn&#8217;t specified, it&#8217;s set to -1. The code then checks for this value when verifying the maximum number of files.</p>
			</div>
		</li>
		
		
			
		<li id="comment-131" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Thuven on September 12, 2005</p>
			</div>
			<div class="comment-text">
				<p>Hi dude. thanks a lot for the helping hand .. you rock!! &#8230;</p>
			</div>
		</li>
		
		
			
		<li id="comment-132" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://InternalSite' rel='external nofollow' class='url'>Le</a> on September 14, 2005</p>
			</div>
			<div class="comment-text">
				<p>Hi dude, thanks a lot for the script&#8230; <img src='http://the-stickman.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> .</p>
			</div>
		</li>
		
		
			
		<li id="comment-133" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://dougal.gunters.org/' rel='external nofollow' class='url'>Dougal Campbell</a> on September 27, 2005</p>
			</div>
			<div class="comment-text">
				<p>If you have javascript disabled, you get one file input, but it still says &#8220;maximum 3&#8243;. You might want to either generate the &#8220;maximum&#8221; message via JS, or perhaps fall back to displaying all of the file inputs when there&#8217;s no scripting. You could default to displaying them all, and hide the extras with JS when it&#8217;s available.</p>
			</div>
		</li>
		
		
								
		<li id="comment-139" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://novemberborn.net/' rel='external nofollow' class='url'>Mark Wubben</a> on September 29, 2005</p>
			</div>
			<div class="comment-text">
				<p>There&#8217;s a memory leak in the code though. (Circular reference through closures leads to memory leaks in IE.) To fix it, set the `list_target` and `element` variables to null once you&#8217;ve set all the events.</p>
<p>More here: <a href="http://novemberborn.net/javascript/event-cache" rel="nofollow">http://novemberborn.net/javascript/event-cache</a></p>
			</div>
		</li>
		
		
			
		<li id="comment-140" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://brotherjoe.com' rel='external nofollow' class='url'>sean</a> on September 29, 2005</p>
			</div>
			<div class="comment-text">
				<p>Nice! On several of the sites I run, I just have 10 file upload boxes so you can choose to upload up to 10 files at a time (pics mainly), and I always thought it looked like hell. This will make it a lot better <img src='http://the-stickman.com/wp-includes/images/smilies/icon_biggrin.gif' alt=':D' class='wp-smiley' /> </p>
			</div>
		</li>
		
		
			
		<li id="comment-141" class="even">
			<div class="comment-meta">
							<p class="comment-author">legionnewbie on September 29, 2005</p>
			</div>
			<div class="comment-text">
				<p>Dont suppose anyone would want to help out a newbie. How do I</p>
<p>  3. Instantiate a MultiSelector object, passing in the DIV and an (optional) maximum number of files<br />
 *      eg. var multi_selector = new MultiSelector( document.getElementById( &#8216;files_list&#8217; ), 3 );<br />
Where do I put this ? in the _js file or the html file.</p>
<p>sorry for the newbiness</p>
			</div>
		</li>
		
		
				
		<li id="comment-143" class="odd">
			<div class="comment-meta">
							<p class="comment-author">neal on September 29, 2005</p>
			</div>
			<div class="comment-text">
				<p>Just a thought, but how does it handle the case when three files have been selected and the first one is then deleted and another one added?</p>
<p>I only ask as looking at the code it appears you will get two input elements with the same name.</p>
			</div>
		</li>
		
		
				
		<li id="comment-145" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://verens.com/' rel='external nofollow' class='url'>Kae Verens</a> on September 30, 2005</p>
			</div>
			<div class="comment-text">
				<p>The demo does not work in Konqueror. I have not checked the source, though, to see what was wrong, but I&#8217;m sure it is easy to fix. If I fix it before you do, then I&#8217;ll alert you with the code changes.</p>
			</div>
		</li>
		
		
			
		<li id="comment-146" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://none' rel='external nofollow' class='url'>Touxe</a> on September 30, 2005</p>
			</div>
			<div class="comment-text">
				<p>Thanks a lot for this very useful multi upload form.<br />
I&#8217;d like to change the &#8220;list-file&#8221; output for a table.<br />
In the first cell, the filename and in the second the button. I would like to do this in order to have all filename and button align.<br />
I&#8217;have tried but i&#8217;m a newbie. I&#8217;m able to create new line in my table but i can&#8217;t delete it.</p>
<p>Can someone help me &#8230; thanks a lot.</p>
<p>ps : sorry if you don&#8217;t understand me <img src='http://the-stickman.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
			</div>
		</li>
		
		
			
		<li id="comment-147" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://ceejayoz.com/' rel='external nofollow' class='url'>ceejayoz</a> on October 1, 2005</p>
			</div>
			<div class="comment-text">
				<p>That is a beautiful approach!  Wow!</p>
			</div>
		</li>
		
		
			
		<li id="comment-148" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.dustindiaz.com' rel='external nofollow' class='url'>Dustin Diaz</a> on October 1, 2005</p>
			</div>
			<div class="comment-text">
				<p>What a brilliant idea!<br />
Simple, Elegant, well documented and fast. The source is easy to follow and had no problems iterating through the logic. well done.<br />
Next time I run into a case where I need to upload multiple files, I&#8217;ll remember to keep this in mind.</p>
			</div>
		</li>
		
		
			
		<li id="comment-149" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://josearce.wordpress.com' rel='external nofollow' class='url'>Jose</a> on October 1, 2005</p>
			</div>
			<div class="comment-text">
				<p>Hi, i don&#8217;t know what am i doing wrong, all i get is a &#8220;Error: element has no properties&#8221; Javascript error and a think i followed all the instructions given.</p>
<p>Does anyone have the same error?</p>
			</div>
		</li>
		
		
			
		<li id="comment-150" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Stickman on October 2, 2005</p>
			</div>
			<div class="comment-text">
				<p>To everyone who&#8217;s linking to me, and for all the praise: thanks, I&#8217;m flattered. <img src='http://the-stickman.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
<p>To everyone having problems getting this to work: I&#8217;ve added an example HTML file to the .zip.</p>
<p>To neal: you&#8217;re right about the duplicate name problem, thanks for pointing it out. I&#8217;ve added a not-very-clever fix for the moment, until I get time to rewrite it properly.</p>
<p>To Mark Wubben: I&#8217;m aware of IE&#8217;s memory leak problems but hadn&#8217;t really thought about them when writing this. When I get a moment I&#8217;ll look at rewriting to take this into account.</p>
<p>To Kae Verens: I don&#8217;t have access to a machine running KDE to test on Konqueror. Any suggestions as to what the problem is (and potential solutions) are most welcome.</p>
<p>I&#8217;m about to go on holiday for a week, so no more updates will occur until I get back.</p>
			</div>
		</li>
		
		
			
		<li id="comment-151" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://josearce.wordpress.com' rel='external nofollow' class='url'>Jose</a> on October 2, 2005</p>
			</div>
			<div class="comment-text">
				<p>Now is working great! Thanks man, awesome work!</p>
			</div>
		</li>
		
		
			
		<li id="comment-152" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://tdgraphix' rel='external nofollow' class='url'>tdgraphix</a> on October 2, 2005</p>
			</div>
			<div class="comment-text">
				<p>Great Idea and Implementation! Works like a charm!</p>
			</div>
		</li>
		
		
			
		<li id="comment-153" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://cnuk.org/' rel='external nofollow' class='url'>mattl</a> on October 2, 2005</p>
			</div>
			<div class="comment-text">
				<p>Works in Safari too.</p>
			</div>
		</li>
		
		
			
		<li id="comment-154" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Tom on October 2, 2005</p>
			</div>
			<div class="comment-text">
				<p>Nice but it has problems <img src='http://the-stickman.com/wp-includes/images/smilies/icon_sad.gif' alt=':-(' class='wp-smiley' />   On Mac OSX 10.4.2 it works fine with Firefox but does not perform any uploads (error: 4) when used in Safari (2.0.1) In my test file the first form using your sample fails but the second vanilla upload works fine. Any help would be appreciated.</p>
<p>Tom</p>
<p>&#8220;;<br />
		print_r ($_POST);echo &#8220;&#8221;;<br />
?&gt;</p>
<p>&#8221; method = &#8220;post&#8221;&gt;</p>
<p>Files:</p>
<p>	var multi_selector = new MultiSelector( document.getElementById( &#8216;files_list&#8217; ), 3 );</p>
<p>	multi_selector.addElement( document.getElementById( &#8216;my_file_element&#8217; ) );</p>
			</div>
		</li>
		
		
			
		<li id="comment-155" class="even">
			<div class="comment-meta">
							<p class="comment-author">Tom on October 2, 2005</p>
			</div>
			<div class="comment-text">
				<p>neal,</p>
<p>why not just name the input something like &#8220;&#8221;userfile[]&#8221; and then deal with the php array in $_FILES on accepting the POST?</p>
			</div>
		</li>
		
		
			
		<li id="comment-156" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Hans on October 3, 2005</p>
			</div>
			<div class="comment-text">
				<p>Nice work!<br />
It is annoying to have a script tag in the middle of the code. How about putting the entire script in one file? Then you need to add some more code. Note that the code that was previously in the script tag, is now in the _init code:</p>
<p> addEvent(window, &#8220;load&#8221;, multiselector_init);</p>
<p> function multiselector_init() {<br />
var multi_selector = new MultiSelector( document.getElementById( &#8216;files_list&#8217; ), 3 );<br />
multi_selector.addElement( document.getElementById( &#8216;my_file_element&#8217; ) );<br />
}<br />
function addEvent(elm, evType, fn, useCapture)<br />
// addEvent and removeEvent<br />
// cross-browser event handling for IE5+,  NS6 and Mozilla<br />
// By Scott Andrew<br />
{<br />
  if (elm.addEventListener){<br />
    elm.addEventListener(evType, fn, useCapture);<br />
    return true;<br />
  } else if (elm.attachEvent){<br />
    var r = elm.attachEvent(&#8220;on&#8221;+evType, fn);<br />
    return r;<br />
  } else {<br />
    alert(&#8220;Handler could not be removed&#8221;);<br />
  }<br />
}</p>
			</div>
		</li>
		
		
			
		<li id="comment-157" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.eightounces.com' rel='external nofollow' class='url'>David Kaneda</a> on October 3, 2005</p>
			</div>
			<div class="comment-text">
				<p>I can confirm the script doesn&#8217;t work in the most recent Safari-</p>
			</div>
		</li>
		
		
			
		<li id="comment-158" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.adam-martinez.com' rel='external nofollow' class='url'>Adam</a> on October 3, 2005</p>
			</div>
			<div class="comment-text">
				<p>Thanks man! I was thinking about the same thing the other day after work, with a quick Google, I found you. It&#8217;s good to know we don&#8217;t all have to do the work twice as long as there are plenty of people like us out there.</p>
			</div>
		</li>
		
		
				
		<li id="comment-160" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://photostack.org' rel='external nofollow' class='url'>Noel Jackson</a> on October 4, 2005</p>
			</div>
			<div class="comment-text">
				<p>This is awesome. Mind if I use it in PhotoStack???</p>
			</div>
		</li>
		
		
				
		<li id="comment-162" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://photostack.org' rel='external nofollow' class='url'>Noel Jackson</a> on October 4, 2005</p>
			</div>
			<div class="comment-text">
				<p>Well, I thought I would, but it doesn&#8217;t work in safari! DOH!</p>
			</div>
		</li>
		
		
			
		<li id="comment-163" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://Orlando.net' rel='external nofollow' class='url'>Jim Johnson</a> on October 4, 2005</p>
			</div>
			<div class="comment-text">
				<p>Just saying thatnk found the element I already had plus used your element.onchange=funtion rather than my addHandler()<br />
works cross browser better Appreciate the code</p>
			</div>
		</li>
		
		
			
		<li id="comment-164" class="odd">
			<div class="comment-meta">
							<p class="comment-author">delvinj on October 5, 2005</p>
			</div>
			<div class="comment-text">
				<p>Nice work.  anyone tried this with a servlet or jsp on the recieving end?</p>
<p>~d</p>
			</div>
		</li>
		
		
			
		<li id="comment-165" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://photostack.org' rel='external nofollow' class='url'>Noel Jackson</a> on October 5, 2005</p>
			</div>
			<div class="comment-text">
				<p>Anyone know how to get this working in Safari? I&#8217;d love it if you could tell me.</p>
			</div>
		</li>
		
		
			
		<li id="comment-166" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.top-frog.com' rel='external nofollow' class='url'>Shawn</a> on October 5, 2005</p>
			</div>
			<div class="comment-text">
				<p>I believe that it has something to do with assigning it a display of &#8216;none&#8217; when created.<br />
CSS behavior will have an element like an image not even load from the server with a display: none; &#8211; and if you remove line 77 ( this.style.display = &#8216;none&#8217;; ) from the js file Safari works.</p>
<p>There needs to be another way of hiding the newly created file input element. Maybe hiding a div that contains it instead of the element itself&#8230;</p>
			</div>
		</li>
		
		
			
		<li id="comment-167" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://photostack.org' rel='external nofollow' class='url'>Noel Jackson</a> on October 5, 2005</p>
			</div>
			<div class="comment-text">
				<p>how about text-indent: -1000 em; ???</p>
			</div>
		</li>
		
		
			
		<li id="comment-168" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.top-frog.com' rel='external nofollow' class='url'>Shawn</a> on October 5, 2005</p>
			</div>
			<div class="comment-text">
				<p>Tried that and it didn&#8217;t like it. On top of that &#8211; whenever I did get something to work in Safari, Firefox would freak out and either show a sliver of the element or not work like Safari did&#8230;<br />
Granted, I&#8217;m not a CSS or Javascript Guru by any means &#8211; I&#8217;m still learning &#8211; but there just might have to be some browser sniffing going on here.<br />
A little browser sniffing could get this to work because every other browser responds to display: none being applied to the element while Safari liked having height: 0; width: 0; overflow: hidden; applied to it.<br />
I know its archaic to browser sniff, but for now its the only way I found to do it. I might also try putting a size limit on the list div and make sure it does not grow, and make sure the new file input elements don&#8217;t run inline but that they each run on a new line &#8211; that way overflow: hidden could be applied to their parent element without styling the inputs themselves.<br />
I didn&#8217;t have time to test that concept yet.</p>
			</div>
		</li>
		
		
			
		<li id="comment-169" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.law.pitt.edu' rel='external nofollow' class='url'>Luis Torrefranca</a> on October 6, 2005</p>
			</div>
			<div class="comment-text">
				<p>For a mailer, I added a browser sniffer and changed the style handling to this:</p>
<p>if (is_safari) {<br />
     this.style.position = &#8216;absolute&#8217;;<br />
     this.style.left = &#8220;-10000px&#8221;;<br />
} else {<br />
     this.style.display = &#8216;none&#8217;;<br />
}</p>
<p>I was also having some trouble retrieving the data, so we modified the element.name to use an array:<br />
element.name = &#8216;attachment[]&#8216;;</p>
<p>and retrieved it on the php processing page with:<br />
$files = sizeof($_FILES['attachment']['name']);<br />
for ($i = 0; $i</p>
			</div>
		</li>
		
		
			
		<li id="comment-170" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.law.pitt.edu' rel='external nofollow' class='url'>Luis Torrefranca</a> on October 6, 2005</p>
			</div>
			<div class="comment-text">
				<p>oops&#8230; code cut me off&#8230;</p>
<p>anyway, loop through from 0 through the array size.  Then call them by:<br />
$_FILES['attachment']['tmp_name'][$i] and so on</p>
<p>again, hope this helps</p>
			</div>
		</li>
		
		
			
		<li id="comment-171" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://superkain.net' rel='external nofollow' class='url'>superkain</a> on October 6, 2005</p>
			</div>
			<div class="comment-text">
				<p>Looking Good man!  Great inception.</p>
			</div>
		</li>
		
		
			
		<li id="comment-172" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.top-frog.com' rel='external nofollow' class='url'>Shawn</a> on October 7, 2005</p>
			</div>
			<div class="comment-text">
				<p>Luis &#8211; I just came back to post that same Safari fix &#8211; damn you! ; )</p>
<p>I got around the files thing by just doing a foreach on the $FILES array and only working on the entries that had an error of 0. Saved the extra hassle of having to do it client side.</p>
<p>Lets see if all my code makes it</p>
<p>$no_files = 0;<br />
			foreach($_FILES as $file)<br />
				{<br />
					switch($file['error'])<br />
						{<br />
							case 0:<br />
								// file found<br />
								if($file['name'] != NULL &amp;&amp; okFileType($file['type']) != false)<br />
									$v = processFile($file);</p>
<p>								// build string for confirmation display<br />
								if(isset($v) &amp;&amp; $v == true)<br />
									{<br />
										showSuccess($file);<br />
										$no_files++;<br />
									}<br />
								break;</p>
<p>							case (1|2):<br />
								// upload too large<br />
								$error[] = &#8216;file upload is too large&#8217;;<br />
								break;</p>
<p>							case 4:<br />
								// no file uploaded<br />
								break;</p>
<p>							case (6|7):<br />
								// no temp folder or failed write &#8211; server config errors<br />
								$error[] = &#8216;internal error &#8211; flog the webmaster&#8217;;<br />
								break;<br />
						}<br />
				}</p>
			</div>
		</li>
		
		
			
		<li id="comment-173" class="even">
			<div class="comment-meta">
							<p class="comment-author">Pranveer on October 7, 2005</p>
			</div>
			<div class="comment-text">
				<p>where is catch.php</p>
			</div>
		</li>
		
		
			
		<li id="comment-174" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.top-frog.com' rel='external nofollow' class='url'>Shawn</a> on October 7, 2005</p>
			</div>
			<div class="comment-text">
				<p>Another Safari fix: I changed my delete button into an image button, and for some reason after I did that Safari wanted to refresh the page after doing that which also cleared my upload fields.</p>
<p>This can be avoided by simply adding:<br />
return false;<br />
to the end of<br />
		new_row_button.onclick= function(){<br />
			// Remove element from form<br />
			this.parentNode.element.parentNode.removeChild( this.parentNode.element );<br />
			// Remove this row from the list<br />
			this.parentNode.parentNode.removeChild( this.parentNode );<br />
			// Decrement counter<br />
			this.parentNode.element.multi_selector.count&#8211;;<br />
			// Re-enable input element (if it&#8217;s disabled)<br />
			this.parentNode.element.multi_selector.current_element.disabled = false;</p>
<p>			return false; // add this to appease Safari<br />
		};</p>
			</div>
		</li>
		
		
			
		<li id="comment-175" class="even">
			<div class="comment-meta">
							<p class="comment-author">Leo on October 11, 2005</p>
			</div>
			<div class="comment-text">
				<p>What does this have to do with AJAX???  Does &#8220;AJAX&#8221; manicker now get used for any clever Javascript hack?  Don&#8217;t get me wrong, I think the script is a cool idea, but it&#8217;s not AJAX unless it sends micro-requests to server in an XML format and does micro-updates of those responses.</p>
<p>The whole point of AJAX is that I can send a request to server and update a part of the page without having to reload and re-render the whole page.</p>
			</div>
		</li>
		
		
			
		<li id="comment-176" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Stickman on October 11, 2005</p>
			</div>
			<div class="comment-text">
				<p>You&#8217;re right, but then I never said it had anything to do with Ajax.</p>
			</div>
		</li>
		
		
			
		<li id="comment-177" class="even">
			<div class="comment-meta">
							<p class="comment-author">smith288 on October 11, 2005</p>
			</div>
			<div class="comment-text">
				<p>AJAX is used very liberally these days.  Its alot easier to say that than &#8220;asyncronis javascript connection without using xml&#8230;&#8221;</p>
			</div>
		</li>
		
		
			
		<li id="comment-178" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Stickman on October 11, 2005</p>
			</div>
			<div class="comment-text">
				<p>True. But as has been pointed out, this widget is just DOM manipulation &#8212; there&#8217;s no client-server communication, unless you count the form submission (which is handled in the usual fashion).</p>
			</div>
		</li>
		
		
			
		<li id="comment-179" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://sheetalkjain.blogspot.com' rel='external nofollow' class='url'>Sheetal Jain</a> on October 12, 2005</p>
			</div>
			<div class="comment-text">
				<p>I have managed to get this working even by hiding the file control -Just the way Gmail does for email attachment -</p>
<p>Had to dig through gmails&#8217;s dirty secert</p>
<p>here is the solution</p>
<p>http://</p>
			</div>
		</li>
		
		
			
		<li id="comment-180" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://sheetaljain.blogspot.com/' rel='external nofollow' class='url'>Sheetal Jain</a> on October 13, 2005</p>
			</div>
			<div class="comment-text">
				<p>Ops! &#8211; I didn&#8217;t put the url in last posting</p>
<p><a href="http://sheetaljain.blogspot.com/" rel="nofollow">http://sheetaljain.blogspot.com/</a></p>
<p>Thanks</p>
			</div>
		</li>
		
		
			
		<li id="comment-181" class="even">
			<div class="comment-meta">
							<p class="comment-author">newbegin on October 13, 2005</p>
			</div>
			<div class="comment-text">
				<p>hello<br />
it good &#8230;.<br />
now i am plan  to use this &#8230;</p>
<p>Thanks</p>
			</div>
		</li>
		
		
			
		<li id="comment-182" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Marcos Lopez on October 14, 2005</p>
			</div>
			<div class="comment-text">
				<p>It&#8217;s a wonderful solution, but&#8230;. what about having the ability to choose several files at the same time? or even all the files under a directory?</p>
<p>It would be very usefule a &#8220;select folder&#8221; winamp-style control</p>
<p>Thanx</p>
			</div>
		</li>
		
		
			
		<li id="comment-183" class="even">
			<div class="comment-meta">
							<p class="comment-author">Stickman on October 14, 2005</p>
			</div>
			<div class="comment-text">
				<p>Not possible, I&#8217;m afraid. For very good security reasons, file input elements are very limited in their capabilities and there&#8217;s simply no way (that I&#8217;m aware of) to work around that.</p>
<p>I suppose it&#8217;s possible that you could achieve it in Internet Explorer using a custom ActiveX control, but I&#8217;m no expert on that sort of thing and anyway, that would of course kill cross-browser comptability.</p>
			</div>
		</li>
		
		
			
		<li id="comment-184" class="odd">
			<div class="comment-meta">
							<p class="comment-author">MisterJ on October 18, 2005</p>
			</div>
			<div class="comment-text">
				<p>Excellent script !</p>
<p>I have made a little mod in order to display only the filename i/o full path+filename :<br />
		element_work = element.value;<br />
		element_tab = element_work.split(&#8220;\\&#8221;);<br />
		nbr_elements = element_tab.length;<br />
		new_row.innerHTML = element_tab[nbr_elements-1];</p>
<p>instead of :<br />
		new_row.innerHTML = element.value;</p>
<p>cheers <img src='http://the-stickman.com/wp-includes/images/smilies/icon_wink.gif' alt=';)' class='wp-smiley' /> </p>
			</div>
		</li>
		
		
			
		<li id="comment-185" class="even">
			<div class="comment-meta">
							<p class="comment-author">Jpep on October 19, 2005</p>
			</div>
			<div class="comment-text">
				<p>Can a javascript wiz please help me (if possible) change the delete button to the word &#8216;remove&#8217;. I&#8217;d rather use text instead of the button for style purposes. Thanks for the great work!</p>
			</div>
		</li>
		
		
			
		<li id="comment-186" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Jpep on October 19, 2005</p>
			</div>
			<div class="comment-text">
				<p>Me again&#8230; Sorry, but I&#8217;m having a bit of trouble handling the multiple files using php. My original form was based on this example from php.net (<a href="http://us3.php.net/manual/en/features.file-upload.multiple.php" rel="nofollow">http://us3.php.net/manual/en/features.file-upload.multiple.php</a>). Here is my form&#8230;</p>
<p>I then use the following php just to test the first upload on the first file.</p>
<p>/ $userfile is where the file went on the webserver<br />
$userfile = $_FILES['userfile']['tmp_name'][0];</p>
<p>// $userfile_name is the original file name<br />
$userfile_name = $_FILES['userfile']['name'][0];</p>
<p>// $userfile_size is the size in bytes<br />
$userfile_size = $_FILES['userfile']['size'][0];</p>
<p>// $userfile_type is the mime type<br />
$userfile_type = $_FILES['userfile']['type'][0];</p>
<p>// $user_file error is any error encountered<br />
$userfile_error = $_FILES['userfile']['error'][0];</p>
<p>I echo these variables and the result is that I don&#8217;t get any data for the above variables. When I change the input id to id=&#8221;my_file_elementXXXXX&#8221;. The upload works. So obviously I&#8217;m doing something wrong on the php end.</p>
<p>Any ideas? Thank you so much. Sorry for the multiple posts.</p>
			</div>
		</li>
		
		
			
		<li id="comment-187" class="even">
			<div class="comment-meta">
							<p class="comment-author">Jpep on October 19, 2005</p>
			</div>
			<div class="comment-text">
				<p>Okay. I figured out what I was doing wrong. Obviously I cannot follow directions. If anyone else out there is having problems, make sure that your input field does not have a &#8216;name&#8217; set. As per the instructions, make it look like this&#8230;</p>
<p>Then one way (not the best way) of process the files with php would be the following&#8230;</p>
<p>$file_count = sizeof($_FILES);<br />
echo &#8216;Number of files: &#8216; . $file_count .&#8217;&#8230;&#8217;;</p>
<p>for ($i=0; $i&#8217;;<br />
	echo &#8216;Size: &#8216; . $userfile_size.&#8221;;<br />
	echo &#8216;Type: &#8216; . $userfile_type .&#8221;;<br />
	echo &#8216;Error: &#8216; . $userfile_error .&#8221;;<br />
	echo &#8221;;</p>
<p>}</p>
			</div>
		</li>
		
		
			
		<li id="comment-188" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Jpep on October 19, 2005</p>
			</div>
			<div class="comment-text">
				<p>Oops. My code got cut off. What&#8217;s the best way to post php? Anyway, on the server (php), I use&#8230;</p>
<p>$file_count = sizeof($_FILES);</p>
<p>to get the number of files uploaded</p>
<p>and then I just loop thru and process as needed using the file naming scheme provided by this script&#8230;</p>
<p>$thisfilename = &#8216;file_&#8217; . $i;<br />
$userfile = $_FILES[$thisfilename]['tmp_name'];</p>
<p>Hope that helps someone out.</p>
			</div>
		</li>
		
		
			
		<li id="comment-189" class="even">
			<div class="comment-meta">
							<p class="comment-author">Sudhir on October 19, 2005</p>
			</div>
			<div class="comment-text">
				<p>Hi</p>
<p>I would like to use this script but I want to use the checkbox instead of delete button and I want to delete the checked files at once rather than deleting individually.</p>
<p>Please help me in getting this if anyone has work around.</p>
<p>Thanks in advance<br />
Sudhir</p>
			</div>
		</li>
		
		
				
		<li id="comment-191" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Jpep on October 20, 2005</p>
			</div>
			<div class="comment-text">
				<p>***Does not work in Netscape 7.02 / WinXP***<br />
Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.0.2) Gecko/20030208 Netscape/7.02 (VAUSSU03)</p>
<p>Yes, me again. I noticed that this demo doesn&#8217;t work in the above environment. In my test, I must hit the browse button again after selecting the file for the file to show in the file list below the form.</p>
<p>In further tests, the files do not appear to upload either.</p>
<p>Can anyone else confirm this behavior?</p>
			</div>
		</li>
		
		
			
		<li id="comment-192" class="even">
			<div class="comment-meta">
							<p class="comment-author">Stickman on October 20, 2005</p>
			</div>
			<div class="comment-text">
				<p>I don&#8217;t have NS7 installed but I&#8217;ve tried it in NS8beta and it appears to work.</p>
<p>If I could think of an elegant, reliable way (ie. not sniffing for specific browsers/versions) to exclude those browsers that are known to have problems, then I&#8217;d implement it. Suggestions welcome.</p>
			</div>
		</li>
		
		
			
		<li id="comment-193" class="odd">
			<div class="comment-meta">
							<p class="comment-author">hm on October 22, 2005</p>
			</div>
			<div class="comment-text">
				<p>doesnt do crap, just dumps me at <a href="http://localhost/your_script_here.script" rel="nofollow">http://localhost/your_script_here.script</a></p>
			</div>
		</li>
		
		
			
		<li id="comment-194" class="even">
			<div class="comment-meta">
							<p class="comment-author">Stickman on October 22, 2005</p>
			</div>
			<div class="comment-text">
				<p> <img src='http://the-stickman.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' />  That&#8217;s the bit you do for yourself &#8212; hence the name &#8216;your_script_here&#8217;. If you need help handling the uploaded files, I suggest Google.</p>
			</div>
		</li>
		
		
			
		<li id="comment-195" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Flyboy on October 24, 2005</p>
			</div>
			<div class="comment-text">
				<p>After uploading the files (done through ajax, so the uploadform never leaves the page) I want to reset the form so it&#8217;s ready to select a bunch of other files and then upload them too.</p>
<p>But the submit button doesn&#8217;t react any more then.</p>
<p>Is this a build in protection against people double clicking the button if they think nothing happend?<br />
And if so, how can I fix this so I don&#8217;t have to reload my whole page to upload another file.</p>
<p>Thanks</p>
			</div>
		</li>
		
		
			
		<li id="comment-196" class="even">
			<div class="comment-meta">
							<p class="comment-author">Stickman on October 24, 2005</p>
			</div>
			<div class="comment-text">
				<p>Interesting idea. You&#8217;d have to step through each element, using removeChild() to get rid of it. Or you could use innerHTML, but I wouldn&#8217;t recommend it.</p>
<p>If I get a spare minute, I might create a clearElements() function.</p>
			</div>
		</li>
		
		
			
		<li id="comment-197" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Flyboy on October 24, 2005</p>
			</div>
			<div class="comment-text">
				<p>ok, thanks</p>
<p>now even reloading the form doesn&#8217;t help, because the javascript variables still exist on the main page.</p>
			</div>
		</li>
		
		
			
		<li id="comment-198" class="even">
			<div class="comment-meta">
							<p class="comment-author">Javaholli on October 25, 2005</p>
			</div>
			<div class="comment-text">
				<p>Great thing! Thanks&#8230;<br />
I&#8217;ve made some changes for a nicer output (table).<br />
In the example HTML I replaced the  tag with the following code:</p>
<p>In the multifile.js file I&#8217;ve added/changed the following lines:<br />
    var new_tr = document.createElement(&#8220;tr&#8221;);<br />
    var new_td_filename = document.createElement(&#8220;td&#8221;);<br />
    var new_td_button = document.createElement(&#8220;td&#8221;);<br />
    // Set row value<br />
    new_row.innerHTML = element.value;<br />
    // Add button<br />
    new_td_button.appendChild( new_row_button );<br />
    new_td_filename.appendChild(new_row);<br />
    new_tr.appendChild(new_td_filename);<br />
    new_tr.appendChild(new_td_button);<br />
    // Add it to the list<br />
    this.list_target.appendChild( new_tr );</p>
<p>Important thing is that the &#8216;s are added to the tbody tag! It won&#8217;t work if you&#8217;re not using the  tag. Took me a while to figure that out&#8230;</p>
			</div>
		</li>
		
		
			
		<li id="comment-199" class="odd">
			<div class="comment-meta">
							<p class="comment-author">dan on October 31, 2005</p>
			</div>
			<div class="comment-text">
				<p>how do i actually pass the value over to my asp page?</p>
			</div>
		</li>
		
		
			
		<li id="comment-200" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.designplanet.biz/' rel='external nofollow' class='url'>Execute</a> on October 31, 2005</p>
			</div>
			<div class="comment-text">
				<p>Hello, very nice code,  isorta  skim read the code after downloading, but i found this using AJAX search in google, obviously so did others who left angry comments <img src='http://the-stickman.com/wp-includes/images/smilies/icon_razz.gif' alt=':P' class='wp-smiley' /> .<br />
My question is, can you make an example of AJAX submitting the form? I have been having trouble submitting &#8220;file&#8221; inputs thru my AJAX script, I tried using the .value of the file input but it doesnt send it to the php script. How can i get the &#8220;Value&#8221; or the &#8220;file&#8221; itself with JS to send to PHP? any ideas?</p>
			</div>
		</li>
		
		
				
		<li id="comment-202" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Stickman on October 31, 2005</p>
			</div>
			<div class="comment-text">
				<p>Execute: you can&#8217;t upload files via XMLHTTPRequest. Simple as that.</p>
<p>However, as I think has been mentioned above you <i>could</i> use a hidden iframe. I&#8217;ve done it myself and it works, but it can be a bit of a pain to get it working reliably.</p>
			</div>
		</li>
		
		
			
		<li id="comment-203" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.designplanet.biz/' rel='external nofollow' class='url'>Execute</a> on October 31, 2005</p>
			</div>
			<div class="comment-text">
				<p>ok&#8230; yea i found that out after a little bit of reading afteri posted that comment. thats a shame&#8230; However I did use an iframe, and just did target=&#8217;iframe&#8217;, and it works out fine&#8230; but what do you mean &#8220;bit of a pain to get it working reliably&#8221;, was way easier than i thought. Is there something else you were thinking of?</p>
<p>But still im amazed your script works in all these browsers, i havent tested with opera, or ie, but with firefox 1.07 works fine <img src='http://the-stickman.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> . And i easily set it up without any hassle, so seriously great job, and i will include your comment etc  and wont remove it ;P.</p>
<p>Happy halloween from DesignPlanet.biz</p>
			</div>
		</li>
		
		
			
		<li id="comment-204" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Stickman on November 1, 2005</p>
			</div>
			<div class="comment-text">
				<p>Thanks for the flattery &#8212; always appreciated <img src='http://the-stickman.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
<p>For more info on the trials I had with uploading with iframes, see <a href="http://the-stickman.com/web-development/javascript/iframes-xmlhttprequest-bug-in-firefox/" rel="nofollow">this entry</a>.</p>
			</div>
		</li>
		
		
			
		<li id="comment-205" class="even">
			<div class="comment-meta">
							<p class="comment-author">DisasterMan on November 1, 2005</p>
			</div>
			<div class="comment-text">
				<p>Found the script very easy to get working, and have used it to great effect. Thank you very much!</p>
			</div>
		</li>
		
		
			
		<li id="comment-206" class="odd">
			<div class="comment-meta">
							<p class="comment-author">vanaja on November 3, 2005</p>
			</div>
			<div class="comment-text">
				<p>Thanks for wonderful script.<br />
Can any one tell me how to create a space in between the path and button?<br />
i am new  to programming.</p>
			</div>
		</li>
		
		
				
		<li id="comment-208" class="even">
			<div class="comment-meta">
							<p class="comment-author">Emmerson Miranda on November 4, 2005</p>
			</div>
			<div class="comment-text">
				<p>Excelent work, It do all I need.</p>
<p>Good luck!!!</p>
			</div>
		</li>
		
		
			
		<li id="comment-209" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Robert on November 6, 2005</p>
			</div>
			<div class="comment-text">
				<p>This is very smart and cool.</p>
<p>But&#8230;.what is &#8220;Ajaxian&#8221; about this ?????<br />
I don&#8217;t see no XMLHttpRequest calls.</p>
<p>Somebody please tell me</p>
			</div>
		</li>
		
		
			
		<li id="comment-210" class="even">
			<div class="comment-meta">
							<p class="comment-author">Robert on November 7, 2005</p>
			</div>
			<div class="comment-text">
				<p>Re my comment above:<br />
Just want to clarify -<br />
STICKMAN did not call it AJAX in any way.</p>
<p>I was referring to those other stupid blog posts calling it &#8220;AJAX&#8221; &#8211; fawking idiots</p>
			</div>
		</li>
		
		
			
		<li id="comment-211" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Robert on November 7, 2005</p>
			</div>
			<div class="comment-text">
				<p>&gt;&gt;Flyboy Says:<br />
&gt;&gt; After uploading the files (done through ajax, so the upload</p>
<p>hmmm you sure you did thru XMLHTTPRequest ?<br />
Care to share with us how you did it ?</p>
			</div>
		</li>
		
		
			
		<li id="comment-212" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.designplanet.biz/' rel='external nofollow' class='url'>Execute</a> on November 8, 2005</p>
			</div>
			<div class="comment-text">
				<p>Use iframes. because YOU CANT send files through javascript. I been lookin all over for a way to do it with the XMLhttpRequest rather than iframes. So you just simply target the iframe which is on top of your form, make it invisible with css and you got yourself a fake-ajax system <img src='http://the-stickman.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
			</div>
		</li>
		
		
			
		<li id="comment-213" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Robert on November 8, 2005</p>
			</div>
			<div class="comment-text">
				<p>^^^^ so &#8220;FlyBoy&#8221; is full of BS ?</p>
			</div>
		</li>
		
		
			
		<li id="comment-214" class="even">
			<div class="comment-meta">
							<p class="comment-author">Stickman on November 8, 2005</p>
			</div>
			<div class="comment-text">
				<p>Calm down, Robert. Clearly, for some people, Ajax has become a catchall term for a variety of newer browser technologies. While that might not tie in with the strict meaning of the term as it was originally intended, I don&#8217;t think it&#8217;s necessary to be quite so pedantic about it.</p>
			</div>
		</li>
		
		
			
		<li id="comment-215" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Fabian on November 9, 2005</p>
			</div>
			<div class="comment-text">
				<p>Heyho, just wanted to say thanks for this great Widget&#8230;<br />
It&#8217;ll help me in developing a FileBrowser-Servlet <img src='http://the-stickman.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
			</div>
		</li>
		
		
			
		<li id="comment-216" class="even">
			<div class="comment-meta">
							<p class="comment-author">ahussam on November 10, 2005</p>
			</div>
			<div class="comment-text">
				<p>Hi, I am having some trouble  with actually uploading the files in the backend, i tried a &#8220;stupid&#8221; approach to understand the logic, added 4 files, removed the 3rd the submit, used file_1 as static filename, then file_2&#8230;etc, it did not recognize file_2 although i removed the 3rd file !?</p>
<p>also i need to know (as a concept) as I use CFML, how would I transform the  number of files and the filenames to the backend, i know how to do that on 1 file, but i just can&#8217;t understand the logic here for multiple files</p>
<p>thanks</p>
			</div>
		</li>
		
		
			
		<li id="comment-217" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Tbolt on November 12, 2005</p>
			</div>
			<div class="comment-text">
				<p>Need to add a function that clears all onSubmit or whatever. Anyone set this up already? Otherwise you have to manually delete them out if you want to add more files.</p>
<p>Otherwise, it&#8217;s a great little script.</p>
<p>thanks</p>
			</div>
		</li>
		
		
			
		<li id="comment-218" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.top-frog.com' rel='external nofollow' class='url'>Shawn</a> on November 12, 2005</p>
			</div>
			<div class="comment-text">
				<p>For those still needing a file upload script &#8211; I offer up a starting point.<br />
Yes, a starting point. This script solely handles file uploads and nothing else. You are responsible for securing your user&#8217;s input &#8211; I simply can&#8217;t do that for you, nor can anyone else.</p>
<p><a href="http://www.top-frog.com/files/scripts/upload_sample.phps" rel="nofollow">http://www.top-frog.com/files/scripts/upload_sample.phps</a></p>
<p>Feel free to use the script or modify it in any way. For more information on handling file uploads in PHP you can refer to these pages:<br />
<a href="http://us2.php.net/manual/en/features.file-upload.php" rel="nofollow">http://us2.php.net/manual/en/features.file-upload.php</a><br />
<a href="http://us2.php.net/manual/en/security.variables.php" rel="nofollow">http://us2.php.net/manual/en/security.variables.php</a></p>
			</div>
		</li>
		
		
			
		<li id="comment-219" class="odd">
			<div class="comment-meta">
							<p class="comment-author">JD on November 13, 2005</p>
			</div>
			<div class="comment-text">
				<p>Great tool&#8230;.this is the simplest multi-upload tool that I have seen.</p>
<p>I have a question&#8230;Is it possible to retrieve the number of file elements on the page at any given time?  I am trying to send the &#8220;file count&#8221; in a hidden form field so that I know how many files to process on the server side.</p>
<p>Any help is appreciated.</p>
<p>Thanks for the work Stickman&#8230;&#8230;.</p>
			</div>
		</li>
		
		
			
		<li id="comment-220" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.yellys.ch/catalog' rel='external nofollow' class='url'>Ulrich Fuchs</a> on November 14, 2005</p>
			</div>
			<div class="comment-text">
				<p>Hello!<br />
I copied the 2 script files in /catalog/, and inserted your code in my contact form.<br />
When I change input type to &#8220;image&#8221;, then I get an error &#8211; if I let it be as &#8220;file&#8221;, I can see the dialog, select pictures, but they will not be attached to the mail!!<br />
Please help me and explain what to change if I want that IPG and PNG pictures can be attached &#8211; but no DOC, PPS and such stuff.<br />
Thanks!</p>
			</div>
		</li>
		
		
			
		<li id="comment-221" class="odd">
			<div class="comment-meta">
							<p class="comment-author">prince on November 14, 2005</p>
			</div>
			<div class="comment-text">
				<p>ur script  seems to be very useful&#8230;Stickman&#8230;&#8230;can u make an image preview for uploading images.then it would be much useful.and also validate the image dimension,image type,etc&#8230;.like the following one:</p>
<p><a href="http://www.reallycoolspace.com/upload.html" rel="nofollow">http://www.reallycoolspace.com/upload.html</a><br />
<a href="http://www.reallycoolspace.com/upload.js" rel="nofollow">http://www.reallycoolspace.com/upload.js</a> (the js file, the html file links to this)</p>
<p>but this script doesnt work in all browsers.plz rectify it thru ur script&#8230;.</p>
			</div>
		</li>
		
		
			
		<li id="comment-222" class="even">
			<div class="comment-meta">
							<p class="comment-author">Flyboy on November 15, 2005</p>
			</div>
			<div class="comment-text">
				<p>Just back from a holiday and euhm, no, I&#8217;m not full of BS<br />
You surely can upload files through javascript.<br />
Problem is I wanted a status bar with it, had no time to do it all in ajax, so now I ended using 1 iframe, just for the status bar, will try and change that shortly too.</p>
<p>Now my only need is the function to clear out all the variables instead of having to do it manualy every time.</p>
			</div>
		</li>
		
		
			
		<li id="comment-223" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.angrysam.com' rel='external nofollow' class='url'>David Levin</a> on November 15, 2005</p>
			</div>
			<div class="comment-text">
				<p>Awesome tool! Great work!</p>
			</div>
		</li>
		
		
			
		<li id="comment-224" class="even">
			<div class="comment-meta">
							<p class="comment-author">Magic on November 15, 2005</p>
			</div>
			<div class="comment-text">
				<p>Hi all. i tried that script at firefox 1.0.7. it does not works. it upload only one file. other selected files not uploads.</p>
			</div>
		</li>
		
		
			
		<li id="comment-225" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://dinpinto.blogspot.com' rel='external nofollow' class='url'>dpinto</a> on November 16, 2005</p>
			</div>
			<div class="comment-text">
				<p>Can you add a feature that checks if the same file is added twice in the list and alerts the user that he already has added that file once.<br />
Overall its a nice script.</p>
			</div>
		</li>
		
		
			
		<li id="comment-226" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://dinpinto.blogspot.com' rel='external nofollow' class='url'>dpinto</a> on November 16, 2005</p>
			</div>
			<div class="comment-text">
				<p>Also that delete button could be an HTML link.</p>
			</div>
		</li>
		
		
			
		<li id="comment-227" class="odd">
			<div class="comment-meta">
							<p class="comment-author">dheeraj on November 23, 2005</p>
			</div>
			<div class="comment-text">
				<p>hi,<br />
   Thanks for your usefull code for multiple file upload&#8230;but I need that the file dialog box must be hidden&#8230; and instead of it their should be a link  &#8220;upload files&#8221; just like GMail file attachment.<br />
I have tried it but i have to click submit button 2 times to submit the files..<br />
   Pls give me a  solution for that..</p>
			</div>
		</li>
		
		
			
		<li id="comment-228" class="even">
			<div class="comment-meta">
							<p class="comment-author">Mitt on November 23, 2005</p>
			</div>
			<div class="comment-text">
				<p>First off, great job! Second for those of you who have asked about the image preview, I wanted the same thing but found that Firefox will not allow the image preview to work because it is a security feature to disallow linking or access to local files. I was able to make it work in IE but ened up leaving it out all together because I don&#8217;t like to restrict users on a browser they have to use.</p>
			</div>
		</li>
		
		
			
		<li id="comment-229" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Scaramouch on November 25, 2005</p>
			</div>
			<div class="comment-text">
				<p>First off, great script. You&#8217;ve &#8220;thunk&#8221; outside the box a bit &amp; come up with what i think is a very good approach to this. Now if i can only figure out how to use is in a .NET environment.</p>
<p>Does anyone know how i might be able to grab the files once they&#8217;ve been uploaded? Typically, i&#8217;d use the &lt;asp:FileUpload&gt; control, or even just something like &lt;input type=&#8221;file&#8221; id=&#8221;file_1&#8243; runat=&#8221;server&#8221;&gt; (note the runat=&#8221;server&#8221; property) so that the control can be referenced server-side by it&#8217;s id. However since the file elements are being added client-side this approach won&#8217;t work.</p>
<p>I&#8217;d love to be able to use this script in my webform if I can.</p>
<p>Any help would be appreciated. Thanks.</p>
			</div>
		</li>
		
		
			
		<li id="comment-230" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.initiative.uk.com' rel='external nofollow' class='url'>Stewart Boutcher</a> on November 26, 2005</p>
			</div>
			<div class="comment-text">
				<p>I can verify that this script does not work in Firefox 1.0.7, either with file input naming convention &#8220;file_0&#8243;, etc or with &#8220;userfile[]&#8220;.  In all cases only the first file is ever uploaded.</p>
			</div>
		</li>
		
		
			
		<li id="comment-231" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Mir Ai on November 28, 2005</p>
			</div>
			<div class="comment-text">
				<p>Hi Everyone,</p>
<p>Very, very cool solution to uploading multiple files.</p>
<p>My requirements are a little different.  I don&#8217;t want the user to see the file input files (text field or browse button).  I want to be able to show a link which says &#8220;Add File&#8221;.  I&#8217;ve tried hiding the &#8216;my_file_element&#8217; field and then adding a link on the page which calls the following method:</p>
<p>// adds a new file<br />
function addFile() {<br />
	var myUploadField = document.getElementById(&#8216;my_file_element&#8217;);<br />
	if (myUploadField != null) {<br />
		myUploadField.click();<br />
	}<br />
}</p>
<p>This &#8220;sort of&#8221; works.  Clicking the links adds the file and then shows the uploaded file name in the list.  However, it adds more file upload fields to the screen and when I try to remove an uploaded file, it gives me a javascript error.  The form also does not want to submit the first time.  I have to click the submit button a second time.</p>
<p>Any ideas or thoughts on how to make this work?</p>
<p>Thanks,<br />
Mir</p>
			</div>
		</li>
		
		
			
		<li id="comment-232" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.top-frog.com' rel='external nofollow' class='url'>Shawn</a> on November 28, 2005</p>
			</div>
			<div class="comment-text">
				<p>Well, the script works fine with Firefox 1.0.7 on Mac. So I&#8217;d venture to guess that there is something wrong with the usage for the complaint that it doesn&#8217;t work on FF 1.0.7</p>
			</div>
		</li>
		
		
			
		<li id="comment-233" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.fotolog.net/rataotv' rel='external nofollow' class='url'>Â®@T@Ã˜</a> on November 28, 2005</p>
			</div>
			<div class="comment-text">
				<p>How I can restrict the type (s) of archives for upload?<br />
In the javascript, not in PHP. Something of this type was thinking about using substr to only catch the extention of the value of input file, but I did not obtain&#8230;</p>
<p>Sorry my english, IÂ´m brazilian&#8230;</p>
<p>IÂ´m waiting a return!!!</p>
<p>;Âº)</p>
			</div>
		</li>
		
		
			
		<li id="comment-234" class="even">
			<div class="comment-meta">
							<p class="comment-author">Joe Shelby on December 3, 2005</p>
			</div>
			<div class="comment-text">
				<p>It works fine for me on Firefox 1.0.7 for Windows and IE 6, using JBoss/Tomcat/Struts/LazyDynaBean for the server side.</p>
<p>I hacked at it a bit.  We needed to associate a description with the file as part of the app i&#8217;m using it in, so I added a callback feature along with some additional references.  diffs are <b>bolded</b> below:</p>
<p>function MultiSelector( list_target, max<b>, handler</b> ){<br />
&#8230;<br />
	// Is there a maximum?<br />
	if( max ){<br />
		this.max = max;<br />
	} else {<br />
		this.max = -1;<br />
	};<br />
	<b>// Is there a callback?<br />
	this.callback = handler;</b><br />
&#8230;</p>
<p>element.onchange(): add the new if<br />
				// Hide this: we can&#8217;t use display:none because Safari doesn&#8217;t like it<br />
				this.style.position = &#8216;absolute&#8217;;<br />
				this.style.left = &#8216;-1000px&#8217;;</p>
<p>				<b>if (this.multi_selector.callback) {<br />
					this.multi_selector.callback(this, &#8220;added&#8221;);<br />
				}</b><br />
			};<br />
&#8230;<br />
this.addListRow(): add new_row as a reference so callback can manipulate it.<br />
		// References<br />
		new_row.element = element;<br />
		<b>element.new_row = new_row;</b></p>
<p>&#8230;</p>
<p>a demo callback:<br />
function additionalAttachmentsCallback( element, action ){<br />
	if (action == &#8216;added&#8217;) {<br />
    	element.new_row.appendChild(document.createElement( &#8216;br&#8217; ));<br />
    	var t = document.createTextNode(&#8220;Description:&#8221;);<br />
    	var new_row_description = document.createElement( &#8216;input&#8217; );<br />
		new_row_description.type = &#8216;text&#8217;;<br />
		new_row_description.value = &#8221;;<br />
		new_row_description.size = 60;<br />
		new_row_description.name = &#8220;desc_&#8221; + element.name;</p>
<p>    	element.new_row.appendChild(t);<br />
    	element.new_row.appendChild(new_row_description);<br />
	}<br />
}</p>
<p>and now in addition to getting file_0, my struts action can look for a desc_file_0 for the description.</p>
			</div>
		</li>
		
		
			
		<li id="comment-235" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.whitedragons.org' rel='external nofollow' class='url'>Wing</a> on December 7, 2005</p>
			</div>
			<div class="comment-text">
				<p>This isn&#8217;t an example of AJAX. It&#8217;s just manipulating the DOM using Java.<br />
Where&#8217;s the advanced javascript and xml?</p>
			</div>
		</li>
		
		
			
		<li id="comment-236" class="even">
			<div class="comment-meta">
							<p class="comment-author">Stickman on December 7, 2005</p>
			</div>
			<div class="comment-text">
				<p>You&#8217;re absolutely right. Please see the numerous, similar comments above.</p>
			</div>
		</li>
		
		
			
		<li id="comment-237" class="odd">
			<div class="comment-meta">
							<p class="comment-author">aparch on December 16, 2005</p>
			</div>
			<div class="comment-text">
				<p>Oh<br />
thanks for your help.<br />
I will come here sometimes for it.</p>
			</div>
		</li>
		
		
			
		<li id="comment-238" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://shrimpworks.za.net/' rel='external nofollow' class='url'>Shrimp</a> on December 18, 2005</p>
			</div>
			<div class="comment-text">
				<p>Wow, I see the trackbacks have caused a rather large headache for the author <img src='http://the-stickman.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> . I too found this page looking for AJAX information (via Google).</p>
<p>Don&#8217;t really have anything to comment on this script about, but Stickman, I feel your pain <img src='http://the-stickman.com/wp-includes/images/smilies/icon_wink.gif' alt=';)' class='wp-smiley' /> . People would do well to read the comments and trackpacks before ripping into the author.</p>
			</div>
		</li>
		
		
			
		<li id="comment-239" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.planetdoom.ch' rel='external nofollow' class='url'>Oliver</a> on December 21, 2005</p>
			</div>
			<div class="comment-text">
				<p>Hi Folks</p>
<p>First of all;<br />
Thank you for publishing this great and neat script!</p>
<p>I got it work with a GET request &#8216;only&#8217; but would rather prefer to send the FORM by a POST.<br />
Does anybody else face this issue or could me explain a work arround?</p>
<p>Oliver</p>
			</div>
		</li>
		
		
				
		<li id="comment-241" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.planetdoom.ch' rel='external nofollow' class='url'>Oliver</a> on December 22, 2005</p>
			</div>
			<div class="comment-text">
				<p>Hello All</p>
<p>I figured out, that I doesn&#8217;t work with FireFox but InternetExplorer.<br />
If anybody found a workarround for FireFox, I&#8217;d very appreciate to learn about.</p>
<p>Btw. You may wish to see my modifications here: <a href="http://www.planetdoom.ch/test/upload_test.php" rel="nofollow">http://www.planetdoom.ch/test/upload_test.php</a></p>
<p>Regards<br />
Oliver</p>
			</div>
		</li>
		
		
			
		<li id="comment-242" class="odd">
			<div class="comment-meta">
							<p class="comment-author">lanner on December 23, 2005</p>
			</div>
			<div class="comment-text">
				<p>hello,</p>
<p>can you explain to me what you put here :</p>
<p>action=&#8221;your_script_here.script&#8221;</p>
<p>i&#8217;m not understand about this, thanks a lot</p>
			</div>
		</li>
		
		
			
		<li id="comment-243" class="even">
			<div class="comment-meta">
							<p class="comment-author">zaila on December 28, 2005</p>
			</div>
			<div class="comment-text">
				<p>i have try your code. When i save using &#8220;.html&#8221;, its work. But, when i save using &#8220;.htm&#8221;, it doesn&#8217;t work.  can i know why and how to solve it.</p>
			</div>
		</li>
		
		
			
		<li id="comment-244" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Sourabh on December 28, 2005</p>
			</div>
			<div class="comment-text">
				<p>sure it is a real nice way to upload multiple files. but as we have an option of zipping the stuff. this would defeat the idea of having the limit to upload. but sure, it can extend to any limit of uploading..</p>
<p>keep going&#8230;.. !!</p>
			</div>
		</li>
		
		
			
		<li id="comment-245" class="even">
			<div class="comment-meta">
							<p class="comment-author">Mohammad on January 8, 2006</p>
			</div>
			<div class="comment-text">
				<p>can anyone tell me in detail that if i chose four image files then ho i and where i go get the valuse to put in my mysql server i am bit confussed please please Help if you can write me a two line of script of insert that would be great i can feed off of that but its a great script very nice hats off to you man but with little more help for novice like me can solve the problem for lots of us out thee how they are trying to learn a thing or two.</p>
			</div>
		</li>
		
		
			
		<li id="comment-246" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.download18.com' rel='external nofollow' class='url'>James</a> on January 17, 2006</p>
			</div>
			<div class="comment-text">
				<p>Well, the script works fine with Firefox 1.0.7 on Mac. So Iâ€™d venture to guess that there is something wrong with the usage for the complaint that it doesnâ€™t work on FF 1.0.7</p>
			</div>
		</li>
		
		
			
		<li id="comment-247" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.sunjournal.com' rel='external nofollow' class='url'>Eric Kaiser</a> on January 24, 2006</p>
			</div>
			<div class="comment-text">
				<p>Great script! I&#8217;m about as stupid as it comes to stuff like this. I was in search of an inclusive script that not only allowed multiple selection of files to upload, but I wanted it to upload as well. Some of the upload examples on this forum don&#8217;t make sense, or are incomplete. I hope to post a change to that. By surfing other sites I came up with a vare bones PHP upload script you can put on your page. There is no resizing of the files or file checking, but I&#8217;m sure I will get that going real soon. If anybody wants that feel free to email me.</p>
<p>Here&#8217;s the PHP code that uploads the files:</p>
<p>foreach ($_FILES["file"]["error"] as $key =&gt; $error) {<br />
	echo &#8220;key: &#8220;.$key.&#8221;";<br />
   if ($error == UPLOAD_ERR_OK) {<br />
       $tmp_name = $_FILES["file"]["tmp_name"][$key];<br />
       $name = $_FILES["file"]["name"][$key];<br />
       move_uploaded_file($tmp_name, &#8220;tmp/&#8221;.$name) or die(&#8216;upload error&#8217;);<br />
   }<br />
}</p>
<p>I made one change to the multifile.js script. Look for the line that reads:</p>
<p>element.name = &#8216;file_&#8217; + this.id++;</p>
<p>This is currently around line 65, and change it to:</p>
<p>element.name = &#8216;file[' + this.id++ + ']&#8216;;</p>
<p>I&#8217;m submitting my form onto itself. I have not tested this script if your form action goes to another page.</p>
<p>Thanks again for this script.</p>
			</div>
		</li>
		
		
			
		<li id="comment-248" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.bsbdesign.com' rel='external nofollow' class='url'>Rich S Wyatt</a> on January 24, 2006</p>
			</div>
			<div class="comment-text">
				<p>Hello Stickman!  Great work.</p>
<p>I&#8217;m using this in an intranet and have a couple of questions.</p>
<p>#1 &#8211; I would like to modify the output to include some additional text after a file is selected.  Right now it simply states the path to the file on the local machine.  I&#8217;ve played with some pieces of the code to no avail.  Can you point me to the line that would allow me to add some things to the path on display?</p>
<p>For example:  Image 1:  U:\MyPath\MyImages\bobspic.jpg</p>
<p>Secondly &#8211; when an administrator browses the administration page for a section that may already have some images uploaded:</p>
<p>Is it possible to recreate what you are doing dynamically with the images that already exist?  That way I can &#8220;Delete&#8221; images that are no longer needed and then catch that all with PHP on the submit of my form.</p>
<p>Thanks, in advance, for any insight you may give and again:  great work!</p>
			</div>
		</li>
		
		
			
		<li id="comment-249" class="even">
			<div class="comment-meta">
							<p class="comment-author">Steve Owen on January 26, 2006</p>
			</div>
			<div class="comment-text">
				<p>Great script, but there does appear to be a bug (feature?) in Firefox. I&#8217;ve only tested it in Firefox and IE, and it&#8217;s fine in IE, but in Firefox, if you have the script in a table, but the form is outside of the table cell, the new File elements, as they are created, are not assigned to the form. This can be tested by asking the script for the form name of the new element (&#8220;undefined&#8221;) or keeping count of how many form elements there are (it doesn&#8217;t go up). This is almost certainly Mozilla&#8217;s unforgiving nesting of tags, and is fair enough, but you do need to watch out for it.</p>
<p>As an example, in the test page in the zip, put the form name after a table tag but before the tr tag. Submit the form with more than one file and only the first one is uploaded.</p>
<p>It&#8217;s driven me mad for a few days trying to track this down, so I&#8217;d spare anyone else the pain.</p>
<p>Stickman, great script. Thanks.</p>
			</div>
		</li>
		
		
			
		<li id="comment-250" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Steve Owen on January 26, 2006</p>
			</div>
			<div class="comment-text">
				<p>Oh, as a follow-up, if anyone&#8217;s interested in mods, I&#8217;ve added to the script to also just show the filename rather than full path, and to put the Delete button at the start, just as an &#8220;X&#8221;. It means it all lines up and, I think, looks a lot nicer. You could of course style up the button to make it look even better.</p>
<p>Because of the innerHTML being affected by putting the button first, you need to put it in its own  element. So here&#8217;s part of the new script, the this.addListRow function&#8230;</p>
<p>	/**<br />
	 * Add a new row to the list of files<br />
	 */<br />
	this.addListRow = function( element ){</p>
<p>		// Row div<br />
		var new_row = document.createElement( &#8216;div&#8217; );</p>
<p>		// Delete button<br />
		var new_row_button = document.createElement( &#8216;input&#8217; );<br />
		new_row_button.type = &#8216;button&#8217;;<br />
		new_row_button.value = &#8216;X&#8217;;</p>
<p>		// References<br />
		new_row.element = element;</p>
<p>		// Delete function<br />
		new_row_button.onclick= function(){</p>
<p>			// Remove element from form<br />
			this.parentNode.element.parentNode.removeChild( this.parentNode.element );</p>
<p>			// Remove this row from the list<br />
			this.parentNode.parentNode.removeChild( this.parentNode );</p>
<p>			// Decrement counter<br />
			this.parentNode.element.multi_selector.count&#8211;;</p>
<p>			// Re-enable input element (if it&#8217;s disabled)<br />
			this.parentNode.element.multi_selector.current_element.disabled = false;</p>
<p>			// Appease Safari<br />
			//    without it Safari wants to reload the browser window<br />
			//    which nixes your already queued uploads<br />
			return false;<br />
		};</p>
<p>		// Set row value<br />
		var c = element.value.lastIndexOf(&#8216;\/&#8217;); //For Unix, etc.<br />
		if (c != -1)<br />
			html = element.value.substring(c+1);<br />
		else {<br />
			var c = element.value.lastIndexOf(&#8216;\\&#8217;); //Win<br />
			if (c != -1)<br />
				html = element.value.substring(c+1);<br />
			else<br />
				html = element.value;<br />
		}</p>
<p>		// Add button<br />
		new_row.appendChild( new_row_button );<br />
		var new_row_text = document.createElement( &#8216;span&#8217; );<br />
		new_row.appendChild(new_row_text);<br />
		new_row_text.innerHTML = &#8216;&nbsp;&#8217; + html;</p>
<p>		// Add it to the list<br />
		this.list_target.appendChild( new_row );</p>
<p>	};</p>
<p>I also liked to change the size and class name of the Browse button, which you can add by expanding the MultiSelector object:</p>
<p>function MultiSelector( list_target, max, class_name, browse_size ){</p>
<p>and after this.max = -1, these changes:</p>
<p>		this.max = -1;<br />
	};<br />
	this.class_name = class_name;<br />
	this.browse_size = browse_size;</p>
<p>	/**<br />
	 * Add a new file input element<br />
	 */<br />
	this.addElement = function( element ){</p>
<p>		// Make sure it&#8217;s a file input element<br />
		if( element.tagName == &#8216;INPUT&#8217; &amp;&amp; element.type == &#8216;file&#8217; ){</p>
<p>			// Element name &#8212; what number am I?<br />
			element.name = &#8216;FILE&#8217; + this.id++;<br />
			element.className = this.class_name;<br />
			element.size = this.browse_size;</p>
<p>			// Add reference to this object<br />
			element.multi_selector = this;</p>
<p>I hope these additions are useful.</p>
			</div>
		</li>
		
		
			
		<li id="comment-251" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.coffeebot.net' rel='external nofollow' class='url'>Nate</a> on January 27, 2006</p>
			</div>
			<div class="comment-text">
				<p>Man, this script works great in all of the browsers -I-, but not in the one browser my company (and subsequently, some of our customers) use!</p>
<p>Sadly, we&#8217;re stuck in the stone age with IE 5.x Mac, and it doesn&#8217;t seem to work at all. When I browse/add a file, the file name just sits in the field and doesn&#8217;t go anywhere, nor does it appear in the listing below.</p>
<p>I know I&#8217;ve had trouble with CSS in this version of IE, but it mostly had to do with using quotes in url() options, and the classic box-model problems. Since the filename seems to hang in the field, I&#8217;m guessing it&#8217;s a JS-related issue, and not CSS.</p>
<p>This makes me sad, because this is the _perfect_ solution to some of our problems. Our customers upload a lot of files to us on a daily basis, and this is so much cleaner than 10 file/browse lines.</p>
<p>Thanks in advance for any hints</p>
			</div>
		</li>
		
		
			
		<li id="comment-253" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Arminda on January 28, 2006</p>
			</div>
			<div class="comment-text">
				<p>Hello,</p>
<p>can someone help me with uploading the file(s) using the hidden iframe, so that i can upload at the same as i insert the file?</p>
<p>Execute: &#8221; However I did use an iframe, and just did target=â€™iframeâ€™, and it works out fine..&#8221;, can you show me? I don&#8217;t understand?</p>
<p>Stickman: &#8220;However, as I think has been mentioned above you could use a hidden iframe&#8230;&#8221;, can you?</p>
<p>Thanks.</p>
			</div>
		</li>
		
		
			
		<li id="comment-252" class="even">
			<div class="comment-meta">
							<p class="comment-author">Chris on January 31, 2006</p>
			</div>
			<div class="comment-text">
				<p>Hi, Just have a quick question. Iâ€™m using IE 5.5. I use css for my input fields. On my text input fields I have a border on all four sides. When the page initially loads the border is around my text window but after the first click on the browse button and selecting a file the css disapears and I just have a empty space where the text button should be. Itâ€™s still there, just no borders. Any idea how to keep the css?</p>
<p>Thanks</p>
			</div>
		</li>
		
		
			
		<li id="comment-254" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Chris on January 31, 2006</p>
			</div>
			<div class="comment-text">
				<p>I figure it out.</p>
<p>In you .js file under -</p>
<p>element.name = &#8216;file_&#8217; + this.id++;</p>
<p>add<br />
element.className = &#8216;formInputs&#8217;; // or what ever class your text input is</p>
<p>This will pull any class you&#8217;ve assigned to the input fields objects and apply it to the new input field object that gets created by the js file.</p>
<p>You can also do this for the delete button,</p>
<p>find the following<br />
new_row_button.value = &#8216;Delete&#8217;;</p>
<p>add this after<br />
new_row_button.className = &#8216;submitbutton&#8217;;  // or what ever class your submitbutton are</p>
<p>Thanks for the great script.</p>
			</div>
		</li>
		
		
			
		<li id="comment-255" class="even">
			<div class="comment-meta">
							<p class="comment-author">Tj on February 4, 2006</p>
			</div>
			<div class="comment-text">
				<p>Hey everyone, is anyone having problems with the files uploading in IE? It&#8217;s not working for me&#8230; It works just fine and awesome in FireFox, but IE wont upload the files&#8230;</p>
<p>Thanks for any help! <img src='http://the-stickman.com/wp-includes/images/smilies/icon_biggrin.gif' alt=':-D' class='wp-smiley' /> </p>
<p>-Tj</p>
			</div>
		</li>
		
		
			
		<li id="comment-256" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Ben on February 9, 2006</p>
			</div>
			<div class="comment-text">
				<p>Hi, thank for the useful script. Iâ€™ve made some changes for a nicer output (table).</p>
<p>In example.html, changes line  &lt;div id=&#8221;files_list&#8221;&gt;&lt;/div&gt; to &lt;table id=&#8221;files_list&#8221;&gt;&lt;/table&gt;</p>
<p>In multifile_compressed.js, changes function addListRow as follow:<br />
this.addListRow = function( element ){</p>
<p>		// Row div<br />
		var new_row = document.createElement( &#8216;tr&#8217; );<br />
		var new_col_filename = document.createElement( &#8216;td&#8217; );<br />
		var new_col_button = document.createElement( &#8216;td&#8217; );</p>
<p>		new_col_filename.setAttribute( &#8216;align&#8217;, &#8216;left&#8217;);<br />
		new_col_button.setAttribute( &#8216;align&#8217;, &#8216;right&#8217;);</p>
<p>		// Delete button<br />
		var new_row_button = document.createElement( &#8216;input&#8217; );<br />
		new_row_button.type = &#8216;button&#8217;;<br />
		new_row_button.value = &#8216;Delete&#8217;;</p>
<p>		new_row.appendChild( new_col_filename );<br />
		new_row.appendChild( new_col_button );</p>
<p>		// References<br />
		new_row.element = element;</p>
<p>		// Delete function<br />
		new_row_button.onclick= function(){</p>
<p>			// Remove row from table<br />
			this.parentNode.parentNode.parentNode.removeChild(this.parentNode.parentNode);</p>
<p>			// Remove element from form<br />
			this.parentNode.parentNode.element.parentNode.removeChild( this.parentNode.parentNode.element );</p>
<p>			// Decrement counter<br />
			this.parentNode.parentNode.element.multi_selector.count&#8211;;</p>
<p>			// Re-enable input element (if it&#8217;s disabled)<br />
			this.parentNode.parentNode.element.multi_selector.current_element.disabled = false;</p>
<p>			// Appease Safari<br />
			//    without it Safari wants to reload the browser window<br />
			//    which nixes your already queued uploads<br />
			return false;<br />
		};</p>
<p>		// Set row value<br />
		//new_row.innerHTML = element.value;<br />
		new_col_filename.innerHTML = element.value;<br />
		new_col_button.appendChild( new_row_button );</p>
<p>		// Add it to the list<br />
		this.list_target.appendChild( new_row );</p>
<p>	};</p>
<p>Hopeful that will help some one.</p>
			</div>
		</li>
		
		
			
		<li id="comment-257" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.getrotord.com' rel='external nofollow' class='url'>Kelly</a> on February 15, 2006</p>
			</div>
			<div class="comment-text">
				<p>Help!, Updated my mozilla and now this multifile uploader wont work!!!</p>
			</div>
		</li>
		
		
			
		<li id="comment-258" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Steve Owen on February 15, 2006</p>
			</div>
			<div class="comment-text">
				<p>Ben&#8217;s table code is excellent, but doesn&#8217;t actually work in IE. Or rather, isn&#8217;t DOM-compliant. (And it&#8217;s ironical that IE is the browser that doesn&#8217;t like its lack of compliance.)</p>
<p>Instead, you want to append the child to a  element. It&#8217;s a simple change. Where you replaced &lt;div id=â€files_listâ€&gt;&lt;/div&gt; with &lt;table id=â€files_listâ€&gt;&lt;/table&gt;, you should actually replace &lt;div id=â€files_listâ€&gt;&lt;/div&gt; with &lt;table&gt;&lt;tbody id=â€files_listâ€&gt;&lt;/tbody&gt;&lt;/table&gt;</p>
<p>Cheers,<br />
Steve</p>
<p>PS, That has got to be the most annoying &#8220;security code&#8221; I&#8217;ve ever seen. It always takes about four goes and several refreshes to actually work out what it says.</p>
			</div>
		</li>
		
		
			
		<li id="comment-259" class="even">
			<div class="comment-meta">
							<p class="comment-author">Steve Owen on February 15, 2006</p>
			</div>
			<div class="comment-text">
				<p>Sorry, that last comment should have read:</p>
<p>&#8220;Instead, you want to append the child to a &lt;tbody&gt; element.&#8221;</p>
			</div>
		</li>
		
		
			
		<li id="comment-260" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Jesse H on February 17, 2006</p>
			</div>
			<div class="comment-text">
				<p>Here is vb.net back end implementation after the page is submitted.  Someone was asking for it.</p>
<p>&#8216;get the form file collection<br />
Dim myfiles As System.Web.HttpFileCollection = System.Web.HttpContext.Current.Request.Files<br />
Dim iFile As Integer</p>
<p>For iFile = 0 To myfiles.Count &#8211; 1<br />
       &#8216; get the posted file<br />
       Dim postedFile As System.Web.HttpPostedFile = myfiles(iFile)</p>
<p>	&#8216;make sure it is not blank<br />
	If Not postedFile.FileName.Equals(&#8220;&#8221;) Then<br />
		&#8216;Save File to the proper directory<br />
		postedFile.SaveAs(Request.MapPath(&#8220;folder/&#8221;) + System.IO.Path.GetFileName(postedFile.FileName)<br />
	End If</p>
<p>Next iFile</p>
			</div>
		</li>
		
		
			
		<li id="comment-261" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.hoeglund.net/' rel='external nofollow' class='url'>Jonny</a> on February 20, 2006</p>
			</div>
			<div class="comment-text">
				<p>Perfect. Thank you very much for making the script available.</p>
			</div>
		</li>
		
		
			
		<li id="comment-262" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://information.typepad.com' rel='external nofollow' class='url'>Mark</a> on February 21, 2006</p>
			</div>
			<div class="comment-text">
				<p>I want to load several hundred webpages to my typepad blog&#8230; can anyone recommend a good program for this?  Please email me, thants</p>
			</div>
		</li>
		
		
			
		<li id="comment-263" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://information.typepad.com' rel='external nofollow' class='url'>Mark</a> on February 21, 2006</p>
			</div>
			<div class="comment-text">
				<p>What&#8217;s the best telnet program and can they be used on blogs such as typepad?<br />
<a href="http://information.typepad.com" rel="nofollow">http://information.typepad.com</a></p>
			</div>
		</li>
		
		
			
		<li id="comment-264" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Jorge on February 21, 2006</p>
			</div>
			<div class="comment-text">
				<p>Greatfull</p>
			</div>
		</li>
		
		
			
		<li id="comment-265" class="even">
			<div class="comment-meta">
							<p class="comment-author">Cade on February 22, 2006</p>
			</div>
			<div class="comment-text">
				<p>what is the best php for upload with multiple-file???<br />
Can i use this file so i want or exist a coopyright(by the way i don&#8217;t said that it&#8217;s my code)?</p>
			</div>
		</li>
		
		
			
		<li id="comment-266" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Stickman on February 22, 2006</p>
			</div>
			<div class="comment-text">
				<p>Rather than post my own code for handling the upload at the server end, I&#8217;ve left that up to you. There are plenty of good tutorials out there that deal with this &#8212; for example, look at this <a href="http://www.google.co.uk/search?hl=en&#038;q=php+upload+multiple">look at this comment</a> or <a href="http://www.google.co.uk/search?hl=en&amp;q=php+upload+multiple" rel="nofollow">check Google</a>.</p>
<p>As for usage, you are free to make use of the code in any way you like, although I would appreciate it if you left the copyright information in the file.</p>
			</div>
		</li>
		
		
			
		<li id="comment-269" class="even">
			<div class="comment-meta">
							<p class="comment-author">Rich on March 7, 2006</p>
			</div>
			<div class="comment-text">
				<p>This script is perfect for what I need.  Thanks!</p>
<p>One little problem &#8211; it works great the first time, but if I go back to the page, it&#8217;s almost like the script has disappeared.  When I select a file via the browse button, it doesn&#8217;t update the file list, and doesn&#8217;t create a new and empty control.  I can only upload one file from then on.</p>
<p>I&#8217;ve tried it both Firefox 1.5 and IE 6 and they both act the same.  It looks like the DOM is setup properly the second time around, so I&#8217;m a bit stymied.</p>
<p>Any suggestions?  I&#8217;m using java and struts.</p>
			</div>
		</li>
		
		
			
		<li id="comment-270" class="odd">
			<div class="comment-meta">
							<p class="comment-author">duh on March 7, 2006</p>
			</div>
			<div class="comment-text">
				<p>Looks like <a href="http://www.ibulc.com" rel="nofollow">http://www.ibulc.com</a></p>
			</div>
		</li>
		
		
			
		<li id="comment-267" class="even">
			<div class="comment-meta">
							<p class="comment-author">Rich on March 7, 2006</p>
			</div>
			<div class="comment-text">
				<p>regarding my &#8220;doesn&#8217;t work the second time post&#8221;:</p>
<p>Turned out that I wasn&#8217;t resetting the form correctly.</p>
			</div>
		</li>
		
		
			
		<li id="comment-268" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Bleeding Edge on March 9, 2006</p>
			</div>
			<div class="comment-text">
				<p>Looks like IE 7 beta 2 (7.0.5296.0) has a little trouble with this code. It doubles up the elements once a file has been selected. Has anyone else experienced this problem? Has anyone created a fix for this? I will try to look into it more and see if I can find a fix. I&#8217;ll keep you posted.</p>
			</div>
		</li>
		
		
			
		<li id="comment-271" class="even">
			<div class="comment-meta">
							<p class="comment-author">Andy on March 10, 2006</p>
			</div>
			<div class="comment-text">
				<p>Nice script, Stickman. I was hoping you or somone else could help me fine tune it to my needs.</p>
<p>What I&#8217;m trying to do is give the user another input box in which to enter a title for the file and then have that title display (instead of the filename) after the user has clicked an &#8220;Add to Queue&#8221; button (as opposed to displaying immediately after they&#8217;ve finished browsing, as the script does currently).</p>
<p>This is what I&#8217;ve tried so far:</p>
<p>                function addFile(){<br />
                    var multi_selector = new MultiSelector( document.getElementById( &#8216;files_list&#8217;, 5 ) );<br />
                    multi_selector.addElement( document.getElementById( &#8216;my_file_element&#8217; ) );<br />
                }</p>
<p>            	       Title:</p>
<p>            	       File:</p>
<p>                           <a href="void(null);" rel="nofollow">Add</a></p>
<p>            Files:</p>
<p>I tried to trigger the display of the filename by using an onclick call to a function containing the instantiation of the MultiSelector class. I can&#8217;t figure out why this won&#8217;t work. Any help would be greatly appreciated.</p>
<p>Thanks a lot!</p>
			</div>
		</li>
		
		
			
		<li id="comment-272" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Andy on March 10, 2006</p>
			</div>
			<div class="comment-text">
				<p>Crap. Your wysiwyg took that a little too literally. Here&#8217;s an attempt to re-post my code. I had to replace &#8220;&#8221; signs to get it to display, thus all the \&#8217;s. I hope it&#8217;s not too hard to read. Thanks again!</p>
<p>                function addFile(){<br />
                    var multi_selector = new MultiSelector( document.getElementById( &#8216;files_list&#8217;, 5 ) );<br />
                    multi_selector.addElement( document.getElementById( &#8216;my_file_element&#8217; ) );<br />
                }</p>
<p>Title:  \\input type=&#8221;text&#8221; name=&#8221;title_1&#8243;\\<br />
File:   \\input id=&#8221;my_file_element&#8221; type=&#8221;file&#8221; name=&#8221;file_1&#8243;\\<br />
         \\a href=&#8221;javascript: void(null);&#8221; onclick=&#8221;addFile();&#8221; class=&#8221;buttons add&#8221;\\Add\\/a\\</p>
<p>            Files:</p>
<p>            \\div id=&#8221;files_list&#8221;\\ \\/div\\</p>
			</div>
		</li>
		
		
			
		<li id="comment-273" class="even">
			<div class="comment-meta">
							<p class="comment-author">Bleeding Edge on March 12, 2006</p>
			</div>
			<div class="comment-text">
				<p>IE7 beta 2 fires the onchange event twice when you select files using the browse button. Once when a files has been selected. And then once more when it looses focus.<br />
Blocking the onchange event once it gets executed fixes the problem.<br />
Changing the code as seen below puts a bandaid on it so it works in IE7 (it also still works in Firefox 1.5).</p>
<p>// What to do when a file is selected<br />
element.onchange = function(){<br />
if (!element.block)<br />
{<br />
    element.block = true;</p>
<p>    // New file input<br />
    var new_element = document.createElement( &#8216;input&#8217; );<br />
    new_element.type = &#8216;file&#8217;;</p>
<p>    // Add new element<br />
    this.parentNode.insertBefore( new_element, this );</p>
<p>    // Apply &#8216;update&#8217; to element<br />
    this.multi_selector.addElement( new_element );</p>
<p>    // Update list<br />
    this.multi_selector.addListRow( this );</p>
<p>    // Hide this: we can&#8217;t use display:none because Safari doesn&#8217;t like it<br />
    this.style.position = &#8216;absolute&#8217;;<br />
    this.style.left = &#8216;-1000px&#8217;;<br />
}<br />
};</p>
			</div>
		</li>
		
		
			
		<li id="comment-274" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.baseclasstech.com' rel='external nofollow' class='url'>Rob Mitchell</a> on March 16, 2006</p>
			</div>
			<div class="comment-text">
				<p>Hi &#8211; I&#8217;m using your script with IE 6.0.2900.2180.xpsp_sp2_rtm.040803-2158 on Windows XP Pro SP2 and results in a Javascript error when trying to submit the form with Access is denied. Any ideas?</p>
<p>Thanks!</p>
<p>Rob<br />
<a href="mailto:rob@baseclasstech.com">rob@baseclasstech.com</a></p>
			</div>
		</li>
		
		
			
		<li id="comment-275" class="even">
			<div class="comment-meta">
							<p class="comment-author">vic on March 20, 2006</p>
			</div>
			<div class="comment-text">
				<p>Hi,</p>
<p>I got a problem with uploading the files:<br />
I used Shawn Parkers upload script-&gt; <a href="http://www.top-frog.com/files/scripts/upload_sample.phps" rel="nofollow">http://www.top-frog.com/files/scripts/upload_sample.phps</a></p>
<p>But when I try to upload I get this error:</p>
<p>Warning: move_uploaded_file(C:/Program Files/xampp/htdocshttp://localhost/restricted/upload/uploads/tyson_4.jpg) [function.move-uploaded-file]: failed to open stream: Invalid argument in C:\Program Files\xampp\htdocs\restricted\upload\upload.php on line 119</p>
<p>Warning: move_uploaded_file() [function.move-uploaded-file]: Unable to move &#8216;C:\Program Files\xampp\tmp\php11.tmp&#8217; to &#8216;C:/Program Files/xampp/htdocshttp://localhost/restricted/upload/uploads/tyson_4.jpg&#8217; in C:\Program Files\xampp\htdocs\restricted\upload\upload.php on line 119</p>
<p>Does anyone has an idea what&#8217;s wrong?<br />
regards,</p>
<p>Vic</p>
			</div>
		</li>
		
		
			
		<li id="comment-280" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.11outof10.com/' rel='external nofollow' class='url'>Neil</a> on March 29, 2006</p>
			</div>
			<div class="comment-text">
				<p>(tip for beginners)<br />
In PHP this is a good starting point for handling the files</p>
<p>echo &#8216;&lt;pre&gt;&#8217;;<br />
print_r ($_POST);<br />
print_r ($_FILES);<br />
echo &#8216;&lt;/pre&gt;&#8217;;</p>
<p>Just shows you what you&#8217;ve got after the submit.</p>
			</div>
		</li>
		
		
			
		<li id="comment-281" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://phpfilenavigator.litoweb.net/' rel='external nofollow' class='url'>Lito</a> on April 6, 2006</p>
			</div>
			<div class="comment-text">
				<p>This is a added to check if the file all ready exists in the list:</p>
<p>      element.onchange = function () {<br />
        var files = this.parentNode.getElementsByTagName(&#8216;input&#8217;);<br />
        var existe = new Array();</p>
<p>        for (var i=0; i  1) {<br />
              return false;<br />
            }<br />
          }<br />
        }</p>
			</div>
		</li>
		
		
			
		<li id="comment-282" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Steven on April 7, 2006</p>
			</div>
			<div class="comment-text">
				<p>Great Script. Got some problem with it though. I use firefox, php to generate the javascript.</p>
<p>page1: the multiselector, works fine, no errors, shows the fullpath of the file.</p>
<p>-submit the form to page2-</p>
<p>page2: php receive the variable file_&#8221;id&#8221; as a filename only, instead of the fullpath of the file.</p>
<p>Anyone else got this kind of problem? Any help would be great.</p>
<p>Cheers</p>
			</div>
		</li>
		
		
			
		<li id="comment-283" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://anilal.tk' rel='external nofollow' class='url'>Anilal</a> on April 7, 2006</p>
			</div>
			<div class="comment-text">
				<p>Wonderful file upload component.<br />
Could some one help me how we can get the files in the backend ASP so as to upload it.<br />
What will be the File name(s)? any idea or code ..appreciated</p>
<p>Anilal</p>
			</div>
		</li>
		
		
			
		<li id="comment-284" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://xcottawa.ca' rel='external nofollow' class='url'>Craig</a> on April 8, 2006</p>
			</div>
			<div class="comment-text">
				<p>Would it be possible to add all of the file elements to a single array?  My php upload class (Easy PHP Uploads) expects an array like&#8230;</p>
<p>_FILES: Array<br />
(<br />
    [upload] =&gt; Array<br />
        (<br />
            [name] =&gt; Array<br />
                (<br />
                    [0] =&gt; FETall.jpg<br />
                    [1] =&gt; gan_multiplot.plt<br />
                    [2] =&gt; will-look-up_0_97.zip<br />
                )</p>
<p>            [type] =&gt; Array<br />
                (<br />
                    [0] =&gt; image/jpeg<br />
                    [1] =&gt; application/octet-stream<br />
                    [2] =&gt; application/octet-stream<br />
                )</p>
<p>            [tmp_name] =&gt; Array<br />
                (<br />
                    [0] =&gt; C:\WINNT\php59B.tmp<br />
                    [1] =&gt; C:\WINNT\php59C.tmp<br />
                    [2] =&gt; C:\WINNT\php59D.tmp<br />
                )</p>
<p>            [error] =&gt; Array<br />
                (<br />
                    [0] =&gt; 0<br />
                    [1] =&gt; 0<br />
                    [2] =&gt; 0<br />
                )</p>
<p>            [size] =&gt; Array<br />
                (<br />
                    [0] =&gt; 46676<br />
                    [1] =&gt; 6713<br />
                    [2] =&gt; 33271<br />
                )</p>
<p>        )</p>
<p>)</p>
<p>Thanks for any advice.  I&#8217;m no js expert, but with a drawing can probably figure it out. <img src='http://the-stickman.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
<p>Cheers.</p>
			</div>
		</li>
		
		
			
		<li id="comment-276" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.bestfoodjunction.com' rel='external nofollow' class='url'>Melissa</a> on April 8, 2006</p>
			</div>
			<div class="comment-text">
				<p>This was quick and easy! You save my time without having to code and look elsewhere. Thanks.</p>
			</div>
		</li>
		
		
			
		<li id="comment-277" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://xcottawa.ca' rel='external nofollow' class='url'>Craig</a> on April 8, 2006</p>
			</div>
			<div class="comment-text">
				<p>My appologies this was answered in comment XXXII.</p>
<p>hint: element.name=&#8217;upload[]&#8216;; // d&#8217;uh!</p>
			</div>
		</li>
		
		
			
		<li id="comment-278" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://thinsoldier.com' rel='external nofollow' class='url'>thinsoldier</a> on April 10, 2006</p>
			</div>
			<div class="comment-text">
				<p>in safari the limit of 3 files is not obeyed.</p>
<p>And your security code is really hard.</p>
			</div>
		</li>
		
		
			
		<li id="comment-279" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.specialtywebdesign.ca' rel='external nofollow' class='url'>Andrew Bulmer</a> on April 11, 2006</p>
			</div>
			<div class="comment-text">
				<p>Not sure if anyone checks this page, but I found a small bug in this. If you click browse twice to bring up 2 file selectors at once and then select a couple of files, one of them can&#8217;t be deleted. It throws an error on the following:</p>
<p><code>this.parentNode.element.parentNode.removeChild( this.parentNode.element );</code></p>
<p>This is because when you open the second selector it tried to remove it twice. I think you might want to do something like this inside the element.onchange function (in addElement):</p>
<p><code>        this.onchange = function ()<br />
        {<br />
          this.multi_selector.addElement (this) ;<br />
          this.multi_selector.addListRow (this) ;<br />
        } ;<br />
</code><br />
I&#8217;ll have to do some testing to see if that works on the submit side of things</p>
			</div>
		</li>
		
		
			
		<li id="comment-285" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.specialtywebdesign.ca' rel='external nofollow' class='url'>Andrew Bulmer</a> on April 11, 2006</p>
			</div>
			<div class="comment-text">
				<p>Well it seems it wasn&#8217;t as simple as I first thought. But I do have a solution&#8230; I just made the onchange event update the row. To do this I had to make addListRow return the DOM node of the list and add a textnode instead ofusing innerHTML. I also had to make a refernce to the text node and the delete button in the DOM node. Here&#8217;s the code for addElement and addList node:</p>
<blockquote><p><code>	/**<br />
	 * Add a new file input element<br />
	 */<br />
	this.addElement = function( element ){</p>
<p>		// Make sure it's a file input element<br />
		if( element.tagName == 'INPUT' &amp;&amp; element.type == 'file' ){</p>
<p>			// Element name -- what number am I?<br />
			element.name = 'file_' + this.id++;</p>
<p>			// Add reference to this object<br />
			element.multi_selector = this;</p>
<p>			// What to do when a file is selected<br />
			element.onchange = function(){</p>
<p>				// New file input<br />
				var new_element = document.createElement( 'input' );<br />
				new_element.type = 'file';</p>
<p>				// Add new element<br />
				this.parentNode.insertBefore( new_element, this );</p>
<p>				// Apply 'update' to element<br />
				this.multi_selector.addElement( new_element );</p>
<p>				// Update list<br />
				var row = this.multi_selector.addListRow( this );</p>
<p>				// Hide this: we can't use display:none because Safari doesn't like it<br />
				this.style.position = 'absolute';<br />
				this.style.left = '-1000px';</p>
<p>        this.onchange = function () {</p>
<p>          // just in case the user opens two file selectors at once<br />
          row.removeChild(row.text) ;<br />
          row.text = document.createTextNode (this.value) ;<br />
      	  row.insertBefore( row.text, row.button );<br />
        }<br />
			};<br />
			// If we've reached maximum number, disable input element<br />
			if( this.max != -1 &amp;&amp; this.count &gt;= this.max ){<br />
				element.disabled = true;<br />
			};</p>
<p>			// File element counter<br />
			this.count++;<br />
			// Most recent element<br />
			this.current_element = element;</p>
<p>		} else {<br />
			// This can only be applied to file input elements!<br />
			alert( 'Error: not a file input element' );<br />
		};</p>
<p>	};</p>
<p>	/**<br />
	 * Add a new row to the list of files<br />
	 */<br />
	this.addListRow = function( element ){</p>
<p>		// Row div<br />
		var new_row = document.createElement( 'div' );</p>
<p>		// Delete button<br />
		new_row.button = document.createElement( 'input' );<br />
		new_row.button.type = 'button';<br />
		new_row.button.value = 'Delete';</p>
<p>		// References<br />
		new_row.element = element;</p>
<p>		// Delete function<br />
		new_row.button.onclick= function(){</p>
<p>			// Remove element from form<br />
			this.parentNode.element.parentNode.removeChild( this.parentNode.element );</p>
<p>			// Remove this row from the list<br />
			this.parentNode.parentNode.removeChild( this.parentNode );</p>
<p>			// Decrement counter<br />
			this.parentNode.element.multi_selector.count--;</p>
<p>			// Re-enable input element (if it's disabled)<br />
			this.parentNode.element.multi_selector.current_element.disabled = false;</p>
<p>			// Appease Safari<br />
			//    without it Safari wants to reload the browser window<br />
			//    which nixes your already queued uploads<br />
			return false;<br />
		};</p>
<p>		// Set row value<br />
		new_row.text = document.createTextNode (element.value) ;<br />
		new_row.appendChild(new_row.text) ;</p>
<p>		// Add button<br />
		new_row.appendChild( new_row.button );</p>
<p>		// Add it to the list<br />
		this.list_target.appendChild( new_row );</p>
<p>		return new_row ;<br />
	};<br />
</code></p></blockquote>
<p>Hope this helps</p>
			</div>
		</li>
		
		
			
		<li id="comment-287" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.brightfox.ae' rel='external nofollow' class='url'>stephen</a> on April 13, 2006</p>
			</div>
			<div class="comment-text">
				<p>great script. i have it working with classic asp. buzz me if you need src.</p>
			</div>
		</li>
		
		
			
		<li id="comment-288" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.fitzxp.com' rel='external nofollow' class='url'>Fitz</a> on April 16, 2006</p>
			</div>
			<div class="comment-text">
				<p>I am using Coldfusion. Can someone give me an example of the backend for the multiupload. I have the front end with no problem but the back end I am not sure how to address after I submit to another page. All the examples are in php that I currently see. Any help is welcomed.</p>
<p>Thank you in advance.</p>
<p>Fitz</p>
			</div>
		</li>
		
		
			
		<li id="comment-289" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.fitzxp.com' rel='external nofollow' class='url'>Fitz</a> on April 17, 2006</p>
			</div>
			<div class="comment-text">
				<p>I found the problem with my server end. It had nothing to do with the code it was actually firefox. The deal with having the form delcared within in a table was causing the problem Once I read the above post I found that the form had to be delcared above the table and all is well. For those few that are having to use coldfusion at their job and need this code here it is..</p>
<p>			<b>Could not upload file [#file.serverfile#]</b></p>
<p>			&#8220;&gt;</p>
<p>			&#8220;&gt;</p>
<p>Sorry for the crude formatting.</p>
<p>Fitz</p>
			</div>
		</li>
		
		
			
		<li id="comment-290" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.fitzxp.com' rel='external nofollow' class='url'>Fitz</a> on April 17, 2006</p>
			</div>
			<div class="comment-text">
				<p>Ooops forgot about the special characters: See if this works better.</p>
<p>&lt;cfloop  from=&#8221;0&#8243; to=&#8221;#lvMaxNumberFiles#&#8221; index=&#8221;iItem&#8221;&gt;<br />
&lt;cfset filename = &#8220;form.File_#iItem#&#8221;&gt;<br />
	&lt;cfif isdefined(&#8220;#variables.filename#&#8221;)&gt;<br />
	&lt;!&#8212; Handle the Pictures\All Folder first &#8212;&gt;<br />
		&lt;cfif evaluate(variables.filename) neq &#8220;&#8221;&gt;<br />
		&lt;cfset lvUploadOkay = &#8220;true&#8221;&gt;<br />
			&lt;CFTRY&gt;<br />
			&lt;cffile action=&#8221;upload&#8221; filefield=&#8221;#variables.filename#&#8221; destination=&#8221;#lvPicturesPath#&#8221; nameconflict=&#8221;unique&#8221;&gt;&lt;/cffile&gt;<br />
			&lt;CFCATCH TYPE=&#8221;Any&#8221;&gt;&lt;cfset lvUploadOkay = &#8220;false&#8221;&gt;&lt;CFOUTPUT&gt;&lt;b&gt;Could not upload file [#file.serverfile#]&lt;/b&gt;&lt;br&gt;&lt;/cfoutput&gt;&lt;/CFCATCH&gt;<br />
			&lt;/CFTRY&gt;</p>
<p>		&lt;cfif isdefined(&#8220;lvUploadOkay&#8221;) and lvUploadOkay is &#8216;true&#8217;&gt;<br />
			&lt;cfset message = message &amp; &#8220;#file.serverfile#  was uploaded successfully&lt;br&gt;&#8221;&gt;<br />
		&lt;cfelse&gt;<br />
			&lt;cfset message = message &amp; &#8220;#file.serverfile#  was not uploaded&lt;br&gt;&#8221;&gt;<br />
		&lt;/cfif&gt;<br />
	&lt;/cfif&gt;<br />
&lt;/cfif&gt;<br />
&lt;/cfloop&gt;</p>
			</div>
		</li>
		
		
			
		<li id="comment-291" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Luca on April 19, 2006</p>
			</div>
			<div class="comment-text">
				<p>What do you think about adding this code to the UPLOAD SCRIPT with PROGRESS BAR in AJAX ?! at this site <a href="http://php5.bluga.net/progressDemo/demo.php" rel="nofollow">http://php5.bluga.net/progressDemo/demo.php</a></p>
<p>thanks</p>
<p>Luca.</p>
			</div>
		</li>
		
		
			
		<li id="comment-295" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://ribosomatic.com' rel='external nofollow' class='url'>Jesus</a> on April 21, 2006</p>
			</div>
			<div class="comment-text">
				<p>El cÃ³digo es genial, un excelente trabajo&#8230;<br />
Thank you.</p>
			</div>
		</li>
		
		
			
		<li id="comment-296" class="odd">
			<div class="comment-meta">
							<p class="comment-author">TomaÅ¾ on April 28, 2006</p>
			</div>
			<div class="comment-text">
				<p>Very coll code, thanks.</p>
<p>TomaÅ¾</p>
			</div>
		</li>
		
		
			
		<li id="comment-297" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://hudz.blogspot.com' rel='external nofollow' class='url'>hudz</a> on April 28, 2006</p>
			</div>
			<div class="comment-text">
				<p>Anyone know how to do it with Java-struts? &#8230;</p>
<p>Just email me and I will appreciate it very much, i will put credit on you.</p>
			</div>
		</li>
		
		
			
		<li id="comment-299" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://hudz.blogspot.com' rel='external nofollow' class='url'>hudz</a> on May 2, 2006</p>
			</div>
			<div class="comment-text">
				<p>I have trouble with downlisting the files. I have tried it for several days using java-struts and mozilla FireFox 1.5.0.2. It doesn&#8217;t seem to work. I haven&#8217;t alter the code, it&#8217;s a standard from the downloaded file. Also, what is exactly the function between these two files, multifile.js and multifile_compressed.js, I have read the comments but does not help me. Please Help.</p>
			</div>
		</li>
		
		
			
		<li id="comment-300" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://hudz.blogspot.com' rel='external nofollow' class='url'>hudz</a> on May 3, 2006</p>
			</div>
			<div class="comment-text">
				<p>hi all,</p>
<p>I have downloaded the files and implemented it at my code, but it seems doesn&#8217;t works. I used struts. and im totally new. This is my code</p>
<blockquote><p>
Zhtml:file property=&#8221;attachment&#8221; size=&#8221;75&#8243; /&gt; Zbr&gt;<br />
	Zdiv id=&#8221;files_list&#8221;&gt;Zstrong&gt;Files :Z/strong&gt;Z/div&gt;<br />
	Zscript&gt;<br />
	var multi_selector = new MultiSelector( document.getElementById( &#8216;files_list&#8217; ), 4 );<br />
	multi_selector.addElement( document.getElementById( &#8216;attachment&#8217; ) );<br />
	Z/script&gt;</p>
</blockquote>
<p>Please tell me what is lack in my code because it does not list down the files..</p>
<p>this is my email <a href="mailto:hudzna@gmail.com">hudzna@gmail.com</a></p>
<p>Thank you..very much</p>
			</div>
		</li>
		
		
			
		<li id="comment-286" class="odd">
			<div class="comment-meta">
							<p class="comment-author">derek on May 4, 2006</p>
			</div>
			<div class="comment-text">
				<p>hudz, The compressed file is the same code, just smaller in filesize. Just makes your site load faster since there is a smaller download.</p>
			</div>
		</li>
		
		
			
		<li id="comment-298" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://hudz.blogspot.com' rel='external nofollow' class='url'>hudz</a> on May 4, 2006</p>
			</div>
			<div class="comment-text">
				<p>Thank you Derek,</p>
<p>I&#8217;ve noticed it..Sorry for posting a nonsense post. But, Currently I&#8217;ve tried to do it with struts but it seems to not working. I&#8217;ve posted my code above. Hope anyone can help me.</p>
<p>Thank you again..</p>
			</div>
		</li>
		
		
			
		<li id="comment-303" class="odd">
			<div class="comment-meta">
							<p class="comment-author">mankind on May 5, 2006</p>
			</div>
			<div class="comment-text">
				<p>alert(&#8220;Nice Work &#8230;..&#8221;);</p>
<p>[Stickman says: Hmm...embedding Javascript in a comment...testing for XSS vulnerabilities? I think maybe you need to read up a bit more on the topic first.]</p>
			</div>
		</li>
		
		
			
		<li id="comment-292" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://hudz.blogspot.com' rel='external nofollow' class='url'>hudz</a> on May 9, 2006</p>
			</div>
			<div class="comment-text">
				<p>in original :</p>
<p>input id=&#8221;my_file_element&#8221; type=&#8221;file&#8221; name=&#8221;file_1&#8243; &gt;</p>
<p>in my struts</p>
<p>html:file property=&#8221;attachment&#8221; size=&#8221;75&#8243; /&gt;</p>
<p>where should I put name=&#8221;file_1&#8243;??</p>
			</div>
		</li>
		
		
			
		<li id="comment-304" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.inputdata.no' rel='external nofollow' class='url'>Ron W. Waatsveen</a> on May 14, 2006</p>
			</div>
			<div class="comment-text">
				<p>Is it possible to hide the  tag?<br />
I have an application with a Java applet that download a file to a spesific catalog on my lokal disk.<br />
When im finished with my document I push a button that starts an applet who upload the file.<br />
I dont like this method because its little bit slow and maybe a overkill.<br />
I also want to say that the applet I use uploads several files at time. I can select a hole folder with files and upload them.</p>
			</div>
		</li>
		
		
			
		<li id="comment-305" class="even">
			<div class="comment-meta">
							<p class="comment-author">Dave on May 15, 2006</p>
			</div>
			<div class="comment-text">
				<p>Hi,</p>
<p>has anyone used this yet for creating a mail feedback form that in the back-end (php based) mails the attached files? I would be looking for this. Until now I got stuck with pre-defining the number of possible attachments so for the front end this script would be great. Now I&#8217;m not so sure how to process the files in the back-end and mail them. Any?</p>
<p>Thx</p>
<p>Dave</p>
			</div>
		</li>
		
		
			
		<li id="comment-306" class="odd">
			<div class="comment-meta">
							<p class="comment-author">David Scotti on May 18, 2006</p>
			</div>
			<div class="comment-text">
				<p>Does not work in Netscape &#8211; and in this world &#8211; if it doesn&#8217;t work in netscape, then it doesn&#8217;t work at all!<br />
 <img src='http://the-stickman.com/wp-includes/images/smilies/icon_sad.gif' alt=':(' class='wp-smiley' /> </p>
			</div>
		</li>
		
		
			
		<li id="comment-301" class="even">
			<div class="comment-meta">
							<p class="comment-author">david on May 21, 2006</p>
			</div>
			<div class="comment-text">
				<p>Is anone able to give me a piece of code to completly rest the multiuploader? (delete all rows and hidden file input fields). I tried to do this for several hours but it did not work <img src='http://the-stickman.com/wp-includes/images/smilies/icon_sad.gif' alt=':-(' class='wp-smiley' /> </p>
<p>Thank you,<br />
david</p>
			</div>
		</li>
		
		
			
		<li id="comment-307" class="odd">
			<div class="comment-meta">
							<p class="comment-author">derick on May 24, 2006</p>
			</div>
			<div class="comment-text">
				<p>Great script. Doesn&#8217;t work in Konqueror, though. The file list doesn&#8217;t update.</p>
			</div>
		</li>
		
		
			
		<li id="comment-308" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.chinapowercords.com' rel='external nofollow' class='url'>power cord</a> on May 25, 2006</p>
			</div>
			<div class="comment-text">
				<p> <img src='http://the-stickman.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
			</div>
		</li>
		
		
			
		<li id="comment-302" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Prasanna on May 30, 2006</p>
			</div>
			<div class="comment-text">
				<p>Hai,,</p>
<p>Thank you for the Script it working fine .</p>
<p>Any AJAX based FTP component For c#.NET Development and ASP.NET Development.</p>
<p>Thank you..</p>
<p>R.Prasanna Vignesh</p>
			</div>
		</li>
		
		
			
		<li id="comment-293" class="even">
			<div class="comment-meta">
							<p class="comment-author">Sondre on June 2, 2006</p>
			</div>
			<div class="comment-text">
				<p>Hi!<br />
This looks like a great solution to me, but I&#8217;m simply not into coding&#8230; What am I to do with the files when I have downloaded them? Sorry if it&#8217;s a stupid question&#8230;</p>
			</div>
		</li>
		
		
			
		<li id="comment-294" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Frank on June 3, 2006</p>
			</div>
			<div class="comment-text">
				<p>Was wondering if there has been any code fixes for the table code in one of the above posting. Primarily this one post :Comment by Ben | 02/09/06 at 3:38 pm . I cannot get it to see the tbody&#8217;s!! I have tried a bunch of things. Any help would be appreciated. Thank you.</p>
			</div>
		</li>
		
		
			
		<li id="comment-311" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.davidyardy.com' rel='external nofollow' class='url'>dave</a> on June 22, 2006</p>
			</div>
			<div class="comment-text">
				<p>Very nice script.</p>
<p>I have added the following javascript script to prevent the user from uploading the same file more than once.</p>
<p>// Check to ensure same file is not uploaded more than once dhy<br />
    var files = this.parentNode.getElementsByTagName(&#8216;input&#8217;);<br />
    var lastfilename = files[files.length-1].value<br />
    for (var i=0; i</p>
			</div>
		</li>
		
		
			
		<li id="comment-312" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.davidyardy.com' rel='external nofollow' class='url'>dave</a> on June 22, 2006</p>
			</div>
			<div class="comment-text">
				<p>Ok, the web page online messed up previous post.  I will try again below.<br />
			        element.onchange = function(){</p>
<p>			            // Check to ensure same file is not uploaded more than once dhy<br />
			            var files = this.parentNode.getElementsByTagName(&#8216;input&#8217;);<br />
			            var lastfilename = files[files.length-1].value<br />
			            for (var i=0; i</p>
			</div>
		</li>
		
		
			
		<li id="comment-313" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.davidyardy.com' rel='external nofollow' class='url'>dave</a> on June 22, 2006</p>
			</div>
			<div class="comment-text">
				<p>i</p>
			</div>
		</li>
		
		
			
		<li id="comment-314" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.davidyardy.com' rel='external nofollow' class='url'>dave</a> on June 22, 2006</p>
			</div>
			<div class="comment-text">
				<p>element.onchange = function(){</p>
<p>    // Check to ensure same file is not uploaded more than once dhy<br />
    var files = this.parentNode.getElementsByTagName(&#8216;input&#8217;);<br />
    var lastfilename = files[files.length-1].value<br />
    for (var i=0; i</p>
			</div>
		</li>
		
		
			
		<li id="comment-315" class="even">
			<div class="comment-meta">
							<p class="comment-author">Craig J. on June 24, 2006</p>
			</div>
			<div class="comment-text">
				<p>Has anyone written a Delete All function?</p>
<p>I&#8217;d like to add a button to remove all of the files that the user has entered but I am not sure how to properly remove all of the file elements.</p>
<p>Can someone help me with this?</p>
<p>Thanks<br />
Craig J.</p>
			</div>
		</li>
		
		
			
		<li id="comment-316" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Lee on June 27, 2006</p>
			</div>
			<div class="comment-text">
				<p>I was wondering if it would be possible to hide the &#8216;no file selected&#8217; (in safari) message that the file input places on the form?  I tried adding new_element.style.color = &#8216;#FFFFFF&#8217;; in the javascript, but the font colour didn&#8217;t change (the text colour in the file input box in firefox changed to white).</p>
<p>Anyone else have any ideas?</p>
			</div>
		</li>
		
		
			
		<li id="comment-309" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.worldwidecreations.com' rel='external nofollow' class='url'>Jafo</a> on June 27, 2006</p>
			</div>
			<div class="comment-text">
				<p>To add a space before the delete key:</p>
<p>		// Set row value<br />
		new_row.innerHTML = element.value;</p>
<p>Change to:</p>
<p>		// Set row value<br />
		new_row.innerHTML = element.value + &#8216; &#8216;;</p>
			</div>
		</li>
		
		
			
		<li id="comment-317" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://djhash.dockex.com' rel='external nofollow' class='url'>Hisham Al-Beik</a> on July 7, 2006</p>
			</div>
			<div class="comment-text">
				<p>#1 &#8211; great code.. thanks for it..</p>
<p>#2- How to DELETE ALL&#8230; <img src='http://the-stickman.com/wp-includes/images/smilies/icon_smile.gif' alt=':-)' class='wp-smiley' />    (Stickman, you can implement it in your code if you like, just credit me, thanks, and if you are able to clean it up.. then please shoot me an email with the clean (uncompressed) code.) thanks..</p>
<p>   Step #1 &#8211; I added two hidden fields.. to keep track of the ID of added rows and &#8216;hidden&#8217; file inputs.</p>
<p>    Step #2 &#8211; I edited the multifile.js so that everytime it adds a field and a row, it appends the hidden fields with their IDs seperated by a comma. (which we will need later to break them down into an array)</p>
<p>// Element name &#8212; what number am I?<br />
            ada = &#8216;file_&#8217; + this.id++;<br />
            element.name = ada;<br />
            element.id = ada;</p>
<p>//Hide this: we can&#8217;t use display:none because Safari doesn&#8217;t like it<br />
this.style.position = &#8216;absolute&#8217;;<br />
this.style.left = &#8216;-1000px&#8217;;</p>
<p>document.getElementById(&#8216;hidden_field_2&#8242;).value += this.id + &#8220;,&#8221;;  // Delete All</p>
<p>Also, if you want you can put in the form tag within the onReset, so that when resetting the form it will also clear the file list..</p>
<p>any question email me at  halbeik AT DONOTSPAM vicr DOT com   (just remove the donotspam part and replace the rest with the proper characters&#8230;.</p>
<p>######## Stickman, I can email you a copy of my edited example zip i downloaded from here.. and you can clean it up and host it..  just email me if you like&#8230;.. (i&#8217;ll also include this message as a txt file.. i&#8217;ll have to clean it up with the line breaks and such&#8230; #########################</p>
			</div>
		</li>
		
		
			
		<li id="comment-310" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://djhash.dockex.com' rel='external nofollow' class='url'>Hisham Al-Beik</a> on July 7, 2006</p>
			</div>
			<div class="comment-text">
				<p>Ok&#8230; so part of it didnt show up.. here is a link to a text file on how you can implement a DELETE ALL..</p>
<p>on a side note, one thing i added to this in my work, is a text input below each row of the file list, this is because the usage is to upload multiple images.. and i wanted to inclde a feature to add captions to each picture&#8230;. i think as long as you add anything within the div element.. it&#8217;ll get removed with the delete all&#8230; i havent tested yet, but will do tomorrow.. and put an update..</p>
<p><a href="http://djhash.dockex.com/how-to-delete-all.txt" rel="nofollow">http://djhash.dockex.com/how-to-delete-all.txt</a></p>
			</div>
		</li>
		
		
			
		<li id="comment-318" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://djhash.dockex.com' rel='external nofollow' class='url'>Hisham Al-Beik</a> on July 7, 2006</p>
			</div>
			<div class="comment-text">
				<p>Ok.. so the test was successful.. anything u put in the div, will get removed with the delete all function..</p>
<p>Have fun..</p>
			</div>
		</li>
		
		
			
		<li id="comment-319" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.flash2web.com' rel='external nofollow' class='url'>Jose Rodriguez</a> on July 8, 2006</p>
			</div>
			<div class="comment-text">
				<p>Hope this helps for the uploading part, the code only shows useful information&#8230;<br />
it only let you upload gif and jpeg files.</p>
<p>&lt;html&gt;<br />
&lt;head&gt;&lt;title&gt;Results&lt;/title&gt;&lt;/head&gt;<br />
&lt;body&gt;<br />
&lt;?php<br />
echo &quot;Files sent&lt;br&gt;&quot;;<br />
reset ($_FILES);<br />
while (list ($clave, $val) = each ($_FILES)) {<br />
if($val['type'] == &quot;image/gif&quot; or $val['type'] == &quot;image/pjpeg&quot;){<br />
echo &#8216;&lt;br&gt;&#8217;;<br />
echo &quot;$clave =&gt; $val&lt;br&gt;&quot;;<br />
echo &#8216;Name: &#8216; . $val['name'].&#8217;&lt;br&gt;&#8217;;<br />
echo &#8216;TmpN: &#8216; . $val['tmp_name'].&#8217;&lt;br&gt;&#8217;;<br />
echo &#8216;Size: &#8216; . $val['size'].&#8217;&lt;br&gt;&#8217;;<br />
echo &#8216;Type: &#8216; . $val['type'].&#8217;&lt;br&gt;&#8217;;<br />
echo &#8216;Err_: &#8216; . $val['error'].&#8217;&lt;br&gt;&#8217;;<br />
}<br />
}<br />
?&gt;<br />
&lt;/body&gt;<br />
&lt;/html&gt;</p>
			</div>
		</li>
		
		
			
		<li id="comment-322" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Damon on July 13, 2006</p>
			</div>
			<div class="comment-text">
				<p>Uhh, nice effort but.. don&#8217;t you think you&#8217;ve reinvented the wheel a bit with this? This has been done hundreds of times before.. the most popular probably being gmails method for attachments (which also uploads them as each gets attached so it feels lightning fast).</p>
			</div>
		</li>
		
		
			
		<li id="comment-323" class="even">
			<div class="comment-meta">
							<p class="comment-author">Damon on July 13, 2006</p>
			</div>
			<div class="comment-text">
				<p>Also, forgot to mention that the spec allows more than one file per field (comma delimited IIRC). The vendors have just never implemented it. If they would you could Ctrl/Shift click to select multiple files in the file browser just like you can outside the browser.</p>
			</div>
		</li>
		
		
			
		<li id="comment-320" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Stickman on July 13, 2006</p>
			</div>
			<div class="comment-text">
				<p>Damon: If you read the original post, you&#8217;ll see that the intention was specifically to avoid the &#8216;multiple file elements&#8217; approach (as used by GMail, among others). Of course the end result is the same, but that&#8217;s not the point &#8212; it&#8217;s about presentation.</p>
<p>As for uploading files on the fly: you could do the same with this technique but I didn&#8217;t because again, that wasn&#8217;t the point. This was never supposed to be &#8216;the ultimate AJAX upload widget&#8217;, just a nicer way to present multiple uploads.</p>
<p>If I had more spare time, maybe I&#8217;d develop this to the nth degree &#8212; there certainly have been plenty of suggestions for improvements in the 180 or so comments so far. But for now I think of it as a nice little proof-of-concept &#8212; it&#8217;s up to the developer to decide what, if anything, to do with it.</p>
			</div>
		</li>
		
		
			
		<li id="comment-324" class="even">
			<div class="comment-meta">
							<p class="comment-author">Wenqi Dwyer on July 16, 2006</p>
			</div>
			<div class="comment-text">
				<p>It appears the script doesn&#8217;t support maintaining the file list values upon refreshing of the page.  Any work-around?</p>
			</div>
		</li>
		
		
			
		<li id="comment-321" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Kabelo on July 19, 2006</p>
			</div>
			<div class="comment-text">
				<p>thanks for the code it seems to work,the proble i&#8217;m having is to insert those uploaded files to the database.can you help with the insert of those file.</p>
			</div>
		</li>
		
		
			
		<li id="comment-325" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.patricksasser.com' rel='external nofollow' class='url'>Patrick</a> on July 25, 2006</p>
			</div>
			<div class="comment-text">
				<p>How would you handle this via php?  The code works fine to upload my files as long as you don&#8217;t delete any files along the way.  I give each upload box the name</p>
<p>element.name = &#8216;uploadedfile&#8217; + this.id++;</p>
<p>Then in my php code I upload the file from the file box called uploadedfile1, uploadedfile2, etc.  As you delete any files it still increments the element name and this causes me a problem.</p>
<p>I have a maximum of 12 files to upload so if you delete two files the last two uploaded file box names are uploadedfile12 (since numbering starts at 0) and uploadedfile13.</p>
<p>Anyone have any suggestions?</p>
			</div>
		</li>
		
		
			
		<li id="comment-326" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://the-stickman.com' rel='external nofollow' class='url'>Ashok</a> on July 27, 2006</p>
			</div>
			<div class="comment-text">
				<p>Hi Plz send me code to attach multiple file in email using PHP..</p>
			</div>
		</li>
		
		
			
		<li id="comment-327" class="even">
			<div class="comment-meta">
							<p class="comment-author">Pablo on August 1, 2006</p>
			</div>
			<div class="comment-text">
				<p>Hey! I&#8217;m a newbie! So please help me on this one!</p>
<p>I simple do not know how to get the selected files uploaded to my server!?</p>
<p>I&#8217;m using asp.net 2.0 and Visual Studio 2005&#8230;</p>
<p>Below i my code:<br />
&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;</p>
<p>.ASPX<br />
&#8212;&#8212;-</p>
<p><!-- This is the form --></p>
<p>Files:</p>
<p>    var multi_selector = new MultiSelector( document.getElementById( &#8216;files_list&#8217; ), 3 );<br />
    multi_selector.addElement( document.getElementById( &#8216;my_file_element&#8217; ) );</p>
<p>.CS<br />
&#8212;&#8212;</p>
<p>using System.Web;<br />
using System.Web.Security;<br />
using System.Web.UI;<br />
using System.Web.UI.WebControls;<br />
using System.Web.UI.WebControls.WebParts;<br />
using System.Web.UI.HtmlControls;</p>
<p>public partial class Default2 : System.Web.UI.Page<br />
{<br />
    protected void Page_Load(object sender, EventArgs e)<br />
    {</p>
<p>    }</p>
<p>protected void Button1_Click(object sender, EventArgs e)<br />
    {<br />
        //â€˜get the form file collection<br />
        HttpFileCollection myfiles = System.Web.HttpContext.Current.Request.Files;</p>
<p>        for(int iFile = 0; iFile</p>
			</div>
		</li>
		
		
			
		<li id="comment-328" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Pablo on August 1, 2006</p>
			</div>
			<div class="comment-text">
				<p>Hmm&#8230;I do not know what happen before&#8230;my message got pretty f&#8230;..? why? posting too much&#8230;</p>
<p>Hey! I&#8217;m a newbie! So please help me on this one!</p>
<p>I simple do not know how to get the selected files uploaded to my server!?</p>
<p>I&#8217;m using asp.net 2.0 and Visual Studio 2005&#8230;</p>
<p>Below is my code:<br />
&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;</p>
<p>.ASPX<br />
&#8212;&#8212;-</p>
<p><!-- This is the form --></p>
<p>Files:</p>
<p>    var multi_selector = new MultiSelector( document.getElementById( &#8216;files_list&#8217; ), 3 );<br />
    multi_selector.addElement( document.getElementById( &#8216;my_file_element&#8217; ) );</p>
<p>and &#8211; see next message&#8230;</p>
			</div>
		</li>
		
		
			
		<li id="comment-329" class="even">
			<div class="comment-meta">
							<p class="comment-author">Pablo on August 1, 2006</p>
			</div>
			<div class="comment-text">
				<p>.CS<br />
&#8212;&#8212;</p>
<p>using System.Web;<br />
using System.Web.Security;<br />
using System.Web.UI;<br />
using System.Web.UI.WebControls;<br />
using System.Web.UI.WebControls.WebParts;<br />
using System.Web.UI.HtmlControls;</p>
<p>public partial class Default2 : System.Web.UI.Page<br />
{<br />
    protected void Page_Load(object sender, EventArgs e)<br />
    {</p>
<p>    }</p>
<p>protected void Button1_Click(object sender, EventArgs e)<br />
    {<br />
        //â€˜get the form file collection<br />
        HttpFileCollection myfiles = System.Web.HttpContext.Current.Request.Files;</p>
<p>        for(int iFile = 0; iFile</p>
			</div>
		</li>
		
		
			
		<li id="comment-330" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.Kairaus.com' rel='external nofollow' class='url'>Aalok</a> on August 2, 2006</p>
			</div>
			<div class="comment-text">
				<p>Jesse H gave this code for vb.net .</p>
<p>Here is vb.net back end implementation after the page is submitted. Someone was asking for it.</p>
<p>â€˜get the form file collection<br />
Dim myfiles As System.Web.HttpFileCollection = System.Web.HttpContext.Current.Request.Files<br />
Dim iFile As Integer</p>
<p>For iFile = 0 To myfiles.Count &#8211; 1<br />
â€˜ get the posted file<br />
Dim postedFile As System.Web.HttpPostedFile = myfiles(iFile)</p>
<p>â€˜make sure it is not blank<br />
If Not postedFile.FileName.Equals(â€&#8221;) Then<br />
â€˜Save File to the proper directory<br />
postedFile.SaveAs(Request.MapPath(â€folder/â€) + System.IO.Path.GetFileName(postedFile.FileName)<br />
End If</p>
<p>Next iFile</p>
<p>Dear sir ,<br />
When i am using this code  on button click for final submit . then it&#8217;s give nothing.<br />
When i am tracing<br />
Trace.Warn(&#8220;myfiles counter&#8221;, myfiles.Count)<br />
thein it gives count &#8220;0&#8243;. Means no file collection now what can i do please  reply as soon as possible .<br />
one thing &#8211;</p>
<p>in form collection it show&#8217;s all files which i am uploading .<br />
now boll in ur hand .<br />
With regards<br />
Aalok Kumar Yadav</p>
			</div>
		</li>
		
		
			
		<li id="comment-331" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.Kairaus.com' rel='external nofollow' class='url'>Aalok</a> on August 2, 2006</p>
			</div>
			<div class="comment-text">
				<p>isolve out my problem</p>
			</div>
		</li>
		
		
			
		<li id="comment-332" class="odd">
			<div class="comment-meta">
							<p class="comment-author">raduen on August 3, 2006</p>
			</div>
			<div class="comment-text">
				<p>I wonder if it;s possible to put a sort of grid lines in de file list div with file size en mod date. those last two are not that important.<br />
ps: i have the file list div in a tbale</p>
			</div>
		</li>
		
		
			
		<li id="comment-333" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.youpload.com' rel='external nofollow' class='url'>upload file</a> on August 3, 2006</p>
			</div>
			<div class="comment-text">
				<p>Very nice post.</p>
<p>About file hosting, i usually use yoUpload.com to upload all my files. I believe that is the best, but itâ€™s my opinion, eheheâ€¦</p>
<p><a href="http://www.youpload.com" rel="nofollow">http://www.youpload.com</a></p>
<p>Thanks,<br />
Robert</p>
			</div>
		</li>
		
		
			
		<li id="comment-334" class="odd">
			<div class="comment-meta">
							<p class="comment-author">John D on August 4, 2006</p>
			</div>
			<div class="comment-text">
				<p>Hi,</p>
<p>I was wondering if it was possible to have a check box or a text box associated with each file upload.  I mean this script is great in that it allows you to upload multiple files through a single element, but how can i upload multiple files AND information associated with them (as entered via a checkbox or text box next to the file input)????</p>
<p>Any ideas?  I was able to get your code to work beautifully as is, but how can i add this functionality?  Please keep in mind that i am a newbie and am very unfamiliar with coding in javascript (i work mainly with PERL)</p>
<p>THANK YOU!!!!!</p>
			</div>
		</li>
		
		
			
		<li id="comment-335" class="even">
			<div class="comment-meta">
							<p class="comment-author">teo on August 9, 2006</p>
			</div>
			<div class="comment-text">
				<p>I&#8217;m able to implement this inside my jsp here. But the only problem is how do I pass all the attach files to a single property in sturts? And how do I get all the attach files inside the action class? Hope someone would help on this. Thanks.</p>
			</div>
		</li>
		
		
			
		<li id="comment-336" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.colemanesolutions.com/' rel='external nofollow' class='url'>Chris Coleman</a> on August 9, 2006</p>
			</div>
			<div class="comment-text">
				<p>For everyone having issues actually uploading more than one file, here is the solution! The error is due to the face that &#8220;createElement&#8221; objects are attached to the &#8220;document&#8221; but are not attached to the form you are submitting. So, only the original element transfers. To correct this:</p>
<p>1. Assign an ID tag to your form, e.g.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&lt;FORM ID=\&#8221;YOUR_FORM_ID\&#8221;&gt;</p>
<p>2. Add the bold line of code to your .js file (just before the lines to change <i>this.style.position</i> and <i>this.style.left</i>:<br />
&nbsp;&nbsp;&nbsp;&nbsp;<b>document.getElementById( &#8216;YOUR_FORM_ID&#8217; ).appendChild( this );</b></p>
<p>Well, I hope that helps everyone. Good luck and email me if you have any further questions!</p>
			</div>
		</li>
		
		
			
		<li id="comment-337" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.roman-abramovich.com' rel='external nofollow' class='url'>jimy</a> on August 17, 2006</p>
			</div>
			<div class="comment-text">
				<p>Perfect script, Stickman. Thank you very much for making the script available.</p>
			</div>
		</li>
		
		
			
		<li id="comment-338" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.jons.moo.no' rel='external nofollow' class='url'>Jonhoo</a> on August 18, 2006</p>
			</div>
			<div class="comment-text">
				<p>WoW, great script!</p>
<p>Just one thing I&#8217;ve noticed:<br />
I think you can use visibility:hidden to hide the input fields instead of using</p>
<p>this.style.position = &#8216;absolute&#8217;;<br />
this.style.left = &#8216;-1000px&#8217;;</p>
<p>Not sure yet though&#8230;</p>
			</div>
		</li>
		
		
			
		<li id="comment-339" class="even">
			<div class="comment-meta">
							<p class="comment-author">Stickman on August 18, 2006</p>
			</div>
			<div class="comment-text">
				<p>Jon: The positioning hack is to fix a a problem with Safari, which ignores form elements that are hidden.</p>
			</div>
		</li>
		
		
			
		<li id="comment-340" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.jons.moo.no' rel='external nofollow' class='url'>Jonhoo</a> on August 18, 2006</p>
			</div>
			<div class="comment-text">
				<p>Are you sure that applies to visibility:hidden as well?</p>
<p>visibility:hidden has always worked for me, even though display:none haven&#8217;t..</p>
			</div>
		</li>
		
		
			
		<li id="comment-341" class="even">
			<div class="comment-meta">
							<p class="comment-author">Stickman on August 18, 2006</p>
			</div>
			<div class="comment-text">
				<p>The &#8216;display&#8217; and &#8216;visibility&#8217; properties aren&#8217;t the same: if you set &#8216;display:none&#8217; then the element is completely removed from the page flow, whereas &#8216;visibility:hidden&#8217; just hides the element &#8212; ie. you get a gap where the element was. So it isn&#8217;t really suitable.</p>
			</div>
		</li>
		
		
			
		<li id="comment-342" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.jons.moo.no' rel='external nofollow' class='url'>Jonhoo</a> on August 18, 2006</p>
			</div>
			<div class="comment-text">
				<p>Ah, rigth <img src='http://the-stickman.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
<p>Learn something new every day ^^</p>
<p>GREAT script by the way.</p>
			</div>
		</li>
		
		
			
		<li id="comment-343" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.jons.moo.no' rel='external nofollow' class='url'>Jonhoo</a> on August 21, 2006</p>
			</div>
			<div class="comment-text">
				<p>There is a problem with the script regarding getting the files after you&#8217;ve pressed submit, it is the following:</p>
<p>Usually, if the user does not press the delete button at any time, we can use a for loop to get the information as such:</p>
<p>for ($file = 0; $file</p>
			</div>
		</li>
		
		
			
		<li id="comment-344" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.jons.moo.no' rel='external nofollow' class='url'>Jonhoo</a> on August 21, 2006</p>
			</div>
			<div class="comment-text">
				<p>for ($file = 0; $file</p>
			</div>
		</li>
		
		
			
		<li id="comment-345" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.jons.moo.no' rel='external nofollow' class='url'>Jonhoo</a> on August 21, 2006</p>
			</div>
			<div class="comment-text">
				<p>Hmm, code doesn&#8217;t seem to work&#8230;</p>
<p>I&#8217;ll try to explain with an image:</p>
<p>Usual file array with max 3 files:<br />
file_0 = First file<br />
file_1 = Second file<br />
file_2 = Third file</p>
<p>If the user presses delete on the second file, however, and then adds another one, the array will be as such:</p>
<p>file_0 = First file<br />
file_1 = Empty<br />
file_2 = Third file<br />
file_3 = New Second file</p>
<p>Is there a way to get around this so we won&#8217;t have to resort to the much slower foreach loop, and check if each file has in fact been downloaded?</p>
			</div>
		</li>
		
		
			
		<li id="comment-347" class="odd">
			<div class="comment-meta">
							<p class="comment-author">don don on August 25, 2006</p>
			</div>
			<div class="comment-text">
				<p>I have avoided the foreach loop with</p>
<p>for ($x=0;$x7) {</p>
<p>// for example you can attach the file to a mail &#8212; donÂ´t do this without security checks before</p>
<p>		   $mail-&gt;AddAttachment(${file_.$x},$_FILES['file_'.$x]['name']);<br />
			 }<br />
		}</p>
<p>do not really know if this is faster as a foreachloop but it works for me</p>
			</div>
		</li>
		
		
			
		<li id="comment-348" class="even">
			<div class="comment-meta">
							<p class="comment-author">don don on August 25, 2006</p>
			</div>
			<div class="comment-text">
				<p>sorry for the double post &#8211; but there was missing a line</p>
<p>I have avoided the foreach loop with</p>
<p>for ($x=0;$x7) {</p>
<p>// for example you can attach the file to a mail &#8212; donÂ´t do this without security checks before<br />
$mail-&gt;AddAttachment(${file_.$x},$_FILES['file_'.$x]['name']);<br />
 }<br />
}</p>
<p>do not really know if this is faster as a foreachloop but it works for me</p>
			</div>
		</li>
		
		
			
		<li id="comment-346" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.jons.moo.no' rel='external nofollow' class='url'>Jonhoo</a> on August 25, 2006</p>
			</div>
			<div class="comment-text">
				<p>But how about if the user presses the delete button 8 times.. Then your loop won&#8217;t catch all the files&#8230;</p>
<p>I&#8217;ve found a workaround using a while loop, but I really would prefer a for loop..</p>
<p>$found = 0;<br />
$file = 0;<br />
$max = setmaxlimithere;</p>
<p>while ($found lessthan $max)<br />
{<br />
	if (!empty($_FILES['file_'.$file]['tmp_name']))<br />
	{<br />
		//Do your thing here&#8230; <img src='http://the-stickman.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' />  $_FILES['file_'.$file] will always be one of the files the user uploaded<br />
$found++;<br />
	}<br />
	$file++;<br />
}</p>
			</div>
		</li>
		
		
			
		<li id="comment-349" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.tommygeorge.com/' rel='external nofollow' class='url'>tommygeorge.com</a> on August 26, 2006</p>
			</div>
			<div class="comment-text">
				<p>Thanks to: Jose Rodriguez, above.<br />
If you&#8217;re like me and still having trouble sorting through the files in PHP, here&#8217;s an example of doing so&#8230;<br />
In this example I&#8217;m using htmlMimeMail, and adding attachments to an email.<br />
You should be able to pick out the important parts, especially with all of the other information available here.</p>
<p>First, just use the script as-is. It will upload the files to the server just fine.<br />
Then, in PHP&#8230;</p>
<p>	reset ($_FILES); // Be sure that the Array Pointer starts at the beginning.<br />
	while ( list($key, $value) = each($_FILES) )<br />
	{<br />
		$tmp_name = $value["tmp_name"];<br />
		$name = $value["name"];<br />
	// As of now, the file is in the &#8216;/tmp&#8217; directory.<br />
	// To place it on the server you would use something like<br />
	// 		move_uploaded_file($tmp_name, &#8220;folder/&#8221; . $name);<br />
	// But here I&#8217;m attaching it via a variable. (I know it seems wasteful, I just like it that way).<br />
		$attachment_file = addslashes(fread(fopen($tmp_name, &#8220;rb&#8221;), filesize($tmp_name)));<br />
	// Add the file to the attachment list (htmlMimeMail class)&#8230;<br />
		$mimemail-&gt;addAttachment($attachment_file, $name);<br />
}//end while</p>
<p>I know this probably came out looking terrible here in the comment (no formatting), but I promise it works.   =)</p>
<p>TommyGeorge.com</p>
			</div>
		</li>
		
		
			
		<li id="comment-350" class="odd">
			<div class="comment-meta">
							<p class="comment-author">fara on August 31, 2006</p>
			</div>
			<div class="comment-text">
				<p>Hello, nice code you have here =)<br />
(and wow..look at those numerous comments! ^_^)</p>
<p>I tried to modified your code a bit,<br />
I wanted to show preview of the images being uploaded,</p>
<p>I tried to create the image element in multifile_compressed.js&#8230;well, something like this:</p>
<p>               var new_row_image = document.createElement( &#8216;img&#8217; );</p>
<p>now I need to assign the img src&#8230;</p>
<p>               new_row_image.src =</p>
<p>umm, the problem is&#8230; element.value is object, isn&#8217;t it?<br />
document.write( element.value); will write the file path on the screen, but how could I assign that path to the img src?</p>
<p>Sorry if I rambled too much ^^<br />
I hope someone out there will kindly lend me a hand?<br />
Thanks =)</p>
<p>P.S.: Once again, thank you so much, Stickman!!</p>
			</div>
		</li>
		
		
			
		<li id="comment-353" class="even">
			<div class="comment-meta">
							<p class="comment-author">Malte on September 1, 2006</p>
			</div>
			<div class="comment-text">
				<p>First off, thanks for your scripts, Stickman and Shawn!</p>
<p>Shawn, I think there may be a little bug in your php code. I should say that I am very new to PHP. Actually I programmed my first script two days ago. However, I have a pretty clear clue why it did not work.</p>
<p>What I noticed was that I was not getting any error message when the file upload was too large. Actually, count($GLOBALS['error']) was still 0 after I tried to upload a file that was too large, although it should have been 1; because of this code portion:</p>
<p>                            case (1|2):<br />
                                // upload too large<br />
                                $error[] = &#8216;file upload is too large for &#8216;.$file['name'];<br />
                                break;</p>
<p>&#8230;and yes, $file['error'] (the switched variable). WAS 1, I checked that too.</p>
<p>I narrowed down the problem; I think it lies in the &#8220;case (1|2):&#8221; statement, more specifically the &#8220;(1|2)&#8221; part, which simply does not work for me. I programmed the following simple script:</p>
<p>The output is &#8220;D&#8217;oh!&#8221; on my server. So as you can see, my PHP does not seem to interpret it correctly.</p>
<p>When I changed the script like this:</p>
<p>The output was indeed &#8220;Looks like it&#8217;s working&#8221;.</p>
<p>As I said, I&#8217;m very new to PHP (but I do know C++). I never saw a statement like &#8220;case (1|2):&#8221; and it does not work for me. Maybe it&#8217;s only supported in some special versions of PHP or something like that&#8230; anyway, if anyone else is seeing this, the fix is obvious; replace &#8220;case (1|2):&#8221; by &#8220;case 1: case 2:&#8221; and &#8220;case (6|7):&#8221; by &#8220;case 6: case 7:&#8221;.</p>
<p>I&#8217;m running a Debian 3.1 &#8220;Sarge&#8221; server with Apache 1.3.33 and php4 module version 4.3.10-16.</p>
<p>Any comments?</p>
<p>Cheers,</p>
<p>Malte</p>
			</div>
		</li>
		
		
			
		<li id="comment-354" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Malte on September 1, 2006</p>
			</div>
			<div class="comment-text">
				<p>Um, sorry, it seems that my PHP code was filtered out by the comments script, because of the &lt;?php and ?&gt; parts at the beginning and the end, I guess. So I&#8217;m trying again, this time without those tags <img src='http://the-stickman.com/wp-includes/images/smilies/icon_wink.gif' alt=';-)' class='wp-smiley' /> </p>
<p>This is the script that outputs &#8220;D&#8217;oh!&#8221;:</p>
<p>$var = 1;</p>
<p>switch( $var) {</p>
<p>  case (1|2):<br />
    echo &#8220;Looks like it&#8217;s working&#8221;;<br />
    break;<br />
  default:<br />
    echo &#8220;D&#8217;oh!&#8221;;<br />
    break;<br />
}</p>
<p>And this is the script that outputs &#8220;Looks like it&#8217;s working&#8221;:</p>
<p>$var = 1;</p>
<p>switch( $var) {</p>
<p>  case 1:<br />
  case 2:<br />
    echo &#8220;Looks like it&#8217;s working&#8221;;<br />
    break;<br />
  default:<br />
    echo &#8220;D&#8217;oh!&#8221;;<br />
    break;<br />
}</p>
<p>Cheers,</p>
<p>Malte</p>
			</div>
		</li>
		
		
			
		<li id="comment-355" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://aspnetupload.wordpress.com' rel='external nofollow' class='url'>Gregory</a> on September 5, 2006</p>
			</div>
			<div class="comment-text">
				<p>Hi, everyone!<br />
Take a look at nice free Flash multiple files upload software tool <a href="http://www.element-it.com/MultiPowUpload.aspx" rel="nofollow">http://www.element-it.com/MultiPowUpload.aspx</a></p>
<p>It also includes a lot of working examples of server-side upload scripts like PHP, ASP, PERL, ASP.NET.</p>
			</div>
		</li>
		
		
			
		<li id="comment-356" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.freewebs.com/smallville_benelux' rel='external nofollow' class='url'>spijky</a> on September 13, 2006</p>
			</div>
			<div class="comment-text">
				<p>check the smallville site on <a href="http://www.freewebs.com/smallville_benelux" rel="nofollow">http://www.freewebs.com/smallville_benelux</a></p>
			</div>
		</li>
		
		
			
		<li id="comment-357" class="even">
			<div class="comment-meta">
							<p class="comment-author">priya on September 13, 2006</p>
			</div>
			<div class="comment-text">
				<p>how to open multi file in open dialog box?<br />
how to show all the selected file in control tool?<br />
how to save it in database?</p>
			</div>
		</li>
		
		
			
		<li id="comment-351" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.sibsoft.net/xupload.html' rel='external nofollow' class='url'>sibsoft</a> on September 14, 2006</p>
			</div>
			<div class="comment-text">
				<p>Hello,<br />
thanks for great idea. We&#8217;ve used it in our <a href="http://www.sibsoft.net/xupload.html" rel="nofollow">upload progress bar</a>. We also have 2nd method of adding files using &#8220;Add upload slot&#8221; button. Simpler than this method, but works well.</p>
<p>Thanks, anyway.</p>
<p>p.s. Great captcha.  Entered 6 times  <img src='http://the-stickman.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
			</div>
		</li>
		
		
			
		<li id="comment-352" class="even">
			<div class="comment-meta">
							<p class="comment-author">alex on September 14, 2006</p>
			</div>
			<div class="comment-text">
				<p>10x for a great script <img src='http://the-stickman.com/wp-includes/images/smilies/icon_biggrin.gif' alt=':D' class='wp-smiley' /> </p>
			</div>
		</li>
		
		
			
		<li id="comment-358" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Tincho Liguori on September 20, 2006</p>
			</div>
			<div class="comment-text">
				<p>Thanks for the Code. Is very usefull.<br />
I have a concern that this code is not working into Internet Explorer 7.0 (i think that almost all the code (not only yours) does not work with Internet Explorer 7.0:) )</p>
<p>The problem that i have is that the button of the browse file is displaying as much times as the files that were added.</p>
<p>Also the linked files are displaying twice above instead of only one time.</p>
			</div>
		</li>
		
		
			
		<li id="comment-359" class="even">
			<div class="comment-meta">
							<p class="comment-author">Kabelo on September 22, 2006</p>
			</div>
			<div class="comment-text">
				<p>How can somebody use this multiple file upload ,to upload files to the database,i have tried uploading to the database but in insert only one file .can you help.</p>
			</div>
		</li>
		
		
			
		<li id="comment-360" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.russtbd.com' rel='external nofollow' class='url'>russ</a> on September 23, 2006</p>
			</div>
			<div class="comment-text">
				<p>hi</p>
			</div>
		</li>
		
		
			
		<li id="comment-361" class="even">
			<div class="comment-meta">
							<p class="comment-author">James F. on September 26, 2006</p>
			</div>
			<div class="comment-text">
				<p>Quick note &#8211; in IE7 and in Opera9, when I click &#8220;Choose..&#8221;/&#8221;Browse&#8230;&#8221;, it lets me pick the file, then it creates a second upload field and set of buttons, as well as displaying TWO of the selected uploads with their respective buttons once I click anywhere on the page again.</p>
<p>Then it continues to allow me unlimited uploads, creating a second field every time &#8211; so if I select five files, I have ten upload fields, all active, and ten displayed files with their buttons.</p>
<p>Any ideas? This is using</p>
<p>	            <!-- Create an instance of the multiSelector class, pass it the output target and the max number of files --><br />
	            var multi_selector = new MultiSelector( document.getElementById( &#8216;files_list&#8217; ), 3 );<br />
	            <!-- Pass in the file element --><br />
	            multi_selector.addElement( document.getElementById( &#8216;fileBox&#8217; ) );</p>
			</div>
		</li>
		
		
			
		<li id="comment-362" class="odd">
			<div class="comment-meta">
							<p class="comment-author">James F. on September 26, 2006</p>
			</div>
			<div class="comment-text">
				<p>Well it cut out my code, but it&#8217;s ASP FileUpload and Button &#8211; ideas?</p>
			</div>
		</li>
		
		
			
		<li id="comment-363" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.michelebulloni.it' rel='external nofollow' class='url'>Michele</a> on September 26, 2006</p>
			</div>
			<div class="comment-text">
				<p>What a brilliant idea!<br />
but i need a control for upload only image file with max size 50 Kb</p>
<p>HELP ME!!!!!!</p>
			</div>
		</li>
		
		
			
		<li id="comment-364" class="odd">
			<div class="comment-meta">
							<p class="comment-author">James F. on September 26, 2006</p>
			</div>
			<div class="comment-text">
				<p>Quick update &#8211; using Bleeding Edge&#8217;s script, it no longer causes any problems in Opera9, but in IE 7, it still has multiple ASP:FileUploads appearing, though once an item is selected, it appears only once. Because it allows me to have an unlimited amount of uploads, I think it&#8217;s letting me create the new multi-selector many times.</p>
<p>Ideas?</p>
			</div>
		</li>
		
		
			
		<li id="comment-365" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://lesbianporn.up0n.com' rel='external nofollow' class='url'>Jim</a> on September 30, 2006</p>
			</div>
			<div class="comment-text">
				<p>Thank you very much for script! Was looking for something like this for a long time! THANKS!</p>
			</div>
		</li>
		
		
			
		<li id="comment-366" class="odd">
			<div class="comment-meta">
							<p class="comment-author">volcan on September 30, 2006</p>
			</div>
			<div class="comment-text">
				<p>it is a good thing</p>
			</div>
		</li>
		
		
			
		<li id="comment-367" class="even">
			<div class="comment-meta">
							<p class="comment-author">Walter on October 1, 2006</p>
			</div>
			<div class="comment-text">
				<p>Nice piece of code, well done guy!.<br />
Thanks.<br />
Walter &#8211; Buenos Aires &#8211; Argentina</p>
			</div>
		</li>
		
		
			
		<li id="comment-368" class="odd">
			<div class="comment-meta">
							<p class="comment-author">James on October 3, 2006</p>
			</div>
			<div class="comment-text">
				<p>Quick question, how could I post a seperate field for text boxes? Say I want to do something like this:</p>
<p>/**<br />
	 * Add a new row to the list of files<br />
	 */<br />
	this.addListRow = function( element ){</p>
<p>		// Row div<br />
		var new_row = document.createElement( &#8216;div&#8217; );</p>
<p>		// Delete button<br />
		var new_row_button = document.createElement( &#8216;input&#8217; );<br />
		new_row_button.type = &#8216;button&#8217;;<br />
		new_row_button.value = &#8216; X &#8216;;<br />
		var new_row_comment = document.createElement( &#8216;input&#8217; );<br />
		new_row_comment.type = &#8216;text&#8217;;</p>
<p>		// References<br />
		new_row.element = element;</p>
<p>&#8230;</p>
<p>		// Set row value<br />
		new_row.innerHTML = &#8216;<b>&#8216; + element.value + &#8216;</b> &#8216;;</p>
<p>		// Add button<br />
		new_row.appendChild( new_row_button );</p>
<p>		// Add it to the list<br />
		this.list_target.appendChild( new_row );<br />
		// Set row value<br />
&#8230;<br />
		 new_row_text.innerHTML = &#8216; &#8216; + html;<br />
		new_row.appendChild(new_row_comment);</p>
<p>Is that right? Now how do I access that on the back end?</p>
			</div>
		</li>
		
		
			
		<li id="comment-369" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://icann.se/' rel='external nofollow' class='url'>Andreas</a> on October 5, 2006</p>
			</div>
			<div class="comment-text">
				<p>It&#8217;s the &#8220;onchange&#8221; that wont work  with konqueror. Easy fix is a button with the same action. <img src='http://the-stickman.com/wp-includes/images/smilies/icon_wink.gif' alt=';)' class='wp-smiley' /> </p>
			</div>
		</li>
		
		
			
		<li id="comment-370" class="odd">
			<div class="comment-meta">
							<p class="comment-author">kiran on October 10, 2006</p>
			</div>
			<div class="comment-text">
				<p>How do I get the list of files in the posted page. Using ASP.</p>
			</div>
		</li>
		
		
			
		<li id="comment-371" class="even">
			<div class="comment-meta">
							<p class="comment-author">Rajarshi on October 16, 2006</p>
			</div>
			<div class="comment-text">
				<p>I need a way where the user will provide (type in) the path to a local folder, and submit the form, and all the files in that client machine&#8217;s folder has to be uploaded.</p>
<p>Any ideas?</p>
			</div>
		</li>
		
		
			
		<li id="comment-372" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Roger on October 27, 2006</p>
			</div>
			<div class="comment-text">
				<p>The javascript works, but when I attempt to submit, how do I access the input elements server side, or is it all client side?</p>
			</div>
		</li>
		
		
			
		<li id="comment-373" class="even">
			<div class="comment-meta">
							<p class="comment-author">AJ on October 30, 2006</p>
			</div>
			<div class="comment-text">
				<p>OMG you are a life saver man. Great Work!</p>
<p>I&#8217;m a newbie at this kind of stuff.<br />
I need to know how the heck I can keep my server from timing out on the uplaod when the upload gets bigger because of it being multiple files.</p>
<p>Anybody got a suggestion?</p>
			</div>
		</li>
		
		
			
		<li id="comment-374" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Benny on November 10, 2006</p>
			</div>
			<div class="comment-text">
				<p>hey Stickman, great bit of code!!!!</p>
<p>can i get your (or any one else&#8217;s) advice on how to get it working correctly? just using your code i set the Forms action to a php page. on this page i just want to go through the names of all the files and throw them onscreen.</p>
<p>but when i do an echo $_FILES[0]['name'] nothing is printed? your script says to leave out the name of the file input tag whcih i did and it still doesnt work?!!</p>
<p>can anyone please advise me as to what am i doing wrong?</p>
<p>many thanks in advance for any help</p>
			</div>
		</li>
		
		
			
		<li id="comment-375" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://no' rel='external nofollow' class='url'>dave</a> on November 14, 2006</p>
			</div>
			<div class="comment-text">
				<p>hi!<br />
i have the same problem as &#8220;Frank&#8221; &#8220;06/03/06 at 12:08 am.&#8221;<br />
I cant get a handle to the tbody. I use:</p>
<p>If I check: document.getElementById(&#8220;files_list&#8221;), I get null. Anyone know why???</p>
			</div>
		</li>
		
		
			
		<li id="comment-376" class="odd">
			<div class="comment-meta">
							<p class="comment-author">muthu on November 14, 2006</p>
			</div>
			<div class="comment-text">
				<p>hi<br />
i have a problem in uploading a file<br />
i.e, whenever i entered some unknown characters like //,\\,oewioregreik&#8230;&#8230;..<br />
i have alerted the user about the unknown characters.<br />
but after removing the unknown character, i uploaded a valid file with correct path<br />
i am getting an error.<br />
like this page cannot be displayed i.e, after i tampered the file in the browse button textbox i am getting the error. if i didnt tampered the file i am able to upload</p>
<p>can u please  give sugession .</p>
<p>thank u</p>
			</div>
		</li>
		
		
			
		<li id="comment-377" class="even">
			<div class="comment-meta">
							<p class="comment-author">muthu on November 14, 2006</p>
			</div>
			<div class="comment-text">
				<p>hi<br />
can u please tell about how to remove the uploaded file dynamically in the browse button textbox if the user enters invalid characters. i am using asp.</p>
			</div>
		</li>
		
		
			
		<li id="comment-378" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.weibell.de/kevin/' rel='external nofollow' class='url'>Kevinin</a> on November 15, 2006</p>
			</div>
			<div class="comment-text">
				<p>This is the cooles thing!</p>
			</div>
		</li>
		
		
			
		<li id="comment-379" class="even">
			<div class="comment-meta">
							<p class="comment-author">syri on November 15, 2006</p>
			</div>
			<div class="comment-text">
				<p>how ca i save the files after submit the form??!!</p>
			</div>
		</li>
		
		
			
		<li id="comment-380" class="odd">
			<div class="comment-meta">
							<p class="comment-author">SF on November 17, 2006</p>
			</div>
			<div class="comment-text">
				<p>In IE7 I can browse and select my images as expected. But when I submit the form only the first file is uploaded, regardless of how many images I actually selected. It works like a charm in Firefox. Has anyone seen or resolved this bug for IE7? Seems like a problem assigning array elements.</p>
<p>TIA!</p>
			</div>
		</li>
		
		
			
		<li id="comment-381" class="even">
			<div class="comment-meta">
							<p class="comment-author">Al on November 17, 2006</p>
			</div>
			<div class="comment-text">
				<p>I am SSSOOOooooo   new to this it isn&#8217;t even funny.  But can you tell me where to put in the path that the files will upload to?    thanks</p>
			</div>
		</li>
		
		
			
		<li id="comment-382" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Chris R. on November 24, 2006</p>
			</div>
			<div class="comment-text">
				<p>I added a text input for file descriptions because I save my files in a SQl database, and also used those file descriptions to display in the div tags, instead of the file name.</p>
			</div>
		</li>
		
		
				
		<li id="comment-385" class="even">
			<div class="comment-meta">
							<p class="comment-author">Azhar on December 4, 2006</p>
			</div>
			<div class="comment-text">
				<p>Hi</p>
<p>Sir, I cannot find the code to submit the query. Plz tell me where it is. How to submit the query and how it works to upload the file.</p>
<p>Waiting for ur reply.<br />
Bye</p>
			</div>
		</li>
		
		
			
		<li id="comment-386" class="odd">
			<div class="comment-meta">
							<p class="comment-author">pbd22 on December 7, 2006</p>
			</div>
			<div class="comment-text">
				<p>hi.</p>
<p>is there anyway to grab the content length of the file being uploaded before the submit query<br />
button is hit? i am trying to go post the bytes of the file along with the delete button and the<br />
file name in the innerHTML.</p>
<p>i am guessing this wont be possible until the file reaches the server but i thought i would ask.</p>
<p>thanks.</p>
			</div>
		</li>
		
		
			
		<li id="comment-387" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.zj-yunhuan.com' rel='external nofollow' class='url'>zjyunhuan</a> on December 8, 2006</p>
			</div>
			<div class="comment-text">
				<p> <img src='http://the-stickman.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
			</div>
		</li>
		
		
			
		<li id="comment-388" class="odd">
			<div class="comment-meta">
							<p class="comment-author">pbd22 on December 9, 2006</p>
			</div>
			<div class="comment-text">
				<p>hi.</p>
<p>how do you handle the hidden input fileds? my application requires that i dont limit the amout of uploads,<br />
but allow the user to upload each file one-by-one in consecutive order. i am considering that a user may spend a good deal of time adding and deleting files. as a result, the below is likely to happen:</p>
<p>while this may be &#8220;hidden&#8221; it also creates a very large space above the first file path. the more add/deletes, the more space is created.</p>
<p>how do i gracefully handle the hidden input fields?</p>
<p>thanks again for a great script!</p>
			</div>
		</li>
		
		
			
		<li id="comment-389" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://ohsosi.com' rel='external nofollow' class='url'>Simon Goellner</a> on December 10, 2006</p>
			</div>
			<div class="comment-text">
				<p>Man, this is awesome, you are amazing <img src='http://the-stickman.com/wp-includes/images/smilies/icon_razz.gif' alt=':P' class='wp-smiley' /> </p>
			</div>
		</li>
		
		
			
		<li id="comment-390" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.pinbottle.com' rel='external nofollow' class='url'>Jason David</a> on December 11, 2006</p>
			</div>
			<div class="comment-text">
				<p>Thanks for the script man!!</p>
			</div>
		</li>
		
		
			
		<li id="comment-391" class="even">
			<div class="comment-meta">
							<p class="comment-author">midi on December 12, 2006</p>
			</div>
			<div class="comment-text">
				<p>plzz &#8230;somebady help me&#8230;. how can i get size from that upload file</p>
			</div>
		</li>
		
		
			
		<li id="comment-392" class="odd">
			<div class="comment-meta">
							<p class="comment-author">pbd22 on December 13, 2006</p>
			</div>
			<div class="comment-text">
				<p>midi -</p>
<p>although i am myself having problems accessing the httpfilecollection on the server<br />
(i am always getting a length of zero), i am pretty sure you cant get the size of the<br />
file from the client. you have to do it on the server. try the ContentLength attribute<br />
of HTTPPostedFile and send that information back via an xmlhttprequest object.</p>
			</div>
		</li>
		
		
			
		<li id="comment-383" class="even">
			<div class="comment-meta">
							<p class="comment-author">JFB on December 14, 2006</p>
			</div>
			<div class="comment-text">
				<p>Hi All,<br />
Someone made it work for coldfusion?<br />
My front end it&#8217;s working, but not the back end. How can I pass the multiple file names on the submit?<br />
Tks<br />
JFB</p>
			</div>
		</li>
		
		
			
		<li id="comment-393" class="odd">
			<div class="comment-meta">
							<p class="comment-author">hoshang on December 14, 2006</p>
			</div>
			<div class="comment-text">
				<p>it this possible with file comments?</p>
			</div>
		</li>
		
		
			
		<li id="comment-394" class="even">
			<div class="comment-meta">
							<p class="comment-author">pbd22 on December 15, 2006</p>
			</div>
			<div class="comment-text">
				<p>i am still having problems accessing my httpfilecollection on the back-end using vb.net.<br />
i always get a length=0 for the collection. why is this happening? i would really apprecaite<br />
it if somebody could help me with this here &#8211; or email me. i am using the below code:</p>
<p>Dim myfiles As System.Web.HttpFileCollection = System.Web.HttpContext.Current.Request.Files</p>
<p>            Dim iFile As Integer</p>
<p>            For iFile = 0 To myfiles.Count &#8211; 1<br />
                &#8216; get the posted file<br />
                Dim postedFile As System.Web.HttpPostedFile = myfiles(iFile)<br />
                Dim fileSize As Integer = postedFile.ContentLength</p>
<p>                &#8216;make sure it is not blank<br />
                If Not postedFile.FileName.Equals(&#8220;&#8221;) Then</p>
<p>                    &#8216;Save File to the proper directory<br />
                    &#8216;postedFile.SaveAs(Request.MapPath(&#8220;folder/&#8221;) + System.IO.Path.GetFileName(postedFile.FileName))</p>
<p>                End If</p>
<p>            Next iFile</p>
			</div>
		</li>
		
		
			
		<li id="comment-395" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Scarface on December 15, 2006</p>
			</div>
			<div class="comment-text">
				<p>Hi. I have a script that sends an email to a certain address. I would like to add the option of attaching multiple files. Is this script what I am looking for? If so, could someone help me incorporate it into the page I have?<br />
Thanks</p>
			</div>
		</li>
		
		
			
		<li id="comment-396" class="even">
			<div class="comment-meta">
							<p class="comment-author">Vlad on December 15, 2006</p>
			</div>
			<div class="comment-text">
				<p>Asp.net programmers! Plz, help.<br />
How can I get files to upload in server side? If I use Request.Files collection &#8211; it&#8217;s always has 0 elements. What&#8217;s problem ?</p>
			</div>
		</li>
		
		
			
		<li id="comment-397" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Vlad on December 15, 2006</p>
			</div>
			<div class="comment-text">
				<p>response to my previous question:<br />
Form must has attribute enctype=&#8221;multipart/form-data&#8221;.</p>
			</div>
		</li>
		
		
			
		<li id="comment-398" class="even">
			<div class="comment-meta">
							<p class="comment-author">pbd22 on December 15, 2006</p>
			</div>
			<div class="comment-text">
				<p>that doesnt seem to work for me tho. i am going through a hidden iframe and i am wondering if that is causing problems with reading the file colleciton on the server&#8230; would really apprecaite advice here&#8230; tnks.</p>
			</div>
		</li>
		
		
			
		<li id="comment-399" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.udistrital.edu.co' rel='external nofollow' class='url'>Oscar Cala</a> on December 16, 2006</p>
			</div>
			<div class="comment-text">
				<p>hey, good code, very proffessional, it is true javascript, congratulations&#8230;</p>
			</div>
		</li>
		
		
			
		<li id="comment-400" class="even">
			<div class="comment-meta">
							<p class="comment-author">hoshang on December 17, 2006</p>
			</div>
			<div class="comment-text">
				<p>Suddenly it doesn&#8217;t work anymore :S</p>
			</div>
		</li>
		
		
			
		<li id="comment-401" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Venakata Sarma on December 18, 2006</p>
			</div>
			<div class="comment-text">
				<p>Hi<br />
  how to get this from server side. ok I am uploading some files..then how do I get them in the action class.I am using struts frame work.I want to upload any number of files.plz help me yar.. Its really urgent.</p>
			</div>
		</li>
		
		
					
		<li id="comment-404" class="even">
			<div class="comment-meta">
							<p class="comment-author">ashishnaik1 on December 23, 2006</p>
			</div>
			<div class="comment-text">
				<p>Cool! Thankyou</p>
			</div>
		</li>
		
		
			
		<li id="comment-406" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://devnetwork.net' rel='external nofollow' class='url'>Jcart</a> on December 27, 2006</p>
			</div>
			<div class="comment-text">
				<p>Just to let you know I&#8217;ve decided to implement this on one of my sites, although I did notice after some debugging considering the actual element used to input the files is left blank this creates an extra file element. For those of us that actually validate our content, this creates a small problem because we must take extra precaution to avoid this empty field or delete it. You should consider removing this input upon submission.</p>
<p>Thanks for the useful snipplet.</p>
			</div>
		</li>
		
		
			
		<li id="comment-407" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.typednotes.com' rel='external nofollow' class='url'>Greg K</a> on December 27, 2006</p>
			</div>
			<div class="comment-text">
				<p>Hi!  Thanks for taking the time to provide this sweet and fast script.  I am wondering if it is possible to have a check box or other form element load up beside the delete button in the list of chosen files and pass this info onto the upload script&#8230;</p>
<p>Having trouble wrapping my head around it&#8230; admittedly I&#8217;m a newbie!</p>
<p>Cheers,</p>
<p>Greg.</p>
			</div>
		</li>
		
		
			
		<li id="comment-408" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://arsi.com.ru' rel='external nofollow' class='url'>Ñâåòî÷êà Êîíôåòî÷êà</a> on December 28, 2006</p>
			</div>
			<div class="comment-text">
				<p>Òðåáóåòñÿ ïðîâåñòè êàíàëèçàöèþ â êîòåäæíîì ïîñåëêå.<br />
Èùåì ÷òî-òî âðîäå [url=http://arsi.com.ru]âîò òàêèõ[/url] òîëüêî â Ìîñêâå.</p>
			</div>
		</li>
		
		
			
		<li id="comment-409" class="even">
			<div class="comment-meta">
							<p class="comment-author">EDH on December 31, 2006</p>
			</div>
			<div class="comment-text">
				<p>Hi,</p>
<p>Is there another approach than the input type=file approach that forces users to browse to/through directories to select the file(s) they want to upload ?</p>
<p>I would like to do the following.  Present a user with a list of files that are located in a particular directory on his pc.  Then offer that user the ability to select one or more files from this list for upload.</p>
<p>Is this possible using plain javascript and html, or do I need (Java world) an applet ?</p>
<p>Any help would be appreciated.</p>
<p>Thanks,<br />
EDH</p>
			</div>
		</li>
		
		
			
		<li id="comment-410" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.chrisontheweb.net' rel='external nofollow' class='url'>Chris</a> on January 1, 2007</p>
			</div>
			<div class="comment-text">
				<p>Hmm! Where did my comment go I don&#8217;t see it anymore</p>
			</div>
		</li>
		
		
			
		<li id="comment-411" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.chrisontheweb.net' rel='external nofollow' class='url'>Chris Mc</a> on January 1, 2007</p>
			</div>
			<div class="comment-text">
				<p>I shall try to re-iterate what I said. This is an awesome script by the way!! I have an image gallery program that I have created and have implemented this script into it. The problem that I am having is when a user uploads an image who&#8217;s file name has a single quote in it. when using the form POST method, and PHP I call this print $_FILES['file_0']['name'] to recall the name of the uploaded file; If I have a file named chris&#8217;s_pic.jpg when file gets uploaded it&#8217;s name gets truncated to s_pic.jpg. So my question is, is there any way to escape or use some sort of wrapper to protect file name integrity?</p>
<p>Thanks again for this wonderful script.</p>
			</div>
		</li>
		
		
			
		<li id="comment-412" class="odd">
			<div class="comment-meta">
							<p class="comment-author">pbd22 on January 3, 2007</p>
			</div>
			<div class="comment-text">
				<p>would really apprecaite an explaination of .NET server processing. tons of questions about this. I have tried Jesse H&#8217;s response above but i keep getting a httpfilecollection count of &#8220;0&#8243;. I am trying to pass the URL string through an IFrame. The below tag always fails:</p>
<p>if i remove the callToServer method, the server-side file count is correct once i post the form but i want the &#8220;fake ajax&#8221; feel of the hidden iframe.</p>
<p>please help. why can&#8217;t i get this to work with a hidden iframe?</p>
			</div>
		</li>
		
		
			
		<li id="comment-413" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.kairaus.com/Site/Kairaus/Home/' rel='external nofollow' class='url'>John</a> on January 5, 2007</p>
			</div>
			<div class="comment-text">
				<p>Yeah, an example of asp server side file that handles the files to upload would be really great. I also get a Request.Files count of 0. Looks like some people have already figured out the solution. Can you please share?</p>
<p>Thanks</p>
			</div>
		</li>
		
		
			
		<li id="comment-414" class="odd">
			<div class="comment-meta">
							<p class="comment-author">pbd22 on January 8, 2007</p>
			</div>
			<div class="comment-text">
				<p>john -</p>
<p>i have been able to execute this code successfully without passing it via hidden iframe.<br />
if you are getting a server-side count of zero, make sure that your form tag is correct.<br />
are you using the enctype=multipart/form-data and submit=(your server file) attributes<br />
in your form tag? also, if you are using asp.net with master pages, make sure that you<br />
are not enlosing your form tags inside of master page form tags. that could (will) muck<br />
things up.</p>
<p>my problem has to do with the processing of the iframe code. i would REALLY APPRECIATE<br />
IT if somebody could show me SUCCESSFUL iframe javascript code for file upload. I have<br />
been using the code provided on the Apple Computer site, and it keeps failing but i havent<br />
been able to figure out the problem (i am losing hair here). here is the link:</p>
<p><a href="http://developer.apple.com/internet/webcontent/iframe.html" rel="nofollow">http://developer.apple.com/internet/webcontent/iframe.html</a></p>
<p>if somebody out there has been able to use stickman&#8217;s file upload code with iframes, would<br />
you mind sharing? please?</p>
<p>thanks.<br />
peter (pbd22)</p>
			</div>
		</li>
		
		
			
		<li id="comment-405" class="even">
			<div class="comment-meta">
							<p class="comment-author">Ivik on January 9, 2007</p>
			</div>
			<div class="comment-text">
				<p>Nice program, but I had a really hard time to make it work correctly, it always just sent the first file I added and not the other files. Then I found out that the problem was that I had inserted a text field in the same form as the file input was located.</p>
<p>How can this be fixed, how can I be able to have more fields in the same form and still use this nice script?</p>
			</div>
		</li>
		
		
			
		<li id="comment-415" class="odd">
			<div class="comment-meta">
							<p class="comment-author">riko on January 12, 2007</p>
			</div>
			<div class="comment-text">
				<p>how can i combine it with php, i never working with js before.</p>
			</div>
		</li>
		
		
			
		<li id="comment-449" class="even">
			<div class="comment-meta">
							<p class="comment-author">Rajesh on January 23, 2007</p>
			</div>
			<div class="comment-text">
				<p>Multiple file upload using struts</p>
<p>I have tried this ,and I got result.</p>
<p>****************In jsp*********************</p>
<p>Photo 1</p>
<p>Photo 2</p>
<p>*************** in struts-config.xml*************</p>
<p>***************in FileUploadForm.java***************</p>
<p>public class FileUploadForm extends ActionForm {</p>
<p>private List formFiles = new ArrayList();</p>
<p>public List getUploads() { return this.formFiles; }</p>
<p>public void setUploads(int iIndex, FormFile formFile){<br />
this.formFiles.add(formFile);<br />
}</p>
<p>}</p>
<p>***************In execute method of FileUploadAction.java***************</p>
<p>FileUploadForm uploadForm=(FileUploadForm)form;<br />
List myFiles =(List) uploadForm.getUploads();<br />
for(int i=0;i</p>
			</div>
		</li>
		
		
			
		<li id="comment-455" class="odd">
			<div class="comment-meta">
							<p class="comment-author">wekkaw on January 26, 2007</p>
			</div>
			<div class="comment-text">
				<p>Hi there thanks so much for a this great script.</p>
<p>I&#8217;ve modified it a bit to restrict the type of files selected. Just in case anyone wants to do the same thing, here is the change:<br />
<i><br />
		if( element.tagName == &#8216;INPUT&#8217; &amp;&amp; element.type == &#8216;file&#8217; ){</p>
<p>			// Element name &#8212; what number am I?<br />
			element.name = &#8216;file_&#8217; + this.id++;</p>
<p>			// Add reference to this object<br />
			element.multi_selector = this;</p>
<p>			// What to do when a file is selected<br />
			element.onchange = function(){</p>
<p><b>				var validFileType = checkFileType(element);<br />
</b><br />
				if(validFileType){</p>
<p>					// New file input<br />
					var new_element = document.createElement( &#8216;input&#8217; );<br />
					new_element.type = &#8216;file&#8217;;</p>
<p>					// Add new element<br />
					this.parentNode.insertBefore( new_element, this );</p>
<p>					// Apply &#8216;update&#8217; to element<br />
					this.multi_selector.addElement( new_element );</p>
<p>					// Update list<br />
					this.multi_selector.addListRow( this );</p>
<p>					// Hide this: we can&#8217;t use display:none because Safari doesn&#8217;t like it<br />
					this.style.position = &#8216;absolute&#8217;;<br />
					this.style.left = &#8216;-1000px&#8217;;<br />
				}<br />
			};</i></p>
<p>Here is the Function<br />
<i><br />
function checkFileType(inputField)<br />
{<br />
	var allowd = /\.png|\.jpg|\.gif/i;<br />
	var filename = inputField.value;</p>
<p>	if (filename.search(allowed) == -1)<br />
	{<br />
	    alert(&#8220;The type of file you selected is not supported.&#8221;);<br />
	    inputField.form.reset();<br />
	    return false;<br />
	}<br />
	return true;<br />
}<br />
</i></p>
			</div>
		</li>
		
		
			
		<li id="comment-430" class="even">
			<div class="comment-meta">
							<p class="comment-author">Simple use of this script (works on Firefox) on January 29, 2007</p>
			</div>
			<div class="comment-text">
				<p>Change in the first line of form:</p>
<p>action=&#8221;post.php&#8221; method = &#8220;post&#8221;</p>
<p>then create post.php code:</p>
<p>&#8220;;<br />
	}<br />
else<br />
{<br />
  echo &#8220;Possible file upload attack!&#8221;;<br />
}<br />
echo &#8216;Here is some more debugging info: &#8216;;<br />
print_r($file);<br />
}<br />
?&gt;</p>
			</div>
		</li>
		
		
			
		<li id="comment-422" class="odd">
			<div class="comment-meta">
							<p class="comment-author">pbd22 on January 29, 2007</p>
			</div>
			<div class="comment-text">
				<p>hi,</p>
<p>have been working on fixing some errors in my upload code using this script.<br />
i am noticing that, when i use this script *and* send the files via a hidden<br />
iframe the httpfilecollection count is zero. after further inspection, i am finding<br />
that the server page isn&#8217;t recognizing the multipart/form-data enctype on page_load.<br />
but, i have that attribute clearly defined in my form tag on the client page. so,<br />
i am wondering if anybody has had a similar problem? i would really apprecaite<br />
suggestions. thanks.</p>
			</div>
		</li>
		
		
			
		<li id="comment-453" class="even">
			<div class="comment-meta">
							<p class="comment-author">Nil on February 2, 2007</p>
			</div>
			<div class="comment-text">
				<p>can any body tell me how can i implement this code with struts .and how i will get i mean differentiate three different files.because they are coming with same id.</p>
			</div>
		</li>
		
		
			
		<li id="comment-431" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Nate on February 6, 2007</p>
			</div>
			<div class="comment-text">
				<p>Can you display only the filename and not the path?  If so, please show me what line to edit in the code to do that.</p>
			</div>
		</li>
		
		
			
		<li id="comment-424" class="even">
			<div class="comment-meta">
							<p class="comment-author">Nate on February 6, 2007</p>
			</div>
			<div class="comment-text">
				<p>I&#8217;d love to see the code to add captions next to each image.</p>
			</div>
		</li>
		
		
			
		<li id="comment-420" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Nate on February 6, 2007</p>
			</div>
			<div class="comment-text">
				<p>The following was posted above, but this does not work when tested it in Firefox 2</p>
<p>I have made a little mod in order to display only the filename i/o full path+filename :<br />
element_work = element.value;<br />
element_tab = element_work.split(â€\\â€);<br />
nbr_elements = element_tab.length;<br />
new_row.innerHTML = element_tab[nbr_elements-1];</p>
<p>instead of :<br />
new_row.innerHTML = element.value;</p>
<p>cheers <img src='http://the-stickman.com/wp-includes/images/smilies/icon_wink.gif' alt=';)' class='wp-smiley' /> </p>
<p>Again, I&#8217;d love to see some code to only show the filename and not the full path.</p>
			</div>
		</li>
		
		
			
		<li id="comment-462" class="even">
			<div class="comment-meta">
							<p class="comment-author">Nate on February 8, 2007</p>
			</div>
			<div class="comment-text">
				<p>I&#8217;d really love to see the code to add a caption / description next to the filename of each uploaded file.  Can someone please post some code to do that?</p>
			</div>
		</li>
		
		
			
		<li id="comment-484" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.burns-animations.com' rel='external nofollow' class='url'>Corey</a> on February 11, 2007</p>
			</div>
			<div class="comment-text">
				<p>This multiple file uploader is awesome!</p>
<p>I&#8217;m using Shawn Parkers script to upload the files<br />
<a href="http://www.top-frog.com/files/scripts/upload_sample.phps" rel="nofollow">http://www.top-frog.com/files/scripts/upload_sample.phps</a></p>
<p>The thing that confuses me is that I am trying to make it image only not movies pdf&#8217;s etc&#8230; I commented out the part with all of the other extensions but it is still allowing the file to upload.  I&#8217;m pretty much a noob at more advanced programing so any suggestions will be welcome!</p>
			</div>
		</li>
		
		
			
		<li id="comment-490" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.phreaki.com' rel='external nofollow' class='url'>phreaki</a> on February 12, 2007</p>
			</div>
			<div class="comment-text">
				<p>great script, took care of what I needed, works great.</p>
			</div>
		</li>
		
		
			
		<li id="comment-486" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.karishmasoftware.net' rel='external nofollow' class='url'>RamaKrishna</a> on February 12, 2007</p>
			</div>
			<div class="comment-text">
				<p>Dear sir,<br />
           I&#8217;ve a small doubt regarding the script file. Is it possible to add a text box with each file at choosing the file and can process those text boxes like as file in the normal scenario.</p>
<p>waiting for your reply,</p>
<p>thanks &amp; regards,<br />
RamaKrishna.P</p>
			</div>
		</li>
		
		
			
		<li id="comment-487" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.danielcottrell.co.uk' rel='external nofollow' class='url'>Nibinaear</a> on February 12, 2007</p>
			</div>
			<div class="comment-text">
				<p>Great tutorial. I am now going to use this on our awards website to let users upload multiple files as supporting evidence in their submissions. Cheers.</p>
			</div>
		</li>
		
		
			
		<li id="comment-478" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.karishmasoftware.com' rel='external nofollow' class='url'>Ramakrishna</a> on February 13, 2007</p>
			</div>
			<div class="comment-text">
				<p>sir,<br />
thanks for developing such a wonderful script file and is very useful for many needs in multiple file uploads, but i&#8217;ve a small problem regarding the text file apart from the files i.e i need to attach a note to every file i choose and that note should be inserted into database but i;m unable to locate the text type along with files while uploading. Please help me in this area as is very important for me.</p>
<p>Ramakrishna.P<br />
Software Engineer,<br />
Karishma Software Ltd,<br />
Secunderabad.<br />
India.</p>
			</div>
		</li>
		
		
			
		<li id="comment-477" class="even">
			<div class="comment-meta">
							<p class="comment-author">JarsofClay on February 13, 2007</p>
			</div>
			<div class="comment-text">
				<p>Hi people,<br />
              i wanted to add move up and move down functionalities to the list. I should be able to select the files and sort them. Can anyone please help me on this&#8230;</p>
<p>Thanks in advance <img src='http://the-stickman.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
			</div>
		</li>
		
		
			
		<li id="comment-425" class="odd">
			<div class="comment-meta">
							<p class="comment-author">TC on February 19, 2007</p>
			</div>
			<div class="comment-text">
				<p>There are 300 some comments saying what a great script this is.  Here&#8217;s one more.  Thanks!</p>
			</div>
		</li>
		
		
			
		<li id="comment-423" class="even">
			<div class="comment-meta">
							<p class="comment-author">Nibinaear on February 19, 2007</p>
			</div>
			<div class="comment-text">
				<p>This code tends to add an extra empty file element for every file you upload. For example, if I try and upload one file I will get back file_0 and file_1, file_1 being empty. I have to use the unset function WHEN using PHP to destroy these empty array positions. Adding 3 files where the maximum is 3 produces 3 files as expected.</p>
<p>Also, using Opera means that uploading multiple files means you only get the first one back in some instances. I tried the example and it worked with Opera (9.10) but when placed in quite a large template it didn&#8217;t work and I only got 1 file back.</p>
<p>Thirdly, it might be a good idea to tell everyone to add a MAX_FILE_SIZE HTML attribute to all forms when files are uploaded. If you don&#8217;t you can get back partially uploaded files back when checking using $_FILES['file_0']['error'] in PHP.</p>
			</div>
		</li>
		
		
				
		<li id="comment-468" class="odd">
			<div class="comment-meta">
							<p class="comment-author">fanfan on February 25, 2007</p>
			</div>
			<div class="comment-text">
				<p>Very very useful!<br />
Many thx!!</p>
<p>&#8211;<br />
F</p>
			</div>
		</li>
		
		
			
		<li id="comment-434" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.mobilfunk-flatrates.de' rel='external nofollow' class='url'>handyflatrates</a> on February 25, 2007</p>
			</div>
			<div class="comment-text">
				<p>This is a really useful script and i searched for such a long time. But i would really appreciate, if you would show how to go on with the data. I tried to use the PHP-File from the comment you posted but it&#8217;s generatin gerrors.</p>
<p>Thanks for your JS!</p>
			</div>
		</li>
		
		
			
		<li id="comment-494" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://lifeguru.blogspot.com/' rel='external nofollow' class='url'>lifeguru</a> on February 27, 2007</p>
			</div>
			<div class="comment-text">
				<p>Thank you. This script made my life soo much easier <img src='http://the-stickman.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
			</div>
		</li>
		
		
			
		<li id="comment-489" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.rmwebsolutions.nl' rel='external nofollow' class='url'>Rene</a> on February 28, 2007</p>
			</div>
			<div class="comment-text">
				<p>Nate: The code posted earlier DOES work in FireFox when you change the quotes to normal quotes<br />
so â€ to &#8220;.</p>
<p>The following code only shows the filename:</p>
<p>element_work = element.value;<br />
element_tab = element_work.split(&#8220;\\&#8221;);<br />
nbr_elements = element_tab.length;<br />
new_row.innerHTML = element_tab[nbr_elements-1];</p>
<p>instead of :<br />
new_row.innerHTML = element.value;</p>
<p>I do also have a question, asked many times before above but unanswered:<br />
Why does it only send the first selected file in FireFox (2.0)?</p>
<p>print_r($_POST); alwyas shows only 1 file!</p>
<p>I.E works fine, but i can&#8217;t use it if it does not work in Firefox. Anyone same problem / solutions?</p>
			</div>
		</li>
		
		
			
		<li id="comment-476" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://ftp-unzip.com/ZipDeploy/' rel='external nofollow' class='url'>Winnie</a> on February 28, 2007</p>
			</div>
			<div class="comment-text">
				<p>I&#8217;d like to upload multiple files as a Zip like ZipDeploy does. Is it possible?</p>
			</div>
		</li>
		
		
			
		<li id="comment-443" class="even">
			<div class="comment-meta">
							<p class="comment-author">Arawee on March 3, 2007</p>
			</div>
			<div class="comment-text">
				<p>WaaaaW!<br />
thanx a lot (Stickman and also Luis Torrefranca) and all,<br />
:&#8221;)</p>
			</div>
		</li>
		
		
			
		<li id="comment-436" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Nayana on March 5, 2007</p>
			</div>
			<div class="comment-text">
				<p>hi,<br />
this helps a lot&#8230;. nice code..</p>
			</div>
		</li>
		
		
			
		<li id="comment-421" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.BonnParty.de' rel='external nofollow' class='url'>Bonn Party</a> on March 6, 2007</p>
			</div>
			<div class="comment-text">
				<p>Thanks a lot, i searched for it a long time, since i saw it on <a href="http://www.sevenload.com" rel="nofollow">http://www.sevenload.com</a> . We&#8217;ll propably use it, too in the next weeks. Really useful, thx!</p>
			</div>
		</li>
		
		
			
		<li id="comment-419" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Pomp on March 7, 2007</p>
			</div>
			<div class="comment-text">
				<p>We are trying the above code.<br />
Once the files are added we could find the added files using Request.Files at the server.<br />
Can any one help with this.</p>
			</div>
		</li>
		
		
			
		<li id="comment-447" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://file.slirple.comwww.slirple.com' rel='external nofollow' class='url'>Rob Daniel</a> on March 13, 2007</p>
			</div>
			<div class="comment-text">
				<p>Your code has greatly advanced the file uploader that I had on my site. I credited StickBlog for making the code and I put a link back to this very page. Thanks again and I will look to yall for any future coding help I need.</p>
<p>Rob</p>
			</div>
		</li>
		
		
			
		<li id="comment-445" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Mark on March 14, 2007</p>
			</div>
			<div class="comment-text">
				<p>Hi, nice site!</p>
			</div>
		</li>
		
		
				
		<li id="comment-438" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.scriptq.com' rel='external nofollow' class='url'>Suresh</a> on March 30, 2007</p>
			</div>
			<div class="comment-text">
				<p>i want to know how to nicer the  tag without using  tag</p>
			</div>
		</li>
		
		
			
		<li id="comment-439" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Sureshkumar N on March 30, 2007</p>
			</div>
			<div class="comment-text">
				<p>Thanks for the scirpt it worth a lot!!!!. please notify me if any thing interesting is going on</p>
			</div>
		</li>
		
		
			
		<li id="comment-448" class="even">
			<div class="comment-meta">
							<p class="comment-author">yan on April 3, 2007</p>
			</div>
			<div class="comment-text">
				<p>how i can do for multi list in one form ?</p>
			</div>
		</li>
		
		
			
		<li id="comment-460" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.fyneworks.com' rel='external nofollow' class='url'>Diego</a> on April 12, 2007</p>
			</div>
			<div class="comment-text">
				<p>I released a similar plugin for jQuery a few days ago and it may be of interest to people reading this page.<br />
<a href="http://www.fyneworks.com/jquery/multiple-file-upload/" rel="nofollow">http://www.fyneworks.com/jquery/multiple-file-upload/</a></p>
			</div>
		</li>
		
		
			
		<li id="comment-444" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://ftp-unzip.com' rel='external nofollow' class='url'>Johan Schmidt</a> on April 16, 2007</p>
			</div>
			<div class="comment-text">
				<p>I was hoping to find some info about ZipDeploy</p>
			</div>
		</li>
		
		
			
		<li id="comment-441" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.thephototree.net' rel='external nofollow' class='url'>Matt</a> on April 18, 2007</p>
			</div>
			<div class="comment-text">
				<p>Wow.  This is great but i suppose you don&#8217;t need me to tell you that.  I am working on a project that needs to use photosharing and this is perfect!  Saved me a lot of work <img src='http://the-stickman.com/wp-includes/images/smilies/icon_wink.gif' alt=';)' class='wp-smiley' />   Thanks.</p>
			</div>
		</li>
		
		
			
		<li id="comment-491" class="even">
			<div class="comment-meta">
							<p class="comment-author">Nick Kilian on April 19, 2007</p>
			</div>
			<div class="comment-text">
				<p>This script worked fine &#8216;as is&#8217; in IE7, but would only upload 1 file in FF1.5 and OP9.2.</p>
<p>Chris Coleman at CXCV posted the fix, but there was a slight mistake. This is the correct code to get the input appended correctly to the form.</p>
<p>Change :</p>
<p>// Hide this: we can&#8217;t use display:none because Safari doesn&#8217;t like it<br />
this.style.position = &#8216;absolute&#8217;;<br />
this.style.left = &#8216;-1000px&#8217;;</p>
<p>To :</p>
<p>// Append the input to the form for use in FF1.5 and OP9.2<br />
document.getElementById(&#8216;upload&#8217;).appendChild(this);<br />
// Hide this: we can&#8217;t use display:none because Safari doesn&#8217;t like it<br />
this.style.position = &#8216;absolute&#8217;;<br />
this.style.left = &#8216;-1000px&#8217;;</p>
<p>You also need to add an id=&#8221;upload&#8221; to the original form variable.</p>
			</div>
		</li>
		
		
			
		<li id="comment-488" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Nick Kilian on April 19, 2007</p>
			</div>
			<div class="comment-text">
				<p>Steve Owen in CIX posts a nice layout change for the div element. There&#8217;s just one mistake, a missing &#8211; in the count decrementer. Below is the new code with the added &#8211; at the end.</p>
<p>// Decrement counter<br />
this.parentNode.element.multi_selector.count&#8211;;</p>
<p>Regarding my post above, it seems copy/pasting from these comments affects single quotation marks, so I&#8217;ve had to find/replace them all to get the code working correctly.</p>
			</div>
		</li>
		
		
			
		<li id="comment-454" class="even">
			<div class="comment-meta">
							<p class="comment-author">Pablo on April 23, 2007</p>
			</div>
			<div class="comment-text">
				<p>So, how to fix the script for Safari??<br />
Please, anybody can paste full script here.</p>
			</div>
		</li>
		
		
			
		<li id="comment-475" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Joe Parsons on April 25, 2007</p>
			</div>
			<div class="comment-text">
				<p>Anybody have any luck using this on an iBook under Firefox. I keep getting:<br />
Please enter a valid path on your local computer system.</p>
<p>Works fine under Windows, (IE, Netscape, Firefox, etc.)</p>
			</div>
		</li>
		
		
			
		<li id="comment-473" class="even">
			<div class="comment-meta">
							<p class="comment-author">me on April 26, 2007</p>
			</div>
			<div class="comment-text">
				<p>must just say brilliant script, bt can we use any upload script or must there be sumthign specila bout it cos mine only uploads the last file out of the selscetion</p>
			</div>
		</li>
		
		
			
		<li id="comment-474" class="odd">
			<div class="comment-meta">
							<p class="comment-author">myself on April 26, 2007</p>
			</div>
			<div class="comment-text">
				<p>must just say brilliant script, bt can we use any upload script or must there be sumthign specila bout it cos mine only uploads the last file out of the selection</p>
			</div>
		</li>
		
		
					
		<li id="comment-418" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.ahussam.com' rel='external nofollow' class='url'>ahussam</a> on May 21, 2007</p>
			</div>
			<div class="comment-text">
				<p>hi all, great code thanks,</p>
<p>I edited the code a bit to be able to align the delete button to the right, but now I have a problem when deleting i get a javascript error.</p>
<p>here is my edited code part:</p>
<p>this.addListRow = function( element ){<br />
		// Container Row div<br />
		var out_row = document.createElement( &#8216;div&#8217; );<br />
		out_row.style.width = &#8217;100%&#8217;;<br />
		out_row.style.background = &#8216;#EEEEEE&#8217;;<br />
		out_row.style.position = &#8216;relative&#8217;;</p>
<p>		// Text Row div<br />
		var new_row = document.createElement( &#8216;div&#8217; );<br />
		new_row.style.width = &#8217;600px&#8217;;<br />
		new_row.style.position = &#8216;relative&#8217;;<br />
		new_row.style.top = &#8217;3px&#8217;;<br />
		new_row.style.styleFloat = &#8216;left&#8217;;<br />
		new_row.style.cssFloat = &#8216;left&#8217;;</p>
<p>		// Delete button<br />
		var new_row_button = document.createElement( &#8216;input&#8217; );<br />
		new_row_button.style.styleFloat = &#8216;right&#8217;;<br />
		new_row_button.style.cssFloat = &#8216;right&#8217;;<br />
		new_row_button.type = &#8216;button&#8217;;<br />
		new_row_button.value = &#8216;Delete&#8217;;<br />
		new_row_button.style.position = &#8216;relative&#8217;;</p>
<p>		// References<br />
		new_row.element = element;</p>
<p>		// Delete function<br />
		new_row_button.onclick= function(){</p>
<p>			//node.parentNode.removeChild(node);<br />
			// Remove element from form<br />
			this.parentNode.element.parentNode.removeChild( this.parentNode.element );</p>
<p>			// Remove this row from the list<br />
			this.parentNode.parentNode.removeChild( this.parentNode );</p>
<p>			// Decrement counter<br />
			this.parentNode.element.multi_selector.count&#8211;;</p>
<p>			// Re-enable input element (if it&#8217;s disabled)<br />
			this.parentNode.element.multi_selector.current_element.disabled = false;</p>
<p>			// Appease Safari<br />
			//    without it Safari wants to reload the browser window<br />
			//    which nixes your already queued uploads<br />
			return false;<br />
		};</p>
<p>		// Set row value<br />
		new_row.innerHTML = element.value;</p>
<p>		// Add button<br />
		out_row.appendChild( new_row_button );</p>
<p>		// Add text<br />
		out_row.appendChild( new_row );</p>
<p>		// Add it to the list<br />
		this.list_target.appendChild( out_row );</p>
<p>javascript error is &#8220;this.parentNode.element.parentNode is null or not an object&#8221; on IE7, any idea how to fix this ?</p>
			</div>
		</li>
		
		
			
		<li id="comment-485" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Mike S on May 22, 2007</p>
			</div>
			<div class="comment-text">
				<p>Though this code seems to work fine when used w/ the example .html file,  if i use within my own email form, 	var_dump($_FILES) always returns just one file.</p>
<p>I have seen this mentioned in previous comments above. Has anyone figured out what this issue is?</p>
<p>Thanks in advance for any help.</p>
			</div>
		</li>
		
		
			
		<li id="comment-452" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.filefire.in' rel='external nofollow' class='url'>stevie</a> on May 28, 2007</p>
			</div>
			<div class="comment-text">
				<p>Good post</p>
			</div>
		</li>
		
		
			
		<li id="comment-492" class="odd">
			<div class="comment-meta">
							<p class="comment-author">dj on May 30, 2007</p>
			</div>
			<div class="comment-text">
				<p>im planning to use this control snippet in the project that im currently working on.. So ive converted this from html to aspx, however there seemed to have an error on this line &#8220;this.parentNode.parentNode.element.multi_selector.countâ€“;&#8221;.. can someone please help me.. i could provide a link to my complete source code</p>
			</div>
		</li>
		
		
				
		<li id="comment-463" class="even">
			<div class="comment-meta">
							<p class="comment-author"><img src="http://the-stickman.com/wp-content/plugins/wpopenid/images/openid.gif" height="16" width="16" alt="OpenID" /><a href='http://rzm.myopenid.com/' rel='external nofollow' class='url'>rzm</a> on May 31, 2007</p>
			</div>
			<div class="comment-text">
				<p>I&#8217;m using the script in a rails application:</p>
<p>changed in multifile.js:<br />
element.name = &#8216;file_&#8217; + this.id++;<br />
to:<br />
element.name = &#8216;album[picture' + this.id++ + ']&#8216;;</p>
<p>In rails I&#8217;m using this snippet in the controller:<br />
params[:album].each{|key,asset|<br />
                 @asset=@album.assets.create<br />
                 @asset.uploaded_data=key<br />
                 @asset.save<br />
}</p>
<p>Does anyone have a more elegant solution for the rails part?</p>
			</div>
		</li>
		
		
			
		<li id="comment-429" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Cyril on June 5, 2007</p>
			</div>
			<div class="comment-text">
				<p>It seems it does not work when the form is in a pop-up and the div in the parent window.</p>
			</div>
		</li>
		
		
			
		<li id="comment-471" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.benchmarkitsolutions.com' rel='external nofollow' class='url'>Ganesh</a> on June 7, 2007</p>
			</div>
			<div class="comment-text">
				<p>Hello all,</p>
<p>what about displaying actual images instead of the path of the images and delete button?</p>
<p>Thnaks,</p>
			</div>
		</li>
		
		
			
		<li id="comment-493" class="odd">
			<div class="comment-meta">
							<p class="comment-author">it2051229 on June 9, 2007</p>
			</div>
			<div class="comment-text">
				<p>well yeah thanks for the script.. but uhhmm i wanted to style my button.. how can i style my button with CSS if the &#8220;id&#8221; and &#8220;class&#8221; property is occupied??</p>
			</div>
		</li>
		
		
					
		<li id="comment-417" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.my1liner.com' rel='external nofollow' class='url'>Chris</a> on July 6, 2007</p>
			</div>
			<div class="comment-text">
				<p>Please tell me how you styled your &#8220;Browse&#8221; button above! I have looked at all the overlaying options, but they suck. I need a CSS solution!</p>
			</div>
		</li>
		
		
			
		<li id="comment-435" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Mahes on July 10, 2007</p>
			</div>
			<div class="comment-text">
				<p>how do i actually pass the value over to my asp page?</p>
			</div>
		</li>
		
		
			
		<li id="comment-511" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://sidnei.us' rel='external nofollow' class='url'>sidnei dasilva</a> on July 16, 2007</p>
			</div>
			<div class="comment-text">
				<p>Thanks so much for sharing the script <img src='http://the-stickman.com/wp-includes/images/smilies/icon_biggrin.gif' alt=':D' class='wp-smiley' /> </p>
<p>Great work! Congratulations!</p>
<p>-Sidnei</p>
			</div>
		</li>
		
		
				
		<li id="comment-518" class="odd">
			<div class="comment-meta">
							<p class="comment-author">stoney on August 4, 2007</p>
			</div>
			<div class="comment-text">
				<p>how can we up load a file without browsing it?. ie, we know the path of the file and we want to upload it without clicking on the browse button&#8230;</p>
			</div>
		</li>
		
		
			
		<li id="comment-498" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.vyrcoop.webz.cz' rel='external nofollow' class='url'>Max</a> on August 4, 2007</p>
			</div>
			<div class="comment-text">
				<p>Great work, I must thank you, even if there are so many comments, that means the same as mine <img src='http://the-stickman.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /><br />
..sorry for my english</p>
			</div>
		</li>
		
		
			
		<li id="comment-504" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://chrisnowak.org' rel='external nofollow' class='url'>Chris</a> on August 13, 2007</p>
			</div>
			<div class="comment-text">
				<p>Please don&#8217;t use for loops to pick up the files&#8230;</p>
<p>Here&#8217;s a better example:</p>
<p>foreach($_FILES as $file) {<br />
if($file['error']==0) {// keeps blank files out<br />
//your upload code here<br />
} // end if statement<br />
} // end foreach</p>
			</div>
		</li>
		
		
			
		<li id="comment-510" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://chrisnowak.org' rel='external nofollow' class='url'>chris</a> on August 14, 2007</p>
			</div>
			<div class="comment-text">
				<p>Here&#8217;s my edited file<br />
Changes include:<br />
File name is not absolute path (so &#8216;file.doc&#8217; instead of &#8216;/home/foo/Desktop/file.doc&#8217;) credit Steve Owen<br />
Remove button is to the left of the file &#8211; credit Steve Owen<br />
&#8216;Remove&#8217; is now a link instead of a button</p>
<p>function MultiSelector( list_target, max ){<br />
	this.list_target = list_target;<br />
	this.count = 0;<br />
	this.id = 0;<br />
	if( max ){<br />
		this.max = max;<br />
	} else {<br />
		this.max = -1;<br />
	};<br />
	this.addElement = function( element ){<br />
		if( element.tagName == &#8216;INPUT&#8217; &amp;&amp; element.type == &#8216;file&#8217; ){<br />
			element.name = &#8216;file_&#8217; + this.id++;<br />
			element.multi_selector = this;<br />
			element.onchange = function(){<br />
				var new_element = document.createElement( &#8216;input&#8217; );<br />
				new_element.type = &#8216;file&#8217;;<br />
				this.parentNode.insertBefore( new_element, this );<br />
				this.multi_selector.addElement( new_element );<br />
				this.multi_selector.addListRow( this );<br />
				this.style.position = &#8216;absolute&#8217;;<br />
				this.style.left = &#8216;-1000px&#8217;;<br />
			};<br />
			if( this.max != -1 &amp;&amp; this.count &gt;= this.max ){<br />
				element.disabled = true;<br />
			};<br />
			this.count++;<br />
			this.current_element = element;<br />
		} else {<br />
			alert( &#8216;Error: not a file input element&#8217; );<br />
		};<br />
	};<br />
	this.addListRow = function( element ){<br />
		var new_row = document.createElement( &#8216;div&#8217; );<br />
		new_row.innerHTML = &#8216;[';<br />
		var new_row_button = document.createElement( 'a' );<br />
		new_row_button.setAttribute("href", "#");<br />
		new_row_button.appendChild(document.createTextNode("remove"));<br />
		new_row.element = element;<br />
		new_row_button.onclick= function(){<br />
			this.parentNode.element.parentNode.removeChild( this.parentNode.element );<br />
			this.parentNode.parentNode.removeChild( this.parentNode );<br />
			this.parentNode.element.multi_selector.count--;<br />
			this.parentNode.element.multi_selector.current_element.disabled = false;<br />
			return false;<br />
		};<br />
		var c = element.value.lastIndexOf('\/');<br />
		if (c != -1)<br />
		html = element.value.substring(c+1);<br />
		else {<br />
		var c = element.value.lastIndexOf('\\');<br />
		if (c != -1)<br />
		html = element.value.substring(c+1);<br />
		else<br />
		html = element.value;<br />
		}<br />
		new_row.appendChild( new_row_button );<br />
		var new_row_text = document.createElement( 'span' );<br />
		new_row.appendChild(new_row_text);<br />
		new_row_text.innerHTML = '] &#8216; + html;<br />
		this.list_target.appendChild( new_row );<br />
	};<br />
};</p>
<p>and the php file it posts to:</p>
<p>if($_FILES) {</p>
<p>foreach($_FILES as $file) {<br />
if($file['error']==0 ) {</p>
<p>$uploadDir = &#8216;upload/&#8217;;<br />
$uploadFile = $uploadDir . $file['name'];<br />
move_uploaded_file($file['tmp_name'], $uploadFile);</p>
<p>} //error is 0<br />
} // foreach<br />
} // if files</p>
<p>I do error checking and more processing of the uploaded files, but they were very specific to my function so I left them out to be as generic as possible.  Hope it helps.</p>
			</div>
		</li>
		
		
			
		<li id="comment-467" class="odd">
			<div class="comment-meta">
							<p class="comment-author">???? on August 29, 2007</p>
			</div>
			<div class="comment-text">
				<p>???????????</p>
			</div>
		</li>
		
		
			
		<li id="comment-497" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.balendu.com' rel='external nofollow' class='url'>Balendu Sharma Dadhich</a> on September 7, 2007</p>
			</div>
			<div class="comment-text">
				<p>Very innovative way to upload multiple files, which is otherwise a very tedious task.</p>
			</div>
		</li>
		
		
				
		<li id="comment-459" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Sathish on September 19, 2007</p>
			</div>
			<div class="comment-text">
				<p>Nice work friends.</p>
<p>Code is working superbly..</p>
<p>But i need to upload only image files.</p>
<p>Is there any script to validate before uploading.</p>
<p>If so please send me the code across <a href="mailto:chumsat@gmail.com">chumsat@gmail.com</a></p>
<p>Thanks in advance</p>
			</div>
		</li>
		
		
			
		<li id="comment-456" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.no.si.te' rel='external nofollow' class='url'>zn0ppy</a> on September 20, 2007</p>
			</div>
			<div class="comment-text">
				<p>very nice script. found the trick behind this multifile uploads i was search for days <img src='http://the-stickman.com/wp-includes/images/smilies/icon_smile.gif' alt=':-)' class='wp-smiley' /> </p>
			</div>
		</li>
		
		
			
		<li id="comment-457" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Dave on September 21, 2007</p>
			</div>
			<div class="comment-text">
				<p>This is really beautiful. I&#8217;m definitely looking for this solution and one other component.  Do you know if it is possible to filter out the files shown by say file extension or filenames?  If I could do that, this would really work well for me as I have an instance where I have to allow the user to select about 100 files and it would help avoid mistakes if I showed only the file file1_1.jpg, file1_2.jpg&#8230; so that they put the right file into the right slot when the files are properly named (they won&#8217;t always be, so I also need to allow them to turn the filter off).<br />
THanks,<br />
dave</p>
			</div>
		</li>
		
		
			
		<li id="comment-469" class="even">
			<div class="comment-meta">
							<p class="comment-author">Blake on September 24, 2007</p>
			</div>
			<div class="comment-text">
				<p>I have gone through every comment on this thread (not necessarily perfectly, mind you) and added in all the fixes that seem pertinent, but I still cannot get this script to successfully send the file data to the server in Firefox 2.0.0.7. It works just fine in MSIE, but Firefox (on the php backend) sees empty file data. Is it just me? Any ideas??</p>
			</div>
		</li>
		
		
			
		<li id="comment-446" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.metaperl.com' rel='external nofollow' class='url'>Terrence Brannon</a> on September 24, 2007</p>
			</div>
			<div class="comment-text">
				<p>Hi, it seems that two file parameters are passed when only one file is uploaded.</p>
			</div>
		</li>
		
		
			
		<li id="comment-440" class="even">
			<div class="comment-meta">
							<p class="comment-author"><img src="http://the-stickman.com/wp-content/plugins/wpopenid/images/openid.gif" height="16" width="16" alt="OpenID" /><a href='http://mylid.net/bratkid' rel='external nofollow' class='url'>http://mylid.net/bratkid</a> on September 25, 2007</p>
			</div>
			<div class="comment-text">
				<p>good job.</p>
			</div>
		</li>
		
		
			
		<li id="comment-465" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.net-informatika.si' rel='external nofollow' class='url'>Dejan</a> on September 25, 2007</p>
			</div>
			<div class="comment-text">
				<p>I saw some people asking this in this in here but I&#8217;m not shure if somebody posted this before me.</p>
<p>It&#8217;s about styling the Browse button and the text box next to it so we get a nice looking Browse button with or without the nice looking text box.</p>
<p>I joined this fantastic solution with another great one from Michael McGrady to achieve formating of the Browse button and the text box. To one of our clients the text box looked kinda disfunctional to end-users, since the selected files are constantly disappearing and I quite understand them in some way (nobody uses command-line style inputs theese days).</p>
<p>So anyone interested in a nice looking Browse button with no text box, just contact me(djefim@gmail.com)! I would post it here but it&#8217;s still looking nasty and I&#8217;m way behind schedule <img src='http://the-stickman.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
			</div>
		</li>
		
		
			
		<li id="comment-432" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.partstrain.com/' rel='external nofollow' class='url'>Jenny</a> on September 27, 2007</p>
			</div>
			<div class="comment-text">
				<p>I’m no guru in Ajax/DHTML so I wasted a couple hours trying to find the AJAX in that neat solution.</p>
			</div>
		</li>
		
		
			
		<li id="comment-505" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Stickman on September 27, 2007</p>
			</div>
			<div class="comment-text">
				<p>Jenny: I don&#8217;t know where you got the idea that this has anything to do with Ajax &#8212; certainly not from the article, or anything in the code.</p>
<p>What exactly were you looking for?</p>
			</div>
		</li>
		
		
			
		<li id="comment-416" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.fotoparked.com' rel='external nofollow' class='url'>babacan</a> on October 14, 2007</p>
			</div>
			<div class="comment-text">
				<p>Thanks. very good article</p>
			</div>
		</li>
		
		
			
		<li id="comment-472" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Greg Mallon on October 15, 2007</p>
			</div>
			<div class="comment-text">
				<p>Stickman,<br />
Before I forget.  Thanks.  This looks to be an elegant, clean and simple approach to handling this problem.  I appreciate the time you&#8217;ve taken to do this.  I come from a Java background mostly and have done this before by allowing user to upload multiple docs, one at a time, with meta-data associated with each.  New to .NET and just needed a simple, clean implementation since time is short. Thanks again.<br />
Greg</p>
			</div>
		</li>
		
		
			
		<li id="comment-451" class="even">
			<div class="comment-meta">
							<p class="comment-author">Abhijit k Jadhav on October 16, 2007</p>
			</div>
			<div class="comment-text">
				<p>hi Great job<br />
I want some modification in code.<br />
I want to have a space of near about 60px or more  between filepath and delete button.<br />
Please help.<br />
Thanks<br />
bye</p>
			</div>
		</li>
		
		
			
		<li id="comment-512" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.xis.be' rel='external nofollow' class='url'>Tom Webdesign</a> on October 17, 2007</p>
			</div>
			<div class="comment-text">
				<p>nice post but i&#8217;m looking for a file uploader where I can select multiple files at once.<br />
When you need to upload 100 files you have to select them one by one.</p>
			</div>
		</li>
		
		
			
		<li id="comment-495" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.iconcompu.com' rel='external nofollow' class='url'>Suhaib Malik</a> on October 18, 2007</p>
			</div>
			<div class="comment-text">
				<p>thanks a million for this wounderfull script. keep rocking</p>
			</div>
		</li>
		
		
			
		<li id="comment-517" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Silpa on October 22, 2007</p>
			</div>
			<div class="comment-text">
				<p>can you please provide me the code to open the attached file.with the same code as above i need to have this feature also to oprn the file.</p>
<p>Thanks in advance</p>
			</div>
		</li>
		
		
			
		<li id="comment-479" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.infowey.com' rel='external nofollow' class='url'>ctraos</a> on October 24, 2007</p>
			</div>
			<div class="comment-text">
				<p>muchas gracias, muy buen post <img src='http://the-stickman.com/wp-includes/images/smilies/icon_biggrin.gif' alt=':D' class='wp-smiley' /> D</p>
			</div>
		</li>
		
		
			
		<li id="comment-515" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Eric Mitchell on November 3, 2007</p>
			</div>
			<div class="comment-text">
				<p>Doubt anyone will make it down this far but&#8230;</p>
<p>Wouldn&#8217;t it make the Delete button&#8217;s &#8220;onclick&#8221; event handler a little less wordy if the file input element was added to the button itself, rather than the row?</p>
<p>For example:<br />
new_row_button.element = element;<br />
instead of:<br />
new_row.element = element;</p>
<p>allows:<br />
this.element.parentNode.removeChild( this.parentNode.element );<br />
and:<br />
this.element.multi_selector.current_element.disabled = false;</p>
<p>instead of:<br />
this.parentNode.element.parentNode.removeChild( this.parentNode.element );<br />
and:<br />
this.parentNode.element.multi_selector.current_element.disabled = false;</p>
<p>I hate having to keep track of the document hierarchy as I&#8217;m reading code.  This is a little more straightforward.</p>
<p>Thanks for the solution!  And your code formatting is great, BTW (i.e. similar to mine).</p>
<p>P.S.  I see I have to give my e-mail address (good for 30 days).  Having read your interviewing comments about putting a web site on your resume I&#8217;ll ask, should you end up on mine, to keep in mind that it&#8217;s aimed at 85-year-old users who use WebTV &#8211; even frames are too exotic.</p>
			</div>
		</li>
		
		
			
		<li id="comment-458" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://no' rel='external nofollow' class='url'>Juan</a> on November 9, 2007</p>
			</div>
			<div class="comment-text">
				<p>excelente !!! facil de integrar !</p>
			</div>
		</li>
		
		
			
		<li id="comment-483" class="odd">
			<div class="comment-meta">
							<p class="comment-author">surya on November 10, 2007</p>
			</div>
			<div class="comment-text">
				<p>i want to check at the time of uploading the input fiie is opened or not</p>
			</div>
		</li>
		
		
			
		<li id="comment-501" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.thegioiwebsite.net' rel='external nofollow' class='url'>Nguyen Duc Manh</a> on November 12, 2007</p>
			</div>
			<div class="comment-text">
				<p>why you don&#8217;t upload your php file ???</p>
			</div>
		</li>
		
		
			
		<li id="comment-506" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><img src="http://the-stickman.com/wp-content/plugins/wpopenid/images/openid.gif" height="16" width="16" alt="OpenID" /><a href='http://jokmontoya.openid.es/' rel='external nofollow' class='url'>JokMontoya</a> on November 23, 2007</p>
			</div>
			<div class="comment-text">
				<p>I had a problem when form didn&#8217;t sent the top number of files, the FILES array had an extra empty field. I tried to resolve it deleting the empty input type file at submit.<br />
I added this funtion to the script:</p>
<p>&#8230;[CODE]</p>
<p>this.CheckEmpty	= function ()<br />
	{<br />
	//alert (&#8220;TAG: &#8220;+this.current_element.tagName+&#8221;TIPO: &#8220;+this.current_element.type+&#8221;VALOR: &#8220;+this.current_element.value+&#8221;LONG: &#8220;+this.current_element.value.length);<br />
  	if(this.current_element.value.length==0)<br />
  	{<br />
  	 if (this.current_element.parentNode.removeChild(this.current_element)) return true;<br />
  	}<br />
	};</p>
<p>[/CODE] &#8230;</p>
<p>just before the last   };</p>
<p>Then is needed to add an eventhandler to the FORM tag: onsubmit=&#8221;multi_selector.CheckEmpty();&#8221;</p>
<p>in this way:</p>
			</div>
		</li>
		
		
			
		<li id="comment-507" class="even">
			<div class="comment-meta">
							<p class="comment-author"><img src="http://the-stickman.com/wp-content/plugins/wpopenid/images/openid.gif" height="16" width="16" alt="OpenID" /><a href='http://jokmontoya.openid.es/' rel='external nofollow' class='url'>JokMontoya</a> on November 23, 2007</p>
			</div>
			<div class="comment-text">
				<p>And thanks for this script.</p>
			</div>
		</li>
		
		
			
		<li id="comment-500" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Sean on November 28, 2007</p>
			</div>
			<div class="comment-text">
				<p>Hi, Can anyone help me. I&#8217;m using the multifile.js version without any changes and it&#8217;s not working on Firefox. Not sure what&#8217;s causing that. Also I everytime I add a file I also capture the contents of a textbox. However, I only want to add the file if the textbox is not blank. How do I do this?</p>
			</div>
		</li>
		
		
			
		<li id="comment-428" class="even">
			<div class="comment-meta">
							<p class="comment-author">hobrob on November 29, 2007</p>
			</div>
			<div class="comment-text">
				<p>It&#8217;s not asynchronous, and there&#8217;s no XML. THIS IS NOT AJAX. Unless you put the contents of a file into a get / post variable of an XMLHttpRequest and send it to a script that creates a file on the server with the contents of your variable, there is no such thing as an AJAX file transfer. Why do people find it so hard to distinguish between Ajax and standard Javascript DOM manipulation?</p>
<p><strong>Stickman says:</strong> I&#8217;ve said it before several times but apparently I need to say it again: I know it&#8217;s not Ajax, and I never claimed that it was. Read the article again and see if you can see any mention of Ajax&#8230;well? Nope, that&#8217;s because it&#8217;s not there. And it never was.</p>
<p>In fact, I think I&#8217;m going to edit the article right now to point this out more clearly, to avoid any more such high-handed comments.</p>
			</div>
		</li>
		
		
			
		<li id="comment-502" class="odd">
			<div class="comment-meta">
							<p class="comment-author">SUDHI GANGAL on November 30, 2007</p>
			</div>
			<div class="comment-text">
				<p>Thanks the code u have given for browse.</p>
<p>THROUGH CODE FILES ARE STORED IN  .SO NW I HAVE I QUESTION THAT AS IT CONTAIN IN DIV HOW TO ACESS THE FILES AND UPLOAD TO THE SERVER .<br />
BECAUSE DURING THE UPLOAD IT ONLY KNOWS THE  TAG NOT THE DIV</p>
<p>PLEASE HELP ME .IF ANYONE TRIED.</p>
			</div>
		</li>
		
		
				
		<li id="comment-516" class="even">
			<div class="comment-meta">
							<p class="comment-author">Craig on January 9, 2008</p>
			</div>
			<div class="comment-text">
				<p>Easiest way to strp the filename:</p>
<p>Replace:</p>
<p>new_row.innerHTML = element.value;</p>
<p>with:</p>
<p>var m = element.value.match(/(.*)[\/\\]([^\/\\]+\.\w+)$/);<br />
new_row.innerHTML = m[2];</p>
<p>Cheers, Craig</p>
			</div>
		</li>
		
		
			
		<li id="comment-514" class="odd">
			<div class="comment-meta">
							<p class="comment-author">soulz on January 21, 2008</p>
			</div>
			<div class="comment-text">
				<p>Alright I&#8217;m a bit new with the CSS concept and XHTML.. understand java enough to get by.. and am fairly good with php and ajax.. So, I found this script the concept is fantastic.. love it very much so.. but for once I am stumped on coding&#8230; maybe its cause i am beyond sleep or just burnt out from other projects I dunno.. but I guess my questions would be to this..</p>
<p>I want to change the look to like what you have well.. similar but more conforming to the look of the site I am using it on. grant it its a backend script on the site that i plan to use it for an noone will see it but me and I could leave it the way it is, but I am to say the least anal about looks.. so that said.. how can I change the div layout from plain to pretty? just a simple sample will sufice ill figure out the rest from there hopefully..</p>
<p>and one other thing. how would i integrate this in with Shawns upload script?<br />
email is <a href="mailto:soulzllc@gmail.com">soulzllc@gmail.com</a> to any that can help..</p>
			</div>
		</li>
		
		
				
		<li id="comment-513" class="even">
			<div class="comment-meta">
							<p class="comment-author">Mister B on January 25, 2008</p>
			</div>
			<div class="comment-text">
				<p>Awesome work &#8211; works really well &#8211; thankyou very much! I had to extend it so that i could add a description text box for each file to upload. It was reasonably simple to do. What I should have done though (NB for next time, or for anyone that needs to do the same), is create a generic container object to hold the input file and the input text control in, and then that could be manipulated in the same way that you are currently manipulating just the file input control. If this is done, then you would be able to group all sorts of different html controls with a single file upload with the same code base. oh well&#8230; for next time!</p>
			</div>
		</li>
		
		
			
		<li id="comment-523" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Shaun on February 1, 2008</p>
			</div>
			<div class="comment-text">
				<p>can someone email me the updated script with the RESET code</p>
			</div>
		</li>
		
		
			
		<li id="comment-450" class="even">
			<div class="comment-meta">
							<p class="comment-author">Kristy on February 5, 2008</p>
			</div>
			<div class="comment-text">
				<p>Love the script. Easy, Neat &amp; User Friendly&#8230; my thanks to Jpep for his tip on getting started with the upload script:<br />
$file_count = sizeof($_FILES);<br />
for ($i=0;$i</p>
			</div>
		</li>
		
		
			
		<li id="comment-519" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Roland Hentschel on February 6, 2008</p>
			</div>
			<div class="comment-text">
				<p>Great Script,<br />
yet I&#8217;m confused about what kind of script I should write<br />
for the &#8220;your_script_here.script&#8221; &#8230;</p>
<p>Would be really kind of you to help me out ?!?</p>
<p>( -: roland :- )</p>
			</div>
		</li>
		
		
				
		<li id="comment-509" class="even">
			<div class="comment-meta">
							<p class="comment-author">Kyle on February 13, 2008</p>
			</div>
			<div class="comment-text">
				<p>I&#8217;m trying to allow for a description/caption to be added for each doc&#8230;if anyone can help me out, point me in the right direction or share their hack&#8230;it would be appreciated</p>
			</div>
		</li>
		
		
			
		<li id="comment-522" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.no.com' rel='external nofollow' class='url'>ChrisLang</a> on February 16, 2008</p>
			</div>
			<div class="comment-text">
				<p>Hi Stickman and Hisham Al-Beik,<br />
regarding the delete all. i cannot find any file here on how to delete all. but here is the code:<br />
example.html<br />
		var TabPlane = document.getElementById(&#8216;files_list&#8217;);<br />
		var newPlane = TabPlane.cloneNode(false); // no child nodes;<br />
		TabPlane.parentNode.replaceChild(newPlane,TabPlane);</p>
<p>But i tried so many times and ways to removeChild (insertbefore), would you please help.<br />
Thanks</p>
			</div>
		</li>
		
		
			
		<li id="comment-525" class="even">
			<div class="comment-meta">
							<p class="comment-author">smeerkahoven on February 22, 2008</p>
			</div>
			<div class="comment-text">
				<p>hi&#8230; im trying to upload files using php.. but i wanna kwno if there are a way to upload them without  html tag&#8230;just using an url: /home/me/file.txt &#8230;.in a hidden tag or something&#8230;but validating with POST or GET to get the file url to upload&#8230;plz &#8230;</p>
			</div>
		</li>
		
		
			
		<li id="comment-482" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://multibitshift.com' rel='external nofollow' class='url'>Justin Cunningham</a> on February 25, 2008</p>
			</div>
			<div class="comment-text">
				<p>I made a flexible flash multiple file upload applet.  It&#8217;s called Multi Bit Shift, and is licensed under the LGPL.  It has real time upload status monitoring and queuing, and is extensively documented both internally and externally.  In addition, screencasts are available and any of the text or color schemes can be customized.  I hope it can be of some help, check it out at <a href="http://mutlibitshift.com" rel="nofollow">http://mutlibitshift.com</a>.</p>
<p>JC</p>
			</div>
		</li>
		
		
			
		<li id="comment-528" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.randyapuzzo.com' rel='external nofollow' class='url'>Randy</a> on February 25, 2008</p>
			</div>
			<div class="comment-text">
				<p>Thanks for the great code!</p>
			</div>
		</li>
		
		
			
		<li id="comment-427" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://the-stickman.com/web-development/javascript/upload-multiple-files-with-a-single-file-element/' rel='external nofollow' class='url'>palwinder</a> on February 28, 2008</p>
			</div>
			<div class="comment-text">
				<p>Thanx for,</p>
<p>Really, it was very helpful for me, i just got it that i wanted.</p>
<p>Thankx once again dear.</p>
			</div>
		</li>
		
		
			
		<li id="comment-540" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://codeprojects.com' rel='external nofollow' class='url'>LinuxDeveloper6666</a> on March 6, 2008</p>
			</div>
			<div class="comment-text">
				<p>Thanks for the nice script. It took me two days to get this working.</p>
<p>However my boss has a requirement. Does any one know some upload script like the following?</p>
<p><a href="http://ajaxuploader.com/Demo/multiple-files-upload.aspx" rel="nofollow">http://ajaxuploader.com/Demo/multiple-files-upload.aspx</a></p>
<p>The above script is built in .NET. I think it&#8217;s possible to achieve the same result using PHP.</p>
<p>Thanks</p>
			</div>
		</li>
		
		
			
		<li id="comment-503" class="odd">
			<div class="comment-meta">
							<p class="comment-author">mayaka on March 6, 2008</p>
			</div>
			<div class="comment-text">
				<p>Hi<br />
thks for this script, but i still have a problem with<br />
when i try to print the content of $_FILES<br />
   print_r ($_FILES);</p>
<p>i have an empty entry in the table (i try to upload just 2 file )<br />
please help me</p>
<p><i><br />
FILES:Array<br />
(<br />
    [file_2] =&gt; Array<br />
        (<br />
            [name] =&gt;<br />
            [type] =&gt;<br />
            [tmp_name] =&gt;<br />
            [error] =&gt; 4<br />
            [size] =&gt; 0<br />
        )</p>
<p>    [file_1] =&gt; Array<br />
        (<br />
            [name] =&gt; ovh-logo-gauche.gif<br />
            [type] =&gt; image/gif<br />
            [tmp_name] =&gt; w:/var/tmp\php39C.tmp<br />
            [error] =&gt; 0<br />
            [size] =&gt; 1854<br />
        )</p>
<p>    [file_0] =&gt; Array<br />
        (<br />
            [name] =&gt; webaffaires.jpg<br />
            [type] =&gt; image/jpeg<br />
            [tmp_name] =&gt; w:/var/tmp\php39D.tmp<br />
            [error] =&gt; 0<br />
            [size] =&gt; 11575<br />
        )</p>
<p>)</p>
<p></i></p>
			</div>
		</li>
		
		
			
		<li id="comment-543" class="even">
			<div class="comment-meta">
							<p class="comment-author">Shelon Padmore on March 8, 2008</p>
			</div>
			<div class="comment-text">
				<p>Is there a way for this control to select a folder also???</p>
<p>- Shelon Padmore</p>
			</div>
		</li>
		
		
			
		<li id="comment-426" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.echoarcade.com' rel='external nofollow' class='url'>Stickman Games</a> on March 12, 2008</p>
			</div>
			<div class="comment-text">
				<p>Crazy coding</p>
			</div>
		</li>
		
		
			
		<li id="comment-521" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://google.com' rel='external nofollow' class='url'>Kyle</a> on March 13, 2008</p>
			</div>
			<div class="comment-text">
				<p>I’m trying to allow for a description/caption to be added for each doc…if anyone can help me out, point me in the right direction or share their hack…it would be appreciated</p>
			</div>
		</li>
		
		
			
		<li id="comment-520" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://osirisdesigngroup.com' rel='external nofollow' class='url'>Philip</a> on March 14, 2008</p>
			</div>
			<div class="comment-text">
				<p>@mayaka:</p>
<p>It looks like you have not changed the max parameter from the default of three to your desired number of uploads.  When calling the MultiSelector() function, specify 2 as the second parameter.</p>
<p>I could be wrong, however.</p>
<p>@Stickman &#8211; Thank you very much for this&#8230; It is much more elegant than the solution that I was using, which was to use AJAX (ugh) to create additional file input elements or using the fileReference class in flash (double ugh) to create upload forms.</p>
			</div>
		</li>
		
		
			
		<li id="comment-533" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.google.com' rel='external nofollow' class='url'>Sanket Sirotiya</a> on April 1, 2008</p>
			</div>
			<div class="comment-text">
				<p>Thanks Dude!!!</p>
			</div>
		</li>
		
		
			
		<li id="comment-534" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Misha on April 1, 2008</p>
			</div>
			<div class="comment-text">
				<p>Thank you a lot for the script.<br />
I am going to use it with php to upload files and to put them to MySQL DB.<br />
&lt;?<br />
for ($i = 0; $i &lt; 3; $i++)<br />
{<br />
print $_FILES['file_'.$i]['name'].&#8221;;<br />
}<br />
?&gt;</p>
			</div>
		</li>
		
		
			
		<li id="comment-535" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://no' rel='external nofollow' class='url'>pervaiz akhtar</a> on April 2, 2008</p>
			</div>
			<div class="comment-text">
				<p>good work</p>
<p>but i feel problem when i used javascript in content page. what is solution of it</p>
			</div>
		</li>
		
		
			
		<li id="comment-536" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.flitehaus.com' rel='external nofollow' class='url'>Luiz Lopes</a> on April 4, 2008</p>
			</div>
			<div class="comment-text">
				<p>This is great, a really awesome script.  It definitely makes things a lot easier to work with.  Good Job!</p>
			</div>
		</li>
		
		
			
		<li id="comment-539" class="even">
			<div class="comment-meta">
							<p class="comment-author">ram on April 4, 2008</p>
			</div>
			<div class="comment-text">
				<p>Nice work.. Just wanted to know if any one is aware of mulitple selection of files while uploading.</p>
			</div>
		</li>
		
		
			
		<li id="comment-508" class="odd">
			<div class="comment-meta">
							<p class="comment-author">dylan on April 9, 2008</p>
			</div>
			<div class="comment-text">
				<p>For those of you who are still trying to CSS-ify the delete button (and other elements).. I set the &#8220;id&#8221; tag with,</p>
<p>new_row_button.setAttribute( &#8216;id&#8217;, &#8216;multifile-butn&#8217; );</p>
<p>I think you can set the &#8220;class&#8221; tag similarly, though I haven&#8217;t tried.</p>
			</div>
		</li>
		
		
			
		<li id="comment-530" class="even">
			<div class="comment-meta">
							<p class="comment-author">Rhaka on April 15, 2008</p>
			</div>
			<div class="comment-text">
				<p>Man i&#8217;m still float with</p>
<p>element.name = &#8216;userfile[]&#8216;;</p>
<p>b&#8217;cos in my PHP</p>
<p>$file = $_FILES['userfile'];<br />
$k = count($file['name']);</p>
<p>for($i=0 ; $i &lt; $k ; $i++)<br />
{<br />
	if(isset($save_path_thumb) &amp;&amp; $save_path_thumb!=&#8221;")<br />
	{<br />
		$name = split(&#8216;/&#8217;,$file['name'][$i]);</p>
<p>		move_uploaded_file($file['tmp_name'][$i], $save_path_thumb.$name[count($name)-1]);<br />
	}</p>
<p>}</p>
<p>it&#8217;s still can&#8217;t work&#8230;i can upload several even only for 1 image.please reply imediately..thanks</p>
			</div>
		</li>
		
		
			
		<li id="comment-531" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Rhaka on April 15, 2008</p>
			</div>
			<div class="comment-text">
				<p>it’s still can’t work…i can&#8217;t upload several even only for 1 image.please reply imediately..thanks</p>
			</div>
		</li>
		
		
				
		<li id="comment-524" class="even">
			<div class="comment-meta">
							<p class="comment-author">jake on April 26, 2008</p>
			</div>
			<div class="comment-text">
				<p>Ok i need a tiny bit of help, i need the element name and id to be the same because of how my form script works. How do i do this? I can get the id to come up but the numbering does not stay the same with the id and name.<br />
please help</p>
			</div>
		</li>
		
		
			
		<li id="comment-545" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Cromatino on May 4, 2008</p>
			</div>
			<div class="comment-text">
				<p>Hi. Thanks for the script, that&#8217;s what I need for a my simple struts project&#8230;but&#8230;I have a question: in the action you put &#8216;action=&#8221;your_script_here.script&#8221;&#8216;. Can I pass the files to a Struts Action? If yes, how can I read the files? I&#8217;m trying to read them like File (and like FormFile too) but it doesn&#8217;t work. Which type I have to use to get this files?</p>
<p>Thanks, Bye.</p>
			</div>
		</li>
		
		
			
		<li id="comment-538" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://7signals.biz' rel='external nofollow' class='url'>woss</a> on May 5, 2008</p>
			</div>
			<div class="comment-text">
				<p>can anyone explain me is it possible to select multiple  files at once and then upload them with the resto of the form??</p>
			</div>
		</li>
		
		
			
		<li id="comment-541" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.mobypics.co.uk' rel='external nofollow' class='url'>Niz</a> on May 6, 2008</p>
			</div>
			<div class="comment-text">
				<p>Hi Stickman et al</p>
<p>Very, very helpful script.</p>
<p>Is it easy to add a piece of code that shows a progress bar for uploads? If so can someone point me in the right direction?</p>
<p>Regds<br />
Niz</p>
			</div>
		</li>
		
		
			
		<li id="comment-542" class="even">
			<div class="comment-meta">
							<p class="comment-author">drvajra on May 7, 2008</p>
			</div>
			<div class="comment-text">
				<p>ear Mr. Stickman and friends:</p>
<p>Greetings.<br />
I am a teacher, and planning to set up a website for my students.</p>
<p>In my website,I would like:<br />
1) Each student to be able to upload 15 to 20 files, at one time.<br />
2. I will assign a Student# and password. This should be &#8216;required&#8217; for uploading, to prevent unauthorized uploading.<br />
2. Restrict upload File Types (for example *.exe).<br />
3. I would like the files uploaded by each student to be stored on my website separately for each student.<br />
4. I would like to be able to download from my website to my computer, my student  uploaded files, for editing.<br />
4. The ability to delete used files from server.<br />
5. Ability to disable student#, so the same person cannot upload without new approval.</p>
<p>I will greatly appreciate if you could help me with implementing this in my website. I am familiar with HTML.</p>
<p>Thank you so much!</p>
<p>Dr. Vajra Sharma</p>
			</div>
		</li>
		
		
			
		<li id="comment-993" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.php-web-developer.com' rel='external nofollow' class='url'>PHP Developer</a> on May 20, 2008</p>
			</div>
			<div class="comment-text">
				<p>Hi, I am trying to upload multiple files in my server ( Web Host, not local).. But I want to test them before upload and also I want to show a progress bar about this upload..</p>
<p>How to do it?</p>
			</div>
		</li>
		
		
			
		<li id="comment-1002" class="even">
			<div class="comment-meta">
							<p class="comment-author">Matt on June 13, 2008</p>
			</div>
			<div class="comment-text">
				<p>This script is amazing.</p>
<p>If I already know the path of the files to upload, can these be listed in the  before someone browses for a file?</p>
<p>Can I use php to do this?</p>
			</div>
		</li>
		
		
			
		<li id="comment-1009" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Peter on June 25, 2008</p>
			</div>
			<div class="comment-text">
				<p>Here&#8217;s a version I have modified to use the Prototype JS API and take an additional &#8220;options&#8221; parameter for increased versatility.  Here is example usage followed by the code:</p>
<p>// Create an instance of the multiSelector class, pass it the output target and the max number of files and any desired custom options<br />
var multi_selector = new MultiSelector( $( &#8216;files_list&#8217; ), 50,{<br />
	name_prefix: &#8216;filename&#8217;,<br />
	use_array: true	// name the elements with &#8220;[]&#8221; so PHP picks up the files as an array<br />
});<br />
// Pass in the file element<br />
multi_selector.addElement( $( &#8216;my_file_element&#8217; ) );</p>
<p>The modified code:</p>
<p>/**<br />
 * Convert a single file-input element into a &#8216;multiple&#8217; input list<br />
 *<br />
 * Usage:<br />
 *<br />
 *   1. Create a file input element (no name)<br />
 *      eg.<br />
 *<br />
 *   2. Create a DIV for the output to be written to<br />
 *      eg.<br />
 *<br />
 *   3. Instantiate a MultiSelector object, passing in the DIV and an (optional) maximum number of files<br />
 *      eg. var multi_selector = new MultiSelector( document.getElementById( &#8216;files_list&#8217; ), 3 );<br />
 *<br />
 *   4. Add the first element<br />
 *      eg. multi_selector.addElement( document.getElementById( &#8216;first_file_element&#8217; ) );<br />
 *<br />
 *   5. That&#8217;s it.<br />
 *<br />
 *   You might (will) want to play around with the addListRow() method to make the output prettier.<br />
 *<br />
 *   You might also want to change the line<br />
 *       element.name = &#8216;file_&#8217; + this.count;<br />
 *   &#8230;to a naming convention that makes more sense to you.<br />
 *<br />
 * Licence:<br />
 *   Use this however/wherever you like, just don&#8217;t blame me if it breaks anything.<br />
 *<br />
 * Credit:<br />
 *   If you&#8217;re nice, you&#8217;ll leave this bit:<br />
 *<br />
 *   Class by Stickman &#8212; <a href="http://www.the-stickman.com" rel="nofollow">http://www.the-stickman.com</a><br />
 *      with thanks to:<br />
 *      [for Safari fixes]<br />
 *         Luis Torrefranca &#8212; <a href="http://www.law.pitt.edu" rel="nofollow">http://www.law.pitt.edu</a><br />
 *         and<br />
 *         Shawn Parker &amp; John Pennypacker &#8212; <a href="http://www.fuzzycoconut.com" rel="nofollow">http://www.fuzzycoconut.com</a><br />
 *      [for duplicate name bug]<br />
 *         &#8216;neal&#8217;<br />
 */<br />
function MultiSelector( list_target, max, options ){</p>
<p>	if (options === undefined) {<br />
		// make an empty object so we don&#8217;t get errors checking properties<br />
		var options = {}<br />
	}<br />
	// Where to write the list<br />
	this.list_target = list_target;<br />
	// How many elements?<br />
	this.count = 0;<br />
	// How many elements?<br />
	this.id = 0;<br />
	// Is there a maximum?<br />
	if( max ){<br />
		this.max = max;<br />
	} else {<br />
		this.max = -1;<br />
	};<br />
	// What to prefix the upload field names with<br />
	if (options.name_prefix === undefined) {<br />
		this.name_prefix = &#8216;file_&#8217;;<br />
	}<br />
	else {<br />
		this.name_prefix = options.name_prefix;<br />
	}<br />
	// Whether or not the fields should be submitted as an array for the processing script. If set to true &#8220;[]&#8221; will be appended to the field name, otherwise it will be appended with a number<br />
	if (options.use_array === undefined) {<br />
		this.use_array = false;<br />
	}<br />
	else {<br />
		this.use_array = options.use_array;<br />
	}<br />
	// What CSS style to use for hiding the form elements<br />
	if (options.hidden_style === undefined) {<br />
		this.hidden_style = {<br />
			&#8216;position&#8217;: &#8216;absolute&#8217;,<br />
			&#8216;left&#8217;: &#8216;-1000px&#8217;<br />
		}<br />
	}<br />
	else {<br />
		this.hidden_style = options.hidden_style;<br />
	}<br />
	// A CSS classname to use for hiding the form elements.  This will take precedence over the style to ensure the default style is not used when a classname is provided.<br />
	if (options.hidden_classname === undefined) {<br />
		this.hidden_classname = null;<br />
	}<br />
	else {<br />
		this.hidden_classname = options.hidden_classname;<br />
	}<br />
	/**<br />
	 * Add a new file input element<br />
	 */<br />
	this.addElement = function( element ){<br />
		// Make sure it&#8217;s a file input element<br />
		if( element.tagName == &#8216;INPUT&#8217; &amp;&amp; element.type == &#8216;file&#8217; ){<br />
			// Element name<br />
			if (this.use_array === true) {<br />
				element.name = this.name_prefix + &#8216;[]&#8216;;<br />
			}<br />
			else {<br />
				element.name = this.name_prefix + this.id++;<br />
			}<br />
			// Add reference to this object<br />
			element.multi_selector = this;<br />
			// What to do when a file is selected<br />
			element.observe(&#8216;change&#8217;,function() {<br />
				// New file input<br />
				var new_element = document.createElement( &#8216;input&#8217; );<br />
				new_element.type = &#8216;file&#8217;;<br />
				// Add new element<br />
				this.insert({&#8216;before&#8217;: new_element})<br />
				// Apply &#8216;update&#8217; to element<br />
				this.multi_selector.addElement( new_element );<br />
				// Update list<br />
				this.multi_selector.addListRow( this );<br />
				// Hide this<br />
				if (this.multi_selector.hidden_classname !== null) {<br />
					this.className = this.multi_selector.hidden_classname;<br />
				}<br />
				else {<br />
					this.setStyle(this.multi_selector.hidden_style);<br />
				}<br />
			});<br />
			// If we&#8217;ve reached maximum number, disable input element<br />
			if ( this.max != -1 &amp;&amp; this.count &gt;= this.max ) {<br />
				element.disabled = true;<br />
			};<br />
			// File element counter<br />
			this.count++;<br />
			// Most recent element<br />
			this.current_element = element;<br />
		} else {<br />
			// This can only be applied to file input elements!<br />
			alert( &#8216;Error: not a file input element&#8217; );<br />
		};<br />
	};</p>
<p>	/**<br />
	 * Add a new row to the list of files<br />
	 */<br />
	this.addListRow = function( element ){<br />
		// Row div<br />
		var new_row = document.createElement( &#8216;div&#8217; );<br />
		// Delete button<br />
		var new_row_button = document.createElement( &#8216;input&#8217; );<br />
		new_row_button.type = &#8216;button&#8217;;<br />
		new_row_button.value = &#8216;Delete&#8217;;<br />
		// References<br />
		new_row.element = element;<br />
		// Delete function<br />
		new_row_button.observe(&#8216;click&#8217;,function() {<br />
			// Remove item from list<br />
			this.up().remove();<br />
			// Remove element from form<br />
			this.up().element.remove();<br />
			// Decrement counter<br />
			this.up().element.multi_selector.count&#8211;;<br />
			// Re-enable input element (if it&#8217;s disabled)<br />
			this.up().element.multi_selector.current_element.disabled = false;<br />
			// Appease Safari<br />
			//    without it Safari wants to reload the browser window<br />
			//    which nixes your already queued uploads<br />
			return false;<br />
		});<br />
		// Set row value<br />
		new_row.update(element.value);<br />
		// Add button<br />
		new_row.insert( new_row_button );<br />
		// Add it to the list<br />
		this.list_target.insert( new_row );</p>
<p>	};<br />
};</p>
			</div>
		</li>
		
		
			
		<li id="comment-1010" class="even">
			<div class="comment-meta">
							<p class="comment-author">Sandeep Mucherla on June 25, 2008</p>
			</div>
			<div class="comment-text">
				<p>hi this is greate script and am using this. This works fine with IE7 adding multiple files. But this does not work in Firefox 2.0.0.14 i can only select one file at a time to upload..</p>
<p>Can any one help me in this issue.</p>
			</div>
		</li>
		
		
			
		<li id="comment-1013" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.estigoy.net/multifile' rel='external nofollow' class='url'>michaelest</a> on June 27, 2008</p>
			</div>
			<div class="comment-text">
				<p>My initial experience with this code lead me to want something that was plain &#8216;ole javascript with consistency across multiple browsers. After stumbling across another similar implementation, I came up with&#8230;</p>
<p><a href="http://www.estigoy.net/multifile" rel="nofollow">http://www.estigoy.net/multifile</a> </p>
<p>It functions in a manner very similar to this code.</p>
<p>All source files (HTML, javascript and PHP files &#8211; heavily commented) are available from link at the demo url (above).</p>
<p>I&#8217;m just venturing into advanced javascript, so please be gentle with your comments/feedback.</p>
<p>thanks,</p>
<p>Michael</p>
			</div>
		</li>
		
		
			
		<li id="comment-1017" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.screamlabs.at' rel='external nofollow' class='url'>Jack</a> on July 1, 2008</p>
			</div>
			<div class="comment-text">
				<p>Hallo!</p>
<p>Cool Script but how can i add a description text input field and files in the file_field from  startup??</p>
			</div>
		</li>
		
		
			
		<li id="comment-1027" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.travellersalmanac.com' rel='external nofollow' class='url'>Traveller</a> on July 10, 2008</p>
			</div>
			<div class="comment-text">
				<p>Very cool&#8230;</p>
<p>But, in my opinion, will be better with a button to start the download.</p>
<p>Regards!</p>
			</div>
		</li>
		
		
			
		<li id="comment-1030" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://1d10t.blogspot.com' rel='external nofollow' class='url'>Abhilasha Sharma</a> on July 16, 2008</p>
			</div>
			<div class="comment-text">
				<p>Hey,</p>
<p>Made a minor modificationto your code so that the extension would be checked for the files to be uploaded</p>
<p>// Multiple file selector by Stickman &#8212; <a href="http://www.the-stickman.com" rel="nofollow">http://www.the-stickman.com</a><br />
// with thanks to: [for Safari fixes] Luis Torrefranca &#8212; <a href="http://www.law.pitt.edu" rel="nofollow">http://www.law.pitt.edu</a> and Shawn Parker &amp; John Pennypacker &#8212; <a href="http://www.fuzzycoconut.com" rel="nofollow">http://www.fuzzycoconut.com</a> [for duplicate name bug] &#8216;neal&#8217;<br />
function MultiSelector( list_target, max )<br />
{<br />
this.list_target = list_target;<br />
this.count = 0;<br />
this.id = 0;<br />
if( max )<br />
{this.max = max;}<br />
else<br />
{this.max = -1;};</p>
<p>this.addElement = function( element )<br />
{<br />
if( element.tagName == &#8216;INPUT&#8217; &amp;&amp; element.type == &#8216;file&#8217;)<br />
{<br />
element.name = &#8216;file_&#8217; + this.id++;<br />
element.multi_selector = this;<br />
element.onchange = function()<br />
{<br />
if(checkExtension(element.value)==1)<br />
{<br />
var new_element = document.createElement( &#8216;input&#8217; );<br />
new_element.type = &#8216;file&#8217;;<br />
this.parentNode.insertBefore( new_element, this );<br />
this.multi_selector.addElement( new_element );<br />
this.multi_selector.addListRow( this );<br />
this.style.position = &#8216;absolute&#8217;;<br />
this.style.left = &#8216;-1000px&#8217;;<br />
}<br />
else<br />
{alert(&#8220;Error : You can upload either microsoft word document or a pdf file only. Please check the extension of the file you are trying to upload&#8221;);}<br />
};<br />
if( this.max != -1 &amp;&amp; this.count &gt;= this.max )<br />
{<br />
element.disabled = true;};<br />
this.count++;<br />
//alert(this.count);<br />
this.current_element = element;</p>
<p>}<br />
else<br />
{alert( &#8216;Error: Please choose a valid file&#8217; );};};</p>
<p>this.addListRow = function( element )<br />
{<br />
var new_row = document.createElement( &#8216;div&#8217; );<br />
var new_row_button = document.createElement( &#8216;input&#8217; );<br />
new_row_button.type = &#8216;button&#8217;;<br />
new_row_button.value = &#8216;Delete&#8217;;<br />
new_row.element = element;</p>
<p>new_row_button.onclick= function()<br />
{<br />
this.parentNode.element.parentNode.removeChild( this.parentNode.element );<br />
this.parentNode.parentNode.removeChild( this.parentNode );<br />
this.parentNode.element.multi_selector.count&#8211;;<br />
this.parentNode.element.multi_selector.current_element.disabled = false;return false;};<br />
new_row.innerHTML = element.value;<br />
new_row.appendChild( new_row_button );<br />
this.list_target.appendChild( new_row );<br />
};<br />
};</p>
<p>function checkExtension(fileName)<br />
    {</p>
<p>//        // for mac/linux, else assume windows<br />
        if (navigator.appVersion.indexOf(&#8216;Mac&#8217;) != -1 || navigator.appVersion.indexOf(&#8216;Linux&#8217;) != -1)<br />
            var fileSplit = &#8216;/&#8217;;<br />
        else<br />
            var fileSplit = &#8216;\\&#8217;;</p>
<p>        var fileTypes     = new Array(&#8216;.doc&#8217;, &#8216;.pdf&#8217; , &#8216;.docx&#8217;); // valid filetypes<br />
        var extension = fileName.substr(fileName.lastIndexOf(&#8216;.&#8217;), fileName.length);<br />
        var valid = 0;</p>
<p>        for(var i in fileTypes)<br />
        {</p>
<p>            if(fileTypes[i] == extension)<br />
            {</p>
<p>                valid = 1;<br />
                break;</p>
<p>            }</p>
<p>        }</p>
<p>            return valid;</p>
<p>    }</p>
			</div>
		</li>
		
		
			
		<li id="comment-1033" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Watters on July 19, 2008</p>
			</div>
			<div class="comment-text">
				<p>This script is great, But I&#8217;ve got a problem at the moment.<br />
I&#8217;m using the basic script, and I don&#8217;t think it&#8217;s any php coding errors; if you choose the files, that&#8217;s fine, but if you delete files then the script does not work correctly and only uploads some files or none at all.</p>
<p>I would appreciate some help to see if it is actually a bug, or just an error in my code!</p>
			</div>
		</li>
		
		
			
		<li id="comment-1034" class="even">
			<div class="comment-meta">
							<p class="comment-author">Watters on July 19, 2008</p>
			</div>
			<div class="comment-text">
				<p>I worked out what was happening.<br />
When you delete an item and add a new one, the new item takes on the next id, rather than the id of the deleted file. This caused problems with my php!</p>
			</div>
		</li>
		
		
							
		<li id="comment-1054" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://jfileupload.com' rel='external nofollow' class='url'>jf2008</a> on August 12, 2008</p>
			</div>
			<div class="comment-text">
				<p>Try a multiple file upload applet in java:<br />
<a href="http://www.jfileupload.com/products/jfileupload/index.html" rel="nofollow">http://www.jfileupload.com/products/jfileupload/index.html</a></p>
<p>It works with PHP script on server-side.</p>
			</div>
		</li>
		
		
					
		<li id="comment-1066" class="even">
			<div class="comment-meta">
							<p class="comment-author">john on September 11, 2008</p>
			</div>
			<div class="comment-text">
				<p>But its not AJAX!</p>
			</div>
		</li>
		
		
				
		<li id="comment-1074" class="odd">
			<div class="comment-meta">
							<p class="comment-author">devore2008 on September 24, 2008</p>
			</div>
			<div class="comment-text">
				<p>Try a multiple file upload control in .NET:</p>
<p><a href="http://ajaxuploader.com/Demo/select-multiple-files-upload.aspx" rel="nofollow">http://ajaxuploader.com/Demo/select-multiple-files-upload.aspx</a></p>
<p>It looks so nice. However it&#8217;s only available in .NET version.</p>
<p>Can someone achieve this in PHP?</p>
<p>Tks.</p>
			</div>
		</li>
		
		
			
		<li id="comment-1081" class="even">
			<div class="comment-meta">
							<p class="comment-author">Jagan on October 10, 2008</p>
			</div>
			<div class="comment-text">
				<p>Hello stickman,</p>
<p>Thanks for the nice work.<br />
Your code got limitation, when you set the max. number for file input elements, unless the user reaches that max number the form wont be submitted.<br />
I am getting file not found exception from my servlet. as the file name coming as null. </p>
<p>my case my users dont know how many files they are uploading, so i need the form to submitted even with one file.</p>
<p>Thanks in advance.</p>
			</div>
		</li>
		
		
				
		<li id="comment-1092" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Vikas on November 6, 2008</p>
			</div>
			<div class="comment-text">
				<p>Good work</p>
			</div>
		</li>
		
		
			
		<li id="comment-1096" class="even">
			<div class="comment-meta">
							<p class="comment-author">Mipi on November 14, 2008</p>
			</div>
			<div class="comment-text">
				<p>Hello,</p>
<p>This is for devore2008. There are a lot of upload scripts like the one you&#8217;ve mentioned also for php. Take a look here for example:<br />
<a href="http://www.alfafiles.com/index.php?page=inst_upload" rel="nofollow">http://www.alfafiles.com/index.php?page=inst_upload</a></p>
<p>You can find it by google for swfupload as I remember.<br />
Reg.</p>
			</div>
		</li>
		
		
			
		<li id="comment-1097" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://-' rel='external nofollow' class='url'>heilender</a> on November 14, 2008</p>
			</div>
			<div class="comment-text">
				<p>action=&#8221;your_script_here.script&#8221; i don&#8217;t understand and<br />
i want to know destination file .when i want to save file</p>
			</div>
		</li>
		
		
			
		<li id="comment-1101" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.nasuploader.com' rel='external nofollow' class='url'>Ajax multiupload</a> on November 26, 2008</p>
			</div>
			<div class="comment-text">
				<p>Hello,<br />
I invite you to test my non intrusive multiuploader in Ajax / flash on my site <a href="http://www.nasuploader.com" rel="nofollow">http://www.nasuploader.com</a></p>
<p>cheers <img src='http://the-stickman.com/wp-includes/images/smilies/icon_wink.gif' alt=';)' class='wp-smiley' /> </p>
			</div>
		</li>
		
		
			
		<li id="comment-1103" class="odd">
			<div class="comment-meta">
							<p class="comment-author">mathieu on November 29, 2008</p>
			</div>
			<div class="comment-text">
				<p>srr pasted wrong code here it is;</p>
<p> if(count($_FILES["file"]['name'])&gt;0)<br />
  {</p>
<p>    for($j=0; $j set_var(&#8220;UPLOADMSG&#8221;,&#8221;Project geupload&#8221;);<br />
     }<br />
    }<br />
   }</p>
			</div>
		</li>
		
		
			
		<li id="comment-1113" class="even">
			<div class="comment-meta">
							<p class="comment-author">Vance on December 10, 2008</p>
			</div>
			<div class="comment-text">
				<p>Thanks guys! The script works great. Just to mention for those that are new to javascript&#8230; The form submits a array. Thanks again</p>
			</div>
		</li>
		
		
			
		<li id="comment-1117" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.wirah.com' rel='external nofollow' class='url'>Anonymous</a> on December 14, 2008</p>
			</div>
			<div class="comment-text">
				<p>Really cool!</p>
			</div>
		</li>
		
		
			
		<li id="comment-1118" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.codeplex.com/SLFileUpload' rel='external nofollow' class='url'>Michiel</a> on December 16, 2008</p>
			</div>
			<div class="comment-text">
				<p>Another alternative is the Silverlight Multi File Uploader, is also works with PHP. It allowes you to select multiple files from one select box.</p>
<p>Source code is available here:<br />
<a href="http://www.codeplex.com/SLFileUpload" rel="nofollow">http://www.codeplex.com/SLFileUpload</a></p>
			</div>
		</li>
		
		
			
		<li id="comment-1126" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Zeshan on January 3, 2009</p>
			</div>
			<div class="comment-text">
				<p>Very thanks for providing a nice app for uploading<br />
v.nice</p>
			</div>
		</li>
		
		
			
		<li id="comment-1128" class="even">
			<div class="comment-meta">
							<p class="comment-author">Dena Ferrera on January 7, 2009</p>
			</div>
			<div class="comment-text">
				<p>Hello, I am using the multifile.js and am not real familar with JS.  I also need to be able to check file size just like the check file types (jpg, xls etc).  Any help would be greatly appreciated.  I want it to check before I submit files for upload.</p>
<p>Thank you</p>
			</div>
		</li>
		
		
			
		<li id="comment-1130" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Michael on January 11, 2009</p>
			</div>
			<div class="comment-text">
				<p>Great file upload script!  Compact, simple, and fairly easy to modify &#8230; However, I am having a small problem with one part:</p>
<p>[code]<br />
this.addListRow = function( element ){</p>
<p>		// Row div<br />
		var new_row = document.createElement( 'div' );</p>
<p>		// Delete button<br />
		var new_row_button = document.createElement( 'input' );<br />
		new_row_button.type = 'button';<br />
		new_row_button.value = 'Delete';</p>
<p>		// References<br />
		new_row.element = element;<br />
[/code]</p>
<p>For each file when the script produces a &#8220;delete&#8221; it&#8217;s one of the normal horrid looking buttons &#8230; what I want to produce is this:</p>
<p>[code]</p>
<p>          Save</p>
<p>[/code]</p>
<p>Can you help with out with how I might implement this?</p>
<p>Thanks,</p>
<p>Michael</p>
			</div>
		</li>
		
		
			
		<li id="comment-1132" class="even">
			<div class="comment-meta">
							<p class="comment-author">Michael on January 13, 2009</p>
			</div>
			<div class="comment-text">
				<p>I ended up making the following changes to implement better looking buttons, per this particletree post:</p>
<p><a href="http://particletree.com/features/rediscovering-the-button-element/" rel="nofollow">http://particletree.com/features/rediscovering-the-button-element/</a></p>
<p>The only problem I am having ATM is that the button drops down to the next line.  If anyone can point out what i am missing I would be appreciative.</p>
<p>[code]<br />
this.addListRow = function( element ){<br />
	var new_row = document.createElement( 'div' );<br />
	Element.extend(new_row);<br />
	new_row.addClassName( 'buttons' );</p>
<p>	var new_row_button = document.createElement( 'button' );<br />
	Element.extend(new_row_button);<br />
	new_row_button.addClassName( 'positive' );</p>
<p>	new_row_button.update('Delete&nbsp;');</p>
<p>	new_row.element = element;<br />
[/code]</p>
<p>Thanks,</p>
<p>Michael</p>
			</div>
		</li>
		
		
			
		<li id="comment-1133" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Michael on January 13, 2009</p>
			</div>
			<div class="comment-text">
				<p>Oops, html does not work correctly.</p>
<p>This line:</p>
<p>new_row_button.update(’Delete ’);</p>
<p>should be:</p>
<p>new_row_button.update(&#8216;|img src=&#8221;/dotcms/assets/images/accept.png&#8221; alt=&#8221;"/|Delete|span id=&#8221;button_span&#8221;  style=&#8221;color:#C00; font-size:80%&#8221;|&nbsp;|/span|&#8217;);</p>
<p>Replace | with .</p>
<p>Michael</p>
			</div>
		</li>
		
		
			
		<li id="comment-1135" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://clhmedia.com' rel='external nofollow' class='url'>clhmedia</a> on January 16, 2009</p>
			</div>
			<div class="comment-text">
				<p>I&#8217;ve been trying to come with different form of multiple file uploads on my site. i think i will have to try this out in my image gallery section for anonymous users</p>
<p>great post<br />
<a href="http://www.clhmedia.com" rel="nofollow">http://www.clhmedia.com</a></p>
			</div>
		</li>
		
		
				
		<li id="comment-1144" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.mediafuture.net' rel='external nofollow' class='url'>Dan</a> on February 5, 2009</p>
			</div>
			<div class="comment-text">
				<p>This is a fantastic control and so has worked beautifully in most browsers I tried. Thanks for the great job!</p>
<p>However, I just upgraded to IE8 and found that I am getting duplicate upload controls and filename in the listing when I click the Browse button after adding the first file.</p>
<p>Anybody encountered this and/or has a suggested fix?</p>
			</div>
		</li>
		
		
			
		<li id="comment-1148" class="even">
			<div class="comment-meta">
							<p class="comment-author">Milos on February 12, 2009</p>
			</div>
			<div class="comment-text">
				<p>I was working on a solution similar to this, using ASP .NET. I got as far as creating the input controls dynamically, but every time I posted back, I found that ASP could not find the files that I had added (via the Request.Files collection). I went online to look for help and found this page. I saw that some people had a similar problem using the scripts provided here, but no one had actually posted a solution. I ended up finding the cause of my problem, by comparing my code to the one here.</p>
<p>The reason ASP could not find the uploaded files was because I had not given the dynamically generated input tags a name attribute. Once I did this, the files came up just fine. I presume that this is because ASP (and most other HTTP processors) use the name attribute in the HTTP request to assign to server variables. The code provided here does add a name attribute when creating a new tag, so it may not help people using this script, but this might help anyone else out there running into similar problems.</p>
			</div>
		</li>
		
		
			
		<li id="comment-1150" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://aaa' rel='external nofollow' class='url'>aaa</a> on February 13, 2009</p>
			</div>
			<div class="comment-text">
				<p>your_script_here.script what that supposed to mean, is this some kind of fuckin joke…</p>
			</div>
		</li>
		
		
			
		<li id="comment-1151" class="even">
			<div class="comment-meta">
							<p class="comment-author">Stickman on February 13, 2009</p>
			</div>
			<div class="comment-text">
				<blockquote><p>your_script_here.script what that supposed to mean, is this some kind of fuckin joke…</p></blockquote>
<p>This file has been downloaded many, many thousands of times by people who have had no problem understanding that it is necessary for YOU to provide the code for handling the upload once it reaches the server. If you&#8217;re having trouble grasping that, then I suggest that this code is not for you and you should look elsewhere.</p>
			</div>
		</li>
		
		
			
		<li id="comment-1152" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://none' rel='external nofollow' class='url'>James</a> on February 16, 2009</p>
			</div>
			<div class="comment-text">
				<p>Hi there,</p>
<p>I don`t know what happened.. the first time i tried your example on this very page, it seemed to work, however after i refreshed the page, i wasnt able to do it again. </p>
<p>So i donwloaded your your code, and tried the example, however this neither gives me the thing i want. </p>
<p>My browser is: mozilla version 3.0.6</p>
<p>Could you tell me what`s wrong? Or is it my browser?</p>
<p>With kind regards, James</p>
			</div>
		</li>
		
		
			
		<li id="comment-1154" class="even">
			<div class="comment-meta">
							<p class="comment-author">Sara on February 20, 2009</p>
			</div>
			<div class="comment-text">
				<p>Oh my goodness. I think I love you! You just saved me a TON of time. Thank you, thank you and thank you. And to that person that left that other comment about this being a joke&#8230;the only joke is that you don&#8217;t know what to do with the code. Get a clue and stop biting the hand that is feeding you knowledge.</p>
			</div>
		</li>
		
		
			
		<li id="comment-1159" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Dash on March 4, 2009</p>
			</div>
			<div class="comment-text">
				<p>Love the script, really clever idea, a real improvement on the usual x amount of file inputs. Just one thing, I&#8217;ve noticed a few people mentioning this, I&#8217;d like the ability to add a caption with each image. I&#8217;ve also noticed a couple of comments saying they&#8217;ve achieved this, but they haven&#8217;t posted the code..? If I figure this out I&#8217;ll post it. Any help with this would be great!!</p>
			</div>
		</li>
		
		
			
		<li id="comment-1160" class="even">
			<div class="comment-meta">
							<p class="comment-author">Jessie on March 6, 2009</p>
			</div>
			<div class="comment-text">
				<p>Love the script but its not working correctly in IE8.  Same problem that Dan mentioned above.</p>
<p>Does anyone have any suggestions?</p>
			</div>
		</li>
		
		
			
		<li id="comment-1162" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Suresh PVS on March 6, 2009</p>
			</div>
			<div class="comment-text">
				<p>Validation of file type has one error, when ever file type is not accepting all the previous files are also not uploading.<br />
Please help me how to resolve this problem.</p>
			</div>
		</li>
		
		
			
		<li id="comment-1167" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://dr3.net' rel='external nofollow' class='url'>?????</a> on March 14, 2009</p>
			</div>
			<div class="comment-text">
				<p>thank you very usfull</p>
			</div>
		</li>
		
		
			
		<li id="comment-1171" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://windturbinespower.blogspot.com' rel='external nofollow' class='url'>Mira</a> on March 20, 2009</p>
			</div>
			<div class="comment-text">
				<p>Hi, Can anyone help me. I’m using the multifile.js version without any changes and it’s not working on Firefox. Not sure what’s causing that. Also I everytime I add a file I also capture the contents of a textbox. However, I only want to add the file if the textbox is not blank. How do I do this?</p>
			</div>
		</li>
		
		
			
		<li id="comment-1175" class="even">
			<div class="comment-meta">
							<p class="comment-author">Marek on March 25, 2009</p>
			</div>
			<div class="comment-text">
				<p>Hi all,<br />
I&#8217;m having problem under IE8 with duplicate controls (like Jessie and Dan above). Is there a patch for it or any kind of solution? Anyway thank You for great job! <img src='http://the-stickman.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
			</div>
		</li>
		
		
					
		<li id="comment-1199" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Steve on May 6, 2009</p>
			</div>
			<div class="comment-text">
				<p>Hi,</p>
<p>Great script! Ho would i make it so you get alerted if you choose the same file twice?</p>
<p>Thanks</p>
			</div>
		</li>
		
		
			
		<li id="comment-1204" class="even">
			<div class="comment-meta">
							<p class="comment-author">Ryan Smith on May 12, 2009</p>
			</div>
			<div class="comment-text">
				<p>IE 8 sitll looks unstable to us. We have had many crashes when we tired our hands on IE 8.0. I will suggest  to stay off, till  microsoft comes with a more stable versions.</p>
<p>Thanks,<br />
Ryan</p>
			</div>
		</li>
		
		
			
		<li id="comment-1206" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Moe on May 15, 2009</p>
			</div>
			<div class="comment-text">
				<p>Hi, this script is indeed very good, but is there a way of creating thumbs for every uploaded image?</p>
<p>appreciate all comments</p>
			</div>
		</li>
		
		
			
		<li id="comment-1253" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.mycustomcollage.com' rel='external nofollow' class='url'>David</a> on June 17, 2009</p>
			</div>
			<div class="comment-text">
				<p>I apologize for being a newbie and I&#8217;m not sure if anyone else has had this trouble but I thought I&#8217;d ask. </p>
<p>I downloaded the .zip file and installed code and script into my site and everything seems to work just fine. But when you click on the &#8220;Browse&#8221; button and select the file to upload, instead of listing the actual path of the file to upload (C:Documents and Settings\New Folder\My File) it displays C:\fakepath\My File.</p>
<p>It also lists it like this for me when I use the sample on this page.</p>
<p>Any ideas how I screwed this up?</p>
<p>Any help is greatly appreciated.</p>
<p>Dave</p>
			</div>
		</li>
		
		
				
		<li id="comment-1260" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Ramon on June 26, 2009</p>
			</div>
			<div class="comment-text">
				<p>Hi! I&#8217;m trying to implement your code inside a php website, connected with a bbdd.<br />
My code (inside Real Estate Joomla component) it&#8217;s this:</p>
<p>     &lt;input class=&quot;button&quot; type=&quot;button&quot; value=&quot;&#8221; onclick=&#8221;if (checkForm()) this.form.submit()&#8221; /&gt;</p>
<p>      secondaries_images as $image) : ?&gt;</p>
<p>        &lt;img src=&quot;&#8221; alt=&#8221;" title=&#8221;" /&gt;<br />
        &lt;a href=&quot;&#8221;&gt;</p>
<p>**************************</p>
<p>I want to can select more than one image, and with your code is it possible!!! <img src='http://the-stickman.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' />  But I don&#8217;t know how apply it inside the php code. <img src='http://the-stickman.com/wp-includes/images/smilies/icon_sad.gif' alt=':(' class='wp-smiley' />  Can you help me??? Pleaseee!!! Thank You!!! A lot!!!</p>
			</div>
		</li>
		
		
			
		<li id="comment-1261" class="even">
			<div class="comment-meta">
							<p class="comment-author">filipe abreu on June 30, 2009</p>
			</div>
			<div class="comment-text">
				<p>thank you so much. I see that you are using the File API, as recommended by W3 (<a href="http://dev.w3.org/2006/webapi/FileUpload/publish/FileAPI.xhtml" rel="nofollow">http://dev.w3.org/2006/webapi/FileUpload/publish/FileAPI.xhtml</a>).</p>
<p>Have you discovered how to open a dialog box for choosing the file with javascript? The FileDialog interface is not working for me. I am doing something wrong or else it really doesn&#8217;t work?</p>
			</div>
		</li>
		
		
			
		<li id="comment-1263" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.cordsets.biz' rel='external nofollow' class='url'>powercords</a> on July 1, 2009</p>
			</div>
			<div class="comment-text">
				<p>Quote:<br />
Hi all,<br />
I’m having problem under IE8 with duplicate controls (like Jessie and Dan above). Is there a patch for it or any kind of solution? Anyway thank You for great job!</p>
			</div>
		</li>
		
		
			
		<li id="comment-1267" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.multifileuploads.com' rel='external nofollow' class='url'>Ivan Thompson</a> on July 7, 2009</p>
			</div>
			<div class="comment-text">
				<p>Great code check my project using this idea!</p>
			</div>
		</li>
		
		
				
		<li id="comment-1271" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Elteg on July 18, 2009</p>
			</div>
			<div class="comment-text">
				<p>Thank you for this, I use this for my website</p>
			</div>
		</li>
		
		
			
		<li id="comment-1275" class="even">
			<div class="comment-meta">
							<p class="comment-author">RM on July 22, 2009</p>
			</div>
			<div class="comment-text">
				<p>I love you man!  I have been wanting to make something like this happen on my site for ages now, but haven&#8217;t had the time to puzzle it out yet.  Thanks!</p>
			</div>
		</li>
		
		
			
		<li id="comment-1280" class="odd">
			<div class="comment-meta">
							<p class="comment-author">James on August 7, 2009</p>
			</div>
			<div class="comment-text">
				<p>Thanks very much for posting this.  I had a use case with these exact requirements and you just saved me a tonne of work.</p>
			</div>
		</li>
		
		
			
		<li id="comment-1281" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://marcbohlen.de' rel='external nofollow' class='url'>Online Texter Marc</a> on August 9, 2009</p>
			</div>
			<div class="comment-text">
				<p>Hi, i have the same problem like powercords. Is a patch available?</p>
			</div>
		</li>
		
		
			
		<li id="comment-1284" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Tobbe on August 15, 2009</p>
			</div>
			<div class="comment-text">
				<p>Hello, </p>
<p>I was just wondering if anyone could help me how the script to upload the files should look? The PHP script, the actionscript I think it&#8217;s called. </p>
<p>I have tried alot to build one but haven&#8217;t been able to. </p>
<p>Would really appreciate the help.</p>
			</div>
		</li>
		
		
			
		<li id="comment-1286" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.edgecine.com' rel='external nofollow' class='url'>Bear62</a> on August 18, 2009</p>
			</div>
			<div class="comment-text">
				<p>Great script, thanks so much. I had an issue with the form element in Firefox 3.0.13 completely trashing my page layout. Worked fine in IE8. On a whim I removed the comment that was within the form tag (<!-- The file element - NOTE: it has an ID -->) and then it worked fine. Go figure.</p>
			</div>
		</li>
		
		
			
		<li id="comment-1289" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Nikolaj Nørup Sostack on August 26, 2009</p>
			</div>
			<div class="comment-text">
				<p>Hi,</p>
<p>Have anyone tried in a asp.net solution?<br />
I am trying that but the Request.Files is always empty .</p>
<p>Any ideas?</p>
			</div>
		</li>
		
		
			
		<li id="comment-1290" class="even">
			<div class="comment-meta">
							<p class="comment-author">Angie on August 26, 2009</p>
			</div>
			<div class="comment-text">
				<p>I am trying to use this script in PL/SQL (Oracle) web development and I would like to pass the files as an array to another procedure/page &#8212; which will do the parsing and the actual submit. How would I pass the result as an array via your code? Please assist!</p>
			</div>
		</li>
		
		
			
		<li id="comment-1296" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://Internalhelpdesksystem' rel='external nofollow' class='url'>MarkT</a> on September 17, 2009</p>
			</div>
			<div class="comment-text">
				<p>Hi,</p>
<p>I&#8217;m embarrassingly new to all things web dev. We have an internal helpdesk system written using coldfusion. I&#8217;ve been slowly debugging and improving things.</p>
<p>I&#8217;m now wanting to add attachment to emails. No probs with a single file. But to dynamically add many files when you don&#8217;t know how many will be required is a bit too much of a challenge for a beginner<br />
your multifile tool looks just what I need but &#8211; my template doesn&#8217;t pick it up and I don&#8217;t know why. the next challenge will be to find a way to store the upload filename and filepath in an array to pass to the mail sending template.</p>
<p>Header below</p>
<p>	windows.addEvent(&#8216;domready&#8217;, function(){new MultiUpload( $(&#8216;tkaddentry&#8217;).tk_multi_attach,0,&#8221;,true,false);});</p>
<p>Body below</p>
			</div>
		</li>
		
		
			
		<li id="comment-1303" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.mamaisongratuite.fr' rel='external nofollow' class='url'>Mike</a> on October 15, 2009</p>
			</div>
			<div class="comment-text">
				<p>Thanks for the code dude, really helpfull</p>
			</div>
		</li>
		
		
			
		<li id="comment-1305" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Bozhidar on October 20, 2009</p>
			</div>
			<div class="comment-text">
				<p>Hi,<br />
First I would like to say thanks for the great job!<br />
The script is working fine&#8230; but I have a small(big) problem with it when I&#8217;m trying to implement it with Adobe Spry Framework 1.6.1. In particular with HTMLPanel Widget.<br />
I have the JS link, HTML part and the initiation script in self contained html(PHP) document and if I load this in any good browser it&#8217;s working fine.<br />
But when I try to load this file in to Spry HTMLPanel, even with globally and locally TRUE value for &#8220;evalScript&#8221; (allowed to execute  content inside the HTML fragment you&#8217;re loading in to the container) it won&#8217;t initiate the &#8220;multi_selector&#8221;&#8230;</p>
<p>   &lt;div id=&quot;cont&#8221; class=&#8221;galleryBoxContaine&#8221;&gt;</p>
<p>           CONTENT IS LOADED HERE !!!!!</p>
<p>   var container = new Spry.Widget.HTMLPanel(&#8220;cont&#8221;, { evalScripts: true });</p>
<p>I even try to place everything in between the container manually not loading it through Spry HTMLPanel and it is working &#8230;<br />
So the problem is not in the page design, CSS rules but in the Spry HTMLPanel! Please if anyone has an idea of what is wrong or how can I run around to make it work I will be very thankful!<br />
Thanks in advance!!!</p>
			</div>
		</li>
		
		
			
		<li id="comment-1306" class="even">
			<div class="comment-meta">
							<p class="comment-author">Bondo2a on October 25, 2009</p>
			</div>
			<div class="comment-text">
				<p>Hi<br />
this is a good example but i think it has one problem about the path when i upload a file it take a fakepath and this problem happened with me and i search about the solution</p>
			</div>
		</li>
		
		
			
		<li id="comment-1311" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Quan on November 5, 2009</p>
			</div>
			<div class="comment-text">
				<p>Nikolaj,</p>
<p>You need to set the attribute runat=&#8221;server&#8221; to the file input tag to be able to retrieve uploaded file. Then in order for the client script to work correctly, you need to generate the ClientID of that server control to be used by multiSelector.addElement method.</p>
<p>What I used is something like this:</p>
<p>        // Create an instance of the multiSelector class, pass it the output target and the max number of files<br />
        var multiSelector = new MultiSelector( document.getElementById( &#8216;ListOfFiles&#8217; ), 3 );<br />
        // Pass in the file element<br />
        multiSelector.addElement( document.getElementById(document.getElementById(&#8216;idHolder&#8217;).innerHTML));</p>
<p>The idea is to use a hidden div (idHolder) to hold the ClientID of the server file input control so that the JS script could know its client id.</p>
<p>And then here is the server code to save the uploaded files:</p>
<p>HttpFileCollection uploadedFiles = System.Web.HttpContext.Current.Request.Files;<br />
for (int i = 0; i  0)<br />
    {<br />
        string filePath = @&#8221;C:\&#8221; + Path.GetFileName(file.FileName);<br />
        file.SaveAs(filePath);<br />
    }<br />
}</p>
<p>Hope this helps!</p>
<p>Quan</p>
			</div>
		</li>
		
		
			
		<li id="comment-1312" class="even">
			<div class="comment-meta">
							<p class="comment-author">Quan on November 5, 2009</p>
			</div>
			<div class="comment-text">
				<p>form enctype=&#8221;multipart/form-data&#8221; runat=&#8221;server&#8221;&gt;</p>
<p>input id=&#8221;fileUploadElement&#8221; type=&#8221;file&#8221; name=&#8221;fileUploadElement&#8221; runat=&#8221;server&#8221; /&gt;	                </p>
<p>input id=&#8221;uploadNow&#8221; name=&#8221;uploadNow&#8221; type=&#8221;submit&#8221; onclick=&#8221;return ExecuteUpload()&#8221; value=&#8221;Upload now&#8221; /&gt;</p>
<p>/form&gt;  </p>
<p>div style=&#8221;font-size:75%;margin-left: 10px&#8221; id=&#8221;ListOfFiles&#8221;</p>
<p>div style=&#8221;display:none&#8221; id=&#8221;idHolder&#8221;&gt;</p>
<p>%=fileUploadElement.ClientID%&gt;</p>
<p>script type=&#8221;text/javascript&#8221;&gt;<br />
        // Create an instance of the multiSelector class, pass it the output target and the max number of files<br />
        var multiSelector = new MultiSelector( document.getElementById( &#8216;ListOfFiles&#8217; ), 3 );<br />
        // Pass in the file element<br />
        multiSelector.addElement( document.getElementById(document.getElementById(&#8216;idHolder&#8217;).innerHTML));<br />
/script&gt;</p>
			</div>
		</li>
		
		
			
		<li id="comment-1316" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.queness.com' rel='external nofollow' class='url'>kevin</a> on November 16, 2009</p>
			</div>
			<div class="comment-text">
				<p>great script, btw, IE display the full path instead just the file name, so i have written a small script and put it under new_row_button.onclick, and replace the following line:</p>
<p>new_row.innerHTML = element.value;</p>
<p>to:</p>
<p>if (/msie/i.test(navigator.userAgent) &amp;&amp; !/opera/i.test(navigator.userAgent)) {<br />
	// Set row value<br />
	var path = element.value.split(&#8220;\\&#8221;);<br />
	new_row.innerHTML = path[path.length - 1];<br />
} else {<br />
	// Set row value<br />
	new_row.innerHTML = element.value;<br />
}</p>
<p>and it works <img src='http://the-stickman.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
			</div>
		</li>
		
		
			
		<li id="comment-1325" class="even">
			<div class="comment-meta">
							<p class="comment-author">Ian on December 5, 2009</p>
			</div>
			<div class="comment-text">
				<p>This is brilliant, just what I needed, thanks for the great work.</p>
<p>I made some changes to show thumbnails in multifile_compressed.js</p>
<p>Line 65<br />
Change<br />
new_row.innerHTML = element.value;</p>
<p>To<br />
new_row.innerHTML = &#8221;;</p>
<p>Brilliant <img src='http://the-stickman.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
			</div>
		</li>
		
		
			
		<li id="comment-1328" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Jason on December 7, 2009</p>
			</div>
			<div class="comment-text">
				<p>Try this <a href="http://phpfileuploader.com/" rel="nofollow">http://phpfileuploader.com/</a></p>
			</div>
		</li>
		
		
			
		<li id="comment-1329" class="even">
			<div class="comment-meta">
							<p class="comment-author">Steve on December 8, 2009</p>
			</div>
			<div class="comment-text">
				<p>Great script. I would like to limit the file size and discard if too large. How can this be done? Thanks!</p>
			</div>
		</li>
		
		
			
		<li id="comment-1330" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://none' rel='external nofollow' class='url'>Mike</a> on December 8, 2009</p>
			</div>
			<div class="comment-text">
				<p>Hi is it possible to store the file location to a database when a form is submitted </p>
<p>so I have the multi upload on a form when the user submits the form I would like to be able to store the file location to dab </p>
<p>thanks </p>
<p>Mike</p>
			</div>
		</li>
		
		
			
		<li id="comment-1339" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://shoutout.eu.pn' rel='external nofollow' class='url'>Ed</a> on December 13, 2009</p>
			</div>
			<div class="comment-text">
				<p>Good day</p>
<p>When the upload image is found how do I have the image show and not the text file name.</p>
<p>Thank you<br />
ED</p>
			</div>
		</li>
		
		
			
		<li id="comment-1343" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://codingstep.com' rel='external nofollow' class='url'>codingstep.com</a> on December 16, 2009</p>
			</div>
			<div class="comment-text">
				<p>i got this error when using frame &#8212;&gt; Notice: Undefined index: file_1 in C:\AppServ\www\&#8230;.</p>
<p>Could you help me ?</p>
			</div>
		</li>
		
		
			
		<li id="comment-1344" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.theoddman.com' rel='external nofollow' class='url'>TheOddMan</a> on December 16, 2009</p>
			</div>
			<div class="comment-text">
				<p>This is absolutely brilliant.  I replaced the names with an array-based name and it works a charm with scripts I&#8217;m already using!</p>
			</div>
		</li>
		
		
			
		<li id="comment-1345" class="odd">
			<div class="comment-meta">
							<p class="comment-author">ganeshbabu on December 19, 2009</p>
			</div>
			<div class="comment-text">
				<p>hi guys,<br />
        plz anyone help me.for how to upload muliple files,how to reading and how to find the string.plz any one help me.if know the code plz send to this mail <a href="mailto:kganeshbabu.it@gmail.com">kganeshbabu.it@gmail.com</a>.i expect for ur replys.advance thanks.by ganeshbabu.</p>
			</div>
		</li>
		
		
			
		<li id="comment-1348" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.jfileupload.com' rel='external nofollow' class='url'>jfileupload</a> on January 3, 2010</p>
			</div>
			<div class="comment-text">
				<p>You can also try JFileUpload available at: <a href="http://www.jfileupload.com/" rel="nofollow">http://www.jfileupload.com/</a><br />
It allows to upload over HTTP.</p>
			</div>
		</li>
		
		
			
		<li id="comment-1352" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Jon on January 13, 2010</p>
			</div>
			<div class="comment-text">
				<p>Hi, I have spent alot of time on this today, I have the actual multiple browsing part work. My problem arises when it comes to uploading the files. Firstly I thought that in multiple upload cases the name of the input had to be an array, e.g. name=&#8221;example[]&#8221; but this stops the javascript from working and means you cant upload several elements. I&#8217;c tried some methods I found on these comments and have tried a few of my own, but i&#8217;m getting no where. If anyone could advice that would be great<br />
thanks<br />
Jon</p>
			</div>
		</li>
		
		
			
		<li id="comment-1353" class="even">
			<div class="comment-meta">
							<p class="comment-author">Shyam on January 14, 2010</p>
			</div>
			<div class="comment-text">
				<p>how can i post the elements and get its values of the input type in other page. a bit help will be appreciated.</p>
			</div>
		</li>
		
		
			
		<li id="comment-1357" class="odd">
			<div class="comment-meta">
							<p class="comment-author">edga on January 23, 2010</p>
			</div>
			<div class="comment-text">
				<p>I&#8217;ve got the script on my page, testing it and I don&#8217;t know why first file isn&#8217;t getting added to the list. Just when I choose another file &#8211; everything seems to work.File input is named file_1 so what&#8217;s the problem ?</p>
			</div>
		</li>
		
		
			
		<li id="comment-1360" class="even">
			<div class="comment-meta">
							<p class="comment-author">carbon on February 8, 2010</p>
			</div>
			<div class="comment-text">
				<p>Yeah, how do you upload with this? Where are the file locations being stored? It stores it in a java array ? How can i make php upload all the files?</p>
			</div>
		</li>
		
		
			
		<li id="comment-1364" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.thezilus.com' rel='external nofollow' class='url'>Zilus</a> on February 18, 2010</p>
			</div>
			<div class="comment-text">
				<p>Great, I just use it and it works perfectly.</p>
<p>A noob tip: The file count on the uploader side, starts with 0, i.e. $_FILES[file_0][name] == my first uploaded file.</p>
<p>Thanks!!</p>
			</div>
		</li>
		
		
				
		<li id="comment-1368" class="even">
			<div class="comment-meta">
							<p class="comment-author">Alex Cohn on February 23, 2010</p>
			</div>
			<div class="comment-text">
				<p>Firefox 3.6, now official, supports “multiple” flag in file chooser: &lt;input type=&#8221;file&#8221; mutiple=&#8221;" /&gt; Opera has a slightly different format: &lt;input type=&#8221;file&#8221; min=&#8221;1&#8243; max=&#8221;9999&#8243; /&gt;</p>
			</div>
		</li>
		
		
			
		<li id="comment-1369" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Tommy on February 24, 2010</p>
			</div>
			<div class="comment-text">
				<p>Hello,</p>
<p>my English is not very good. I have a question about this script. Is there a way to replace space of images after uploading it? It can also be happy before you upload them to be after you select.</p>
<p>Thank you very much.</p>
			</div>
		</li>
		
		
			
		<li id="comment-1372" class="even">
			<div class="comment-meta">
							<p class="comment-author">Justin Wiswell on March 4, 2010</p>
			</div>
			<div class="comment-text">
				<p>Thank you for the great script, it was very easy to implement with an existing progress bar script.  </p>
<p>I&#8217;ve been toying with trying to add a clear all or delete /remove all function for the last day, and I have finally found a solution.  Hope this helps someone else.</p>
<p>In the example index file, put your upload form tags inside a wrapper div.(eg form..)</p>
<p>after you have created an instance of the multiSelector class add this script on the same page.</p>
<p>[code]</p>
<p>//button<br />
<a>Clear</a></p>
<p>//function</p>
<p>function clearFileInputField(files_list) {<br />
    document.getElementById(files_list).innerHTML =<br />
    document.getElementById(files_list).innerHTML;<br />
    $('files_list').innerHTML='';</p>
<p>}</p>
<p>[/code]</p>
			</div>
		</li>
		
		
			
		<li id="comment-1373" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Justin Wiswell on March 4, 2010</p>
			</div>
			<div class="comment-text">
				<p>sorry my last post go cut off.  Before the function in html code within the Div tags named uploadFile_div use this to trigger the clear all.</p>
<p>// a onclick=&#8221;clearFileInputField(&#8216;uploadFile_div&#8217;)&#8221;href=&#8221;javascript:noAction();&#8221;&gt;Clear&lt;/a</p>
			</div>
		</li>
		
		
			
		<li id="comment-1374" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://imagenic.net' rel='external nofollow' class='url'>banana</a> on March 6, 2010</p>
			</div>
			<div class="comment-text">
				<p>Hi,<br />
This is a great solution. I&#8217;ve been thinking to get rid of those many upload fields on my site. I tested it and for some reason when i post it like one file, there is an empty array also. like file_0, file_1 but the file_1 is empty only [error]=&gt;4. hWhy is that? is it possible to get rid of that empty array?<br />
Thanks</p>
			</div>
		</li>
		
		
			
		<li id="comment-1378" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://UploadEase.com/' rel='external nofollow' class='url'>George</a> on March 19, 2010</p>
			</div>
			<div class="comment-text">
				<p>An excellent article for its time, but technology has come a long way since it was first written!</p>
<p>If you want to upload multiple files and/or images with the possibility of compression, hashing for security, image thumbnail generation/watermarking, and much more, you can&#8217;t go past UploadEase.</p>
<p>From a single page component you can navigate through your files and select files for uploading via a standard HTTP multipart/form-data POST request (the same as the file input element described in this article). You can even drag and drop them from external file explorers!</p>
<p>Don&#8217;t force your users to select files one at a time with file input elements when you can give them smart tools like UploadEase. Join the likes of Facebook, MySpace, and other sites that give their users a superior user experience.</p>
<p>Visit <a href="http://UploadEase.com/" rel="nofollow">http://UploadEase.com/</a> today and give your users the best possible experience they can have using your website.</p>
<p><strong>// Editor&#8217;s note: I&#8217;m happy for you to post this here, but I should point out that UploadEase is a commercial product (i.e. you need to purchase a licence to use it). Also&#8230;wow, people really still make Java applets these days?</strong></p>
			</div>
		</li>
		
		
			
		<li id="comment-1379" class="even">
			<div class="comment-meta">
							<p class="comment-author">kezhia on March 25, 2010</p>
			</div>
			<div class="comment-text">
				<p>hi newbie here..good to hop on this site.<br />
but it doesnt appear on the list those filenames uploaded.<br />
Can u help me out to set things?im using html-freemarker,,thanks..<br />
mail here please..kezhia04@yc</p>
			</div>
		</li>
		
		
			
		<li id="comment-1380" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Ted on March 27, 2010</p>
			</div>
			<div class="comment-text">
				<p>Hi, i looked through the comments for what to write in the &#8220;your script here.sript&#8221; thing, and all i see is them being rude, and you telling them to search google. can you give an example of what might go there instead? there really isnt anything to search google with&#8230; &#8220;your script here&#8221; wont turn up anything useful. Thanks!</p>
			</div>
		</li>
		
		
			
		<li id="comment-1382" class="even">
			<div class="comment-meta">
							<p class="comment-author">gokul on April 1, 2010</p>
			</div>
			<div class="comment-text">
				<p>Hi i have completed file uploaded to particular c drive location.so,how to get from c drive file to  jsp page in ui(fileattachement).using jsp,servlet and extjs.</p>
			</div>
		</li>
		
		
			
		<li id="comment-1389" class="odd">
			<div class="comment-meta">
							<p class="comment-author">meghna on April 28, 2010</p>
			</div>
			<div class="comment-text">
				<p>Once I upload 3 files by using this tool, where would I find them practically uploaded on the server?? How would I store it in DB?</p>
			</div>
		</li>
		
		
			
		<li id="comment-1393" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.iraqlife.com' rel='external nofollow' class='url'>IraQlife</a> on May 13, 2010</p>
			</div>
			<div class="comment-text">
				<p>Hi<br />
this is a good example but i think it has one problem about the path when i upload a file it take a fakepath and this problem happened with me and i search about the solution</p>
			</div>
		</li>
		
		
			
		<li id="comment-1406" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Brad on June 3, 2010</p>
			</div>
			<div class="comment-text">
				<p>I tried putting it on my site, but it didn&#8217;t work. Could someone help me.</p>
			</div>
		</li>
		
		
			
		<li id="comment-1407" class="even">
			<div class="comment-meta">
							<p class="comment-author">Brad on June 3, 2010</p>
			</div>
			<div class="comment-text">
				<p>sorry, you can email me @ <a href="mailto:webmaster@troop93.in">webmaster@troop93.in</a></p>
			</div>
		</li>
		
		
			
		<li id="comment-1410" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Brad on June 5, 2010</p>
			</div>
			<div class="comment-text">
				<p>I fixed the other problems, but how do I increase the max (I was hoping to have up to 15), I don&#8217;t know the first thing about JS so please help me.</p>
			</div>
		</li>
		
		
			
		<li id="comment-1438" class="even">
			<div class="comment-meta">
							<p class="comment-author">Meenakshi on July 1, 2010</p>
			</div>
			<div class="comment-text">
				<p>I need code for multiple file creation dynamically.I saw code in this website.I need dynamically that means value in multi selector will be dynamic</p>
			</div>
		</li>
		
		
			
		<li id="comment-1446" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Steve on July 14, 2010</p>
			</div>
			<div class="comment-text">
				<p>Oustanding thanks for sharing the code!!</p>
			</div>
		</li>
		
		
			
		<li id="comment-1454" class="even">
			<div class="comment-meta">
							<p class="comment-author">Ramon on July 27, 2010</p>
			</div>
			<div class="comment-text">
				<p>Another Free Fast Multi Site File Uploader: <a href="http://www.multisiteupload.com" rel="nofollow">http://www.multisiteupload.com</a><br />
You can upload music, video, photos, images, files, pdf, zip… to multiple Hots with only one click in seconds.<br />
You can upload to Megaupload, DepositFiles, FileFactory, NetLoad, UploadedTo, SendSpace, Badongo, Easy Share, Loadto, MegaShare, 2Shared and HotFile.<br />
Works well. Recommended.</p>
			</div>
		</li>
		
		
			
		<li id="comment-1457" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.sampessian.com' rel='external nofollow' class='url'>Sam</a> on August 1, 2010</p>
			</div>
			<div class="comment-text">
				<p>for some strange reason I can not see any download link to the source code&#8230;.am I blind or something is really happening here? <img src='http://the-stickman.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
			</div>
		</li>
		
		
			
		<li id="comment-1465" class="even">
			<div class="comment-meta">
							<p class="comment-author">shahida on August 18, 2010</p>
			</div>
			<div class="comment-text">
				<p>when we used the upload file at that time we may select any one picture from the list it will displayed  in the web page itself. how i do this  work.</p>
			</div>
		</li>
		
		
			
		<li id="comment-1467" class="odd">
			<div class="comment-meta">
							<p class="comment-author">eric on August 28, 2010</p>
			</div>
			<div class="comment-text">
				<p>Hello,<br />
You can upload multiple files to multiple file hosting sites (into your account) in EmbedUpload.com .<br />
Just try it.</p>
			</div>
		</li>
		
		
			
		<li id="comment-1473" class="even">
			<div class="comment-meta">
							<p class="comment-author">Frank on September 16, 2010</p>
			</div>
			<div class="comment-text">
				<p>Hi, with multiple=&#8221;true&#8221; flag the selected files are not all uploaded. It is retrieved only one file of the entire list selected. Is it hard to modify this beautiful script for accept multiple file selection and then upload them all toghether?</p>
			</div>
		</li>
		
		
			
		<li id="comment-1475" class="odd">
			<div class="comment-meta">
							<p class="comment-author">amit naik on September 20, 2010</p>
			</div>
			<div class="comment-text">
				<p>save as html file and see the result.</p>
<p>Untitled Document</p>
<p>function addFile(){<br />
var root=document.getElementById(&#8216;mytab&#8217;).getElementsByTagName(&#8216;tr&#8217;)[0].parentNode;<br />
var oR = cE(&#8216;tr&#8217;);var oC = cE(&#8216;td&#8217;);var oI = cE(&#8216;input&#8217;); var oS=cE(&#8216;span&#8217;)<br />
cA(oI,&#8217;type&#8217;,'file&#8217;);cA(oI,&#8217;name&#8217;,'file[]&#8216;);<br />
oS.style.cursor=&#8217;pointer&#8217;;<br />
oS.onclick=function(){<br />
this.parentNode.parentNode.parentNode.removeChild(this.parentNode.parentNode)<br />
}<br />
oS.appendChild(document.createTextNode(&#8216; Remove&#8217;));<br />
oC.appendChild(oI);oC.appendChild(oS);oR.appendChild(oC);root.appendChild(oR);<br />
}<br />
function cE(el){<br />
this.obj =document.createElement(el);<br />
return this.obj<br />
}<br />
function cA(obj,att,val){<br />
obj.setAttribute(att,val);<br />
return<br />
}</p>
<p>Add</p>
			</div>
		</li>
		
		
			
		<li id="comment-1480" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.duzcem.net' rel='external nofollow' class='url'>düzce haber</a> on October 9, 2010</p>
			</div>
			<div class="comment-text">
				<p>This is absolutely brilliant. I replaced the names with an array-based name and it works a charm with scripts I’m already using!</p>
			</div>
		</li>
		
		
			
		<li id="comment-1484" class="odd">
			<div class="comment-meta">
							<p class="comment-author">SPJ on October 20, 2010</p>
			</div>
			<div class="comment-text">
				<p>This is great however I&#8217;ve got a problem in Firefox where it blocks access to the full file path. I would like to display the full file path next to the delete button and then pass that in to the code.</p>
			</div>
		</li>
		
		
			
		<li id="comment-1492" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://img4web.com' rel='external nofollow' class='url'>jim</a> on November 8, 2010</p>
			</div>
			<div class="comment-text">
				<p>doenst work in ff 3.5 on ubuntu 10</p>
			</div>
		</li>
		
		
			
		<li id="comment-1494" class="odd">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.reecycle.it/' rel='external nofollow' class='url'>Ephestione</a> on November 14, 2010</p>
			</div>
			<div class="comment-text">
				<p>I imagine this is not supported anymore since there is the mootools version out. I&#8217;m against mootools because I like slender scripts without the big toolbox&#8217;s baggage&#8230; anyway I just realized this doesn&#8217;t appear to be working with Chrome <img src='http://the-stickman.com/wp-includes/images/smilies/icon_confused.gif' alt=':-?' class='wp-smiley' /> </p>
			</div>
		</li>
		
		
			
		<li id="comment-1495" class="even">
			<div class="comment-meta">
							<p class="comment-author"><a href='http://www.reecycle.it/' rel='external nofollow' class='url'>Ephestione</a> on November 14, 2010</p>
			</div>
			<div class="comment-text">
				<p>Neverming, it does work under chrome, two minutes ago for some reason it didn&#8217;t&#8230; I can only see the &#8220;choose file&#8221; button and not the text field dialogue, but doesn&#8217;t matter.</p>
			</div>
		</li>
		
		
			
		<li id="comment-1498" class="odd">
			<div class="comment-meta">
							<p class="comment-author">Brad on December 1, 2010</p>
			</div>
			<div class="comment-text">
				<p>Hi, wonderful script, how do I refresh the control without doing a post back and reloading the control entirely?</p>
			</div>
		</li>
		
		
		
	</ol>
	
		


	<div id="comments-form">
	
	<h2 class="comments-header">Leave a comment</h2>
	<p><em>Comment Policy:</em>  First time comments are moderated.  Please be patient.</p>
	
	
	<form action="http://the-stickman.com/wp-comments-post.php" method="post" id="commentform">


		
		<dl class="commentform_openid_list"><dt><h4>OpenID</h4></dt><dd><p><input type="text" style="background: url(http://the-stickman.com/wp-content/plugins/wpopenid/images/openid.gif) no-repeat;
			background-position: 0 50%; padding-left: 18px; " name="openid_url" class="commentform_openid" id="commentform_openid" value="" size="22" />
		<label for="commentform_openid">Sign in with your OpenID <a href="http://openid.net/">?</a></label></p>
		
		
</dd><dt><h4>Anonymous</h4></dt><dd><p><input type="text" name="author" id="author" value="" size="22" />
		<label for="author">Name (required)</label></p>
		
		<p><input type="text" name="email" id="email" value="" size="22" />
		<label for="email">E-mail (will not be published) (required)</label></p>
		
		<p><input type="text" name="url" id="url" value="" size="22" />
		<label for="url">Website</label></p>
	
	
	
		</dd></dl>
<p><textarea name="comment" id="comment" rows="10" cols="60"></textarea></p>
		
				<p><button type="submit" name="submit" id="sub">Submit</button>
		<input type="hidden" name="comment_post_ID" value="11"></p>
	
	
	
</form>
	</div>


	
        <!--do not delete-->
	</span>

</div>
<!--include footer-->
		<div id="footer">
			<div id="footerleft">

			</div>
			<div id="footerright">
			</div>
		<div class="flickr">
				</div>
		<div id="bottom">
			<p>fueled with <a href="http://wordpress.com" title="Get down with the Cosmic Power of the Monkey God">wordpress</a> design by <a title="derby web design" href="http://www.tristarwebdesign.co.uk/">tristar web design</a> ported by <a href="http://griffinopolis.com/blog" title="A happy hermit">amos moses griffin</a> (modified by <a href="/">Stickman</a>) icons from <a href="http://iconkits.com">iconkits</a></p>
		</div>
			
		</div>
		
	</div>
</div>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-1199385-1";
urchinTracker();
</script>
</body>
</html>