<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">
<head profile="http://gmpg.org/xfn/11">
	<title>Ascription is an Anathema to any Enthusiasm &rsaquo; Hot Spots</title>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
	<meta name="generator" content="WordPress 3.0.1" /><!-- LEAVE FOR STATS -->
	<meta name="description" content="Ben Hyde" />
	<link rel="alternate" type="application/rss+xml" href="http://enthusiasm.cozy.org/feed" title="Ascription is an Anathema to any Enthusiasm RSS feed" />
	<link rel="alternate" type="application/rss+xml" href="http://enthusiasm.cozy.org/comments/feed" title="Ascription is an Anathema to any Enthusiasm comments RSS feed" />
	<link rel="pingback" href="http://enthusiasm.cozy.org/xmlrpc.php" />
	<link rel="stylesheet" type="text/css" media="screen" href="http://enthusiasm.cozy.org/wp-content/themes/veryplaintxt/style.css" title="veryplaintxt" />
	<link rel="stylesheet" type="text/css" media="print" href="http://enthusiasm.cozy.org/wp-content/themes/veryplaintxt/print.css" />

<link rel="openid.server" href="http://server.myid.net/server" />
<link rel="openid.delegate" href="http://enthusiasm.myid.net/" />
<meta http-equiv="X-XRDS-Location" content="http://enthusiasm.myid.net/xrds" />

				
	<script type="text/javascript">//<![CDATA[
	// Google Analytics for WordPress by Yoast v4.06 | http://yoast.com/wordpress/google-analytics/
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount','UA-125970-2']);
	_gaq.push(['_trackPageview']);
	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
	// End of Google Analytics for WordPress by Yoast v4.0
	//]]></script>
	
<link rel="alternate" type="application/rss+xml" title="Ascription is an Anathema to any Enthusiasm &raquo; Hot Spots Comments Feed" href="http://enthusiasm.cozy.org/archives/2005/07/hot-spots/feed" />
<script type='text/javascript' src='http://enthusiasm.cozy.org/wp-includes/js/jquery/jquery.js?ver=1.4.2'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://enthusiasm.cozy.org/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://enthusiasm.cozy.org/wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='Ascription is an Anathema to any Enthusiasm' href='http://enthusiasm.cozy.org' />
<link rel='start' title='The Misery of Opportunity' href='http://enthusiasm.cozy.org/archives/2009/03/the-misery-of-opportunity' />
<link rel='prev' title='Digital Fountains in the Walled Garden' href='http://enthusiasm.cozy.org/archives/2005/07/digital-fountains-in-the-walled-garden' />
<link rel='next' title='Powerlaw of War' href='http://enthusiasm.cozy.org/archives/2005/07/powerlaw-of-war' />
<meta name="generator" content="WordPress 3.0.1" />
<link rel='canonical' href='http://enthusiasm.cozy.org/archives/2005/07/hot-spots' />
<link rel='shortlink' href='http://enthusiasm.cozy.org/?p=1001' />
<style type="text/css" media="all">
/*<![CDATA[*/
/* CSS inserted by theme options */
body{font-family:'times new roman', times, serif;font-size:105%;}
body div#container { float: left; margin: 0 -220px 1em 0; } body div#content { margin: 1em 220px 0 0; } body div.sidebar { float: right; }
body div#content div.hentry{text-align:left;}
body div#content h2,div#content h3,div#content h4,div#content h5,div#content h6{font-family:arial, helvetica, sans-serif;}
body div#wrapper{max-width:55em;min-width:35em;width:90%;}
body div.sidebar{text-align:left;}
/*]]>*/
</style>

</head>

<body class="wordpress y2010 m12 d17 h04 single s-y2005 s-m07 s-d25 s-h04 s-category-general s-author-bhyde">

<div id="wrapper">

	<div id="header">
		<h1 id="blog-title"><a href="http://enthusiasm.cozy.org/" title="Ascription is an Anathema to any Enthusiasm">Ascription is an Anathema to any Enthusiasm</a></h1>
		<div id="blog-description">Ben Hyde</div>
	</div>
	
	<div class="access">
		<span class="content-access"><a href="#content" title="Skip to content">Skip to content</a></span>
	</div>

<div id="globalnav"><ul id="menu"><li class="page_item home_page_item"><a href="http://enthusiasm.cozy.org" title="Ascription is an Anathema to any Enthusiasm">Home</a></li><li class="page_item page-item-2"><a href="http://enthusiasm.cozy.org/about" title="About">About</a></li><li class="page_item page-item-1308"><a href="http://enthusiasm.cozy.org/subscribe" title="Subscribe">Subscribe</a></li></ul></div>

	<div id="container">
		<div id="content" class="hfeed">


			<div id="post-1001" class="hentry p1 post publish author-bhyde category-general y2005 m07 d25 h04">
				<h2 class="entry-title">Hot Spots</h2>
				<div class="entry-content">
<p><i>Network Applications of Bloom Filters: A Survey</i> (<a href="http://www.internetmathematics.org/volumes/1/4/Broder.pdf">pdf</a>) by Broder and Mitzenmacher is a fun read.</p>
<p>Bloom filters were first invented to solve a problem near and dear to my heart, spelling correction.  While entire dictionary of every known word is a very large beast the bloom filter of a dictionary isn&#8217;t.  It allow you to ask the question &#8220;Is this in the dictionary?&#8221; using a cleverly arranged bitmap.  The down side is that occationally says yes when the answer is no.</p>
<p>Bloom filters are simple.  You start with a bit map, all zeros, and then for each symbol in your dictionary you hash it and set a bit in the map.  We aren&#8217;t done yet, but clearly you can hash your spelling word and see if it&#8217;s bit is set.  Instead of one bit you actually hash the symbol a dozen times different ways, and set a the dozen bits.   If your bit map is large enough then it becomes quite unlikely that a misspelled word will have all 12 bits set.   The math to get the right size bit map and number of hashs isn&#8217;t too terrible, you can look it up.</p>
<p>The paper mentions a cool varient of a Bloom filter that solves the problem of how to find hot-spots.  While this problem comes up a lot but I&#8217;ve never seen a satisfactory method before.    The hot-spot problem comes up a lot, it is the problem of finding the elite in your power-law distribution.  It&#8217;s hard because you can&#8217;t afford anything that&#8217;s the scale of the whole population.   Here three example applications.   You want to notice that a particular sensor was noticing a large number of small earthquakes.  You want to dynamically shift a page into a caching network when it suddenly gets slash dotted.   You want dynamicly limit the bandwidth of a client that starts downloading your entire site.   Let&#8217;s generalize the problem: given a stream of symbols how can you pluck out the ones that are appearing in the stream a lot.</p>
<p>The trick mentioned in the paper was, I gather, outlined in this other paper, <i>New Directions in Traffic Measurement and Accounting</i> (<a href="http://citeseer.ist.psu.edu/estan01new.html">citeseer</a>).  Instead of a bit map use counters.  Each time a symbol arrives we increment all it&#8217;s associated counters.   As we do that we assemble the minimum over the counters; that&#8217;s a good estimate of how many times we have seen that symbol.</p>
<p>Tada!  Symbols with high counters can then be put on a list of likely to be hot.  You can then start filtering, caching, watching more carefully, etc. that guy.</p>
<p>This could be used to add a possibly-hot? operator to lots of server data: pages, ip addresses, users, etc. which could then be fed into the server&#8217;s operating logic.  You could use it to find newly emerging high volume pinger&#8217;s in feedmesh.  You could use it to find phrases hot new phrases in netnews,  newswire, stock trading forums, or to notice sensors in your sensor net that seem to be all a quiver.</p>
<p>ps.  There is a cute trick for avoiding the need to have a dozen hash functions.  If you only have two h1(x) and h2(x) you can make hi(x) by combining the output of h1 and h2, say by doing h1(x) + i*h1(x).  (<a href="http://www.eecs.harvard.edu/~michaelm/postscripts/tr-02-05.pdf">pdf</a>).</p>

				</div>
				<div class="entry-meta">
					This was written by <span class="vcard"><span class="fn n">bhyde</span></span>. Posted on <abbr class="published" title="2005-07-25T21:56:19+0000">Monday, July 25, 2005, at 9:56 pm</abbr>. Filed under <a href="http://enthusiasm.cozy.org/archives/category/general" title="View all posts in General" rel="category tag">General</a>. Bookmark the <a href="http://enthusiasm.cozy.org/archives/2005/07/hot-spots" title="Permalink to Hot Spots" rel="bookmark">permalink</a>. Follow comments here with the <a href="http://enthusiasm.cozy.org/archives/2005/07/hot-spots/feed" title="Comments RSS to Hot Spots" rel="alternate" type="application/rss+xml">RSS feed</a>.					<a href="#respond" title="Post a comment">Post a comment</a> or leave a <a href="http://enthusiasm.cozy.org/archives/2005/07/hot-spots/trackback" rel="trackback" title="Trackback URL for your post">trackback</a>.
				</div>
<!-- <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://enthusiasm.cozy.org/archives/2005/07/hot-spots"
    dc:identifier="http://enthusiasm.cozy.org/archives/2005/07/hot-spots"
    dc:title="Hot Spots"
    trackback:ping="http://enthusiasm.cozy.org/archives/2005/07/hot-spots/trackback" />
</rdf:RDF> -->
			</div>

<div class="comments">




	<h3 class="comment-header" id="numpingbacks">One Trackback/Pingback</h3>
	<ol id="pingbacks" class="commentlist">


		<li id="comment-621" class="pingback c-y2005 c-m07 c-d26 c-h07 alt c1">
			<div class="comment-meta">
				<span class="pingback-author fn"><a href='http://enthusiasm.cozy.org/archives/2005/07/bloom-counter-encoding/' rel='external nofollow' class='url'>Ascription is an Anathema to any Enthusiasm  &raquo; Blog Archive   &raquo; Bloom Counter Encoding</a></span> <span class="pingback-datetime">on Wednesday, July 27, 2005 at 12:17 am</span> 			</div>
						<p>[...] s good, fast, linear, bounded storage, way to encode a stream of data on the fly that uses the varient on bloom filters outlined yesterday to select the compression codes on the fly [...]</p>
		</li>


	</ol>



	<h3 id="respond">Post a Comment</h3>

	<div class="formcontainer">	

		<form id="commentform" action="http://enthusiasm.cozy.org/wp-comments-post.php" method="post">


			<div id="comment-notes">Your email is <em>never</em> published nor shared. Required fields are marked <span class="req-field">*</span></div>

			<div class="form-label"><label for="author">Name</label> <span class="req-field">*</span></div>
			<div class="form-input"><input id="author" name="author" type="text" value="" size="30" maxlength="20" tabindex="3" /></div>

			<div class="form-label"><label for="email">Email</label> <span class="req-field">*</span></div>
			<div class="form-input"><input id="email" name="email" type="text" value="" size="30" maxlength="50" tabindex="4" /></div>

			<div class="form-label"><label for="url">Website</label></div>
			<div class="form-input"><input id="url" name="url" type="text" value="" size="30" maxlength="50" tabindex="5" /></div>


			<div class="form-label"><label for="comment">Comment</label></div>
			<div class="form-textarea"><textarea id="comment" name="comment" cols="45" rows="8" tabindex="6"></textarea></div>

			<div class="form-submit"><input id="submit" name="submit" type="submit" value="Submit comment" tabindex="7" /><input type="hidden" name="comment_post_ID" value="1001" /></div>



	<p style="clear: both;" class="subscribe-to-comments">
	<input type="checkbox" name="subscribe" id="subscribe" value="subscribe" style="width: auto;" />
	<label for="subscribe">Notify me of followup comments via e-mail</label>
	</p>



		</form>
	</div>


</div>
			<div id="nav-below" class="navigation">
				<div class="nav-previous">&lsaquo; <a href="http://enthusiasm.cozy.org/archives/2005/07/digital-fountains-in-the-walled-garden" rel="prev">Digital Fountains in the Walled Garden</a></div>
				<div class="nav-next"><a href="http://enthusiasm.cozy.org/archives/2005/07/powerlaw-of-war" rel="next">Powerlaw of War</a> &rsaquo;</div>
			</div>

		</div>
	</div>

	<div id="footer">
		<span id="copyright">&copy; 2010 <span class="vcard"><a class="url fn n" href=""><span class="given-name"></span> <span class="family-name"></span></a></span></span>
		<span class="meta-sep">&para;</span>
		<span id="generator-link">Thanks, <a href="http://wordpress.org/" title="WordPress">WordPress</a>.</span>
		<span class="meta-sep">&para;</span>
		<span id="theme-link"><a href="http://www.plaintxt.org/themes/veryplaintxt/" title="veryplaintxt theme for WordPress" rel="follow designer">veryplaintxt</a> theme by <span class="vcard"><a class="url fn n" href="http://scottwallick.com/" title="scottwallick.com" rel="follow designer"><span class="given-name">Scott</span><span class="additional-name"> Allan</span><span class="family-name"> Wallick</span></a></span>.</span>
		<span class="meta-sep">&para;</span>
		<span id="web-standards">It's nice <a href="http://validator.w3.org/check/referer" title="Valid XHTML">XHTML</a> &amp; <a href="http://jigsaw.w3.org/css-validator/validator?profile=css2&amp;warning=2&amp;uri=http://enthusiasm.cozy.org/wp-content/themes/veryplaintxt/style.css" title="Valid CSS">CSS</a>.</span>
	</div>

</div>


</body>
</html>