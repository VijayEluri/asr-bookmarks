

<!DOCTYPE html>
<html>
<head>
 <link rel="icon" type="image/vnd.microsoft.icon" href="http://www.gstatic.com/codesite/ph/images/phosting.ico">
 
 <script type="text/javascript">
 
 
 
 var codesite_token = null;
 
 
 var logged_in_user_email = null;
 
 
 var relative_base_url = "";
 
 </script>
 
 
 <title>
 log5j -
 
 Project Hosting on Google Code</title>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
 <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" >
 
 <meta name="ROBOTS" content="NOARCHIVE">
 
 <link type="text/css" rel="stylesheet" href="http://www.gstatic.com/codesite/ph/2314035420504622226/css/ph_core.css">
 
 <link type="text/css" rel="stylesheet" href="http://www.gstatic.com/codesite/ph/2314035420504622226/css/ph_detail.css" >
 
 
 
 
<!--[if IE]>
 <link type="text/css" rel="stylesheet" href="http://www.gstatic.com/codesite/ph/2314035420504622226/css/d_ie.css" >
<![endif]-->
 <style type="text/css">
 .menuIcon.off { background: no-repeat url(http://www.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 -42px }
 .menuIcon.on { background: no-repeat url(http://www.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 -28px }
 .menuIcon.down { background: no-repeat url(http://www.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 0; }
 
 
 
 .activity-level-High {
 background:no-repeat url(http://www.gstatic.com/codesite/ph/images/activity-level.png) 0 0;
 width: 16px;
 height: 16px;
 }
 .activity-level-Low {
 background:no-repeat url(http://www.gstatic.com/codesite/ph/images/activity-level.png) 0 -16px;
 width: 16px;
 height: 16px;
 }
 .activity-level-Medium {
 background: no-repeat url(http://www.gstatic.com/codesite/ph/images/activity-level.png) -16px 0;
 width: 16px;
 height: 16px;
 }
 .activity-level-None {
 background:no-repeat url(http://www.gstatic.com/codesite/ph/images/activity-level.png) -16px -16px;
 width: 16px;
 height: 16px;
 }


 </style>
</head>
<body class="t1">
 <script type="text/javascript">
 var _gaq = _gaq || [];
 _gaq.push(
 ['siteTracker._setAccount', 'UA-18071-1'],
 ['siteTracker._trackPageview']);
 
 (function() {
 var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
 ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
 (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
 })();
 </script>
<div class="headbg">
 <div id="gaia">
 
 <span>
 
 <a href="#" id="projects-dropdown" onclick="return false;"><u>My favorites</u> <small>&#9660;</small></a>
 | <a href="https://www.google.com/accounts/ServiceLogin?service=code&amp;ltmpl=phosting&amp;continue=http%3A%2F%2Fcode.google.com%2Fp%2Flog5j%2F&amp;followup=http%3A%2F%2Fcode.google.com%2Fp%2Flog5j%2F" onclick="_CS_click('/gb/ph/signin');"><u>Sign in</u></a>
 
 </span>

 </div>
 <div class="gbh" style="left: 0pt;"></div>
 <div class="gbh" style="right: 0pt;"></div>
 
 
 <div style="height: 1px"></div>
<!--[if lte IE 7]>
<div style="text-align:center;">
Your version of Internet Explorer is not supported. Try a browser that
contributes to open source, such as <a href="http://www.firefox.com">Firefox</a>,
<a href="http://www.google.com/chrome">Google Chrome</a>, or
<a href="http://code.google.com/chrome/chromeframe/">Google Chrome Frame</a>.
</div>
<![endif]-->




 <table style="padding:0px; margin: 0px 0px 10px 0px; width:100%" cellpadding="0" cellspacing="0">
 <tr style="height: 58px;">
 
 <td id="plogo">
 <a href="/p/log5j/">
 
 <img src="http://www.gstatic.com/codesite/ph/images/defaultlogo.png" alt="Logo">
 
 </a>
 </td>
 
 <td style="padding-left: 0.5em">
 
 <div id="pname">
 <a href="/p/log5j/">log5j</a>
 </div>
 <div id="psum">
 <a id="project_summary_link" href="/p/log5j/" >A modern facade on top of log4j</a>
 
 </div>
 
 </td>
 <td style="white-space:nowrap;text-align:right; vertical-align:bottom;">
 
 <form action="/hosting/search">
 <input size="30" name="q" value="" type="text">
 <input type="submit" name="projectsearch" value="Search projects" >
 </form>
 
 </tr>
 </table>

</div>

 
<div id="mt" class="gtb"> 
 <a href="/p/log5j/" class="tab active">Project&nbsp;Home</a> 
 
 
 
 
 <a href="/p/log5j/downloads/list" class="tab ">Downloads</a>
 
 
 
 
 
 <a href="/p/log5j/w/list" class="tab ">Wiki</a>
 
 
 
 
 
 <a href="/p/log5j/issues/list"
 class="tab ">Issues</a>
 
 
 
 
 
 <a href="/p/log5j/source/checkout"
 class="tab ">Source</a>
 
 
 
 <div class=gtbc></div>
</div>
<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0" class="st">
 <tr>
 
 
 
 
 
 
 
 <td class="subt">
 <div class="st1">
 <div class="isf">
 <span class="inst1">
 <a href="/p/log5j/">Summary</a>
 </span>
 
 
 &nbsp;
 <span class="inst2">
 <a href="/p/log5j/updates/list">Updates</a>
 </span>
 
 
 &nbsp;
 <span class="inst3">
 <a href="/p/log5j/people/list">People</a>
 </span>
 
 
 </div>
</div>

 </td>
 
 
 <td align="right" valign="top" class="bevel-right"></td>
 </tr>
</table>
<script type="text/javascript">
 var cancelBubble = false;
 function _go(url) { document.location = url; }
</script>


<div id="maincol"
 
>

 
<!-- IE -->







<table width="100%">
 <tr class="pscontent">
 <td class="pscolumnl">
 
 <div class="phead">Project Information</div>
 
 
 <ul class="pslist">
 
 
 <li class="psmeta">
 <a href="updates/list">Activity</a> &nbsp;
 <img src="http://www.gstatic.com/codesite/ph/images/cleardot.gif" class="activity-level-Medium">
 <span>Medium</span>
 </li>
 <li class="psgap"/>
 
 
 
 
 <li class="psmeta"><b>Code license</b></li>
 </li>
 <li class="psmeta">
 <a href="http://www.apache.org/licenses/LICENSE-2.0" rel="nofollow">Apache License 2.0</a>
 
 </li>
 <li class="psgap"/>
 
 
 
 
 
 
 <li class="psmeta">
 <span id="project_labels">
 <b>Labels</b><br/>
 
 <a class="label" 
 href="/hosting/search?q=label:java">java</a>, 
 
 <a class="label" 
 href="/hosting/search?q=label:log4j">log4j</a>, 
 
 <a class="label" 
 href="/hosting/search?q=label:facade">facade</a>
 
 </span>
 </li>
 <li class="psgap"/>
 
 
 
 <li class="psmeta"><b>Feeds</b></li>
 <li class="psmeta"><a href="/p/log5j/feeds">Project feeds</a>
 <li>
 <li class="psgap"/>
 
 </ul>
 <div class="psmeta psline"></div>
 <div class="psicon">
 <img height="15" width="15" src="http://www.gstatic.com/codesite/ph/images/people-y16.png"/>
 <span><b>Owners</b></span>
 </div>
 <ul class="pslist">
  
 
 
 <li class="psmeta">
 
 <li class="psmeta">
 <a style="white-space: nowrap" href="/u/burtonator/">burtonator</a>
 </li>
 
 <li class="psmeta">
 <a style="white-space: nowrap" href="/u/dtarima/">dtarima</a>
 </li>
 
 <li class="psgap"/>
 
 <li class="psmeta"><b>Committers</b></li>
 <li class="psmeta">
 <a href="people/list">0 committers</a>
 </li>
 <li class="psgap"/>
 
 <li class="psmeta"><b>Contributors</b></li>
 <li class="psmeta">
 <a href="people/list">0 contributors</a>
 </li>
 <li class="psgap"/>
 
 
 <li class="psmeta">
 <a href="people/list">People details &raquo;</a>
 </li>
 
 
 
 </ul>
 
 </td>
 <td id="wikicontent" class="psdescription">
 <p>Logger facade that supports <tt>printf</tt> style message format for both performance and ease of use. </p><p><a href="http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Logger.html" rel="nofollow">http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Logger.html</a> </p><p>The log5j package supports a &#x27;modernized&#x27; interface on top of the class Log4j API usage. </p><p>It provides a few syntactic extensions thanks to JDK 1.5 (hence the name log5j). </p><h1><a name="Usage"></a>Usage<a href="#Usage" class="section_anchor">&para;</a></h1><p>First.  It is no longer required to give the category when creating a new class level logger.  Log5j just figures it out from the call stack. </p><p>For example old usage for log4j was: </p><pre class="prettyprint">private static final Logger log = Logger.getLogger( FeedTask.class );</pre><p>and the new syntax with Log5j: </p><pre class="prettyprint">private static final Logger log = Logger.getLogger();</pre><p>Much better and fixes a lot of copy/paste errors. </p><p>Note: There is still an option to provide a required category manually. </p><p>Second.  It provides <tt>printf</tt> support for logging messages </p><p>Before: </p><pre class="prettyprint">log.debug( &quot;This thing broke: &quot; + foo + &quot; due to bar: &quot; + bar + &quot; on this thing: &quot; + car );</pre><p>After: </p><pre class="prettyprint">log.debug( &quot;This thing broke: %s due to bar: %s on this thing: %s&quot;, foo, bar, car );</pre><p>That is SOOOOOO much better.  Good god! </p><p>Note: By default <tt>java.util.Formatter</tt> syntax is used (<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Formatter.html" rel="nofollow">http://java.sun.com/j2se/1.5.0/docs/api/java/util/Formatter.html</a>).  </p><h2><a name="New_interfaces"></a>New interfaces<a href="#New_interfaces" class="section_anchor">&para;</a></h2><p>Since version 2 there is a new way to use the log which could be more appropriate, but in the end it&#x27;s a matter of taste. </p><p>Getting log object example: </p><pre class="prettyprint">  private static final Log log = LogFactory.getLog();</pre><p>Usage example: </p><pre class="prettyprint">  try {
    // do something
    log.d(&quot;Success! Parameters f=$.10f and i=%d&quot;, f, i);
  } catch (Exception e) {
    log.e(e, &quot;Failure! Parameters f=$.10f and i=%d&quot;, f, i);
    // note: exception passed first separate from parameters
  }</pre><h2><a name="Initialization"></a>Initialization<a href="#Initialization" class="section_anchor">&para;</a></h2><p>Appenders could have some non-daemon threads (for example, <tt>TelnetAppender</tt>), and it&#x27;s actually correct because you usually don&#x27;t want to lose messages during shutdown. Log4j provides a special method <tt>LogManager.shutdown()</tt> which should be called in the end of the shutdown routine to destroy appenders explicitly. </p><p>Log5j provides a similar method, but by default it&#x27;s not necessary to call it in case you are Ok with possibility to lose messages in the end. If you can control initialization and shutdown phases of your application then the following methods should be called: </p><pre class="prettyprint">  // initialization phase
  com.spinn3r.log5j.LogManager.enableExplicitShutdown();

  ...

  // in the very end of the shutdown routine
  com.spinn3r.log5j.LogManager.shutdown();</pre><h1><a name="Performance"></a>Performance<a href="#Performance" class="section_anchor">&para;</a></h1><p>There&#x27;s also a performance advantage here. </p><p>If you were using debug calls with string concat the strings are CONSTANTLY generated even if the debug level is disabled.  This burns CPU and pollutes your heap leading to addition garbage collection. </p><p>Now internally the debug message isn&#x27;t even called and the string is never expanded/formatted unless the debug level is enabled. </p><h2><a name="Asynchronous_logging"></a>Asynchronous logging<a href="#Asynchronous_logging" class="section_anchor">&para;</a></h2><p>Log4j behaves pretty badly in a highly concurrent environment, and Log5j fixes this by logging messages asynchronously. </p><pre class="prettyprint">  private static final Log log = LogFactory.getLog(); // asynchronous by default</pre><p>If you need a synchronous log then pass <tt>false</tt> to the factory method: </p><pre class="prettyprint">  private static final Log log = LogFactory.getLog(false); // synchronous</pre>
 </td>
 
 
 <td class="pscolumnr">
 
 
 <div class="phead pfeatured">Featured</div>
 
 <div class="psicon">
 <img height="15" width="15" src="http://www.gstatic.com/codesite/ph/images/filedownload-g16.png"/>
 <span><b>Downloads</b></span>
 </div>
 <ul class="pslist">
 
 <li id="downloadbox" class="psmeta">
 <a title="Download" href="http://log5j.googlecode.com/files/log5j-2.1.2-sources.jar" onclick="_gaq.push(['siteTracker._trackEvent', 'Download - Downloaded', 'http://log5j.googlecode.com/files/log5j-2.1.2-sources.jar', 'Featured, Type-Source, OpSys-All']);">
 </a>
 <a href="downloads/detail?name=log5j-2.1.2-sources.jar"
 title="ver. 2.1.2 (sources)">log5j-2.1.2-sources.jar</a>
 </li>
 
 <li id="downloadbox" class="psmeta">
 <a title="Download" href="http://log5j.googlecode.com/files/log5j-2.1.2.jar" onclick="_gaq.push(['siteTracker._trackEvent', 'Download - Downloaded', 'http://log5j.googlecode.com/files/log5j-2.1.2.jar', 'Featured, Type-Archive, OpSys-All']);">
 </a>
 <a href="downloads/detail?name=log5j-2.1.2.jar"
 title="ver. 2.1.2">log5j-2.1.2.jar</a>
 </li>
 
 <li class="psmeta"><a href="downloads/list">Show all &raquo</a></li>
 <li class="psgap"/>
 </ul>
 
 
 
 
 
 <div class="phead">Links</div>
 <ul class="pslist">
 
 <li class="psmeta"><b>Blogs</b></li>
 
 <li class="psmeta">
 <a href="http://feedblog.org" rel="nofollow">Kevin Burton&#39;s NEW Feedblog</a>
 </li>
 
 <li class="psgap"/>
 
 
 
 </ul>
 
 </td>
 
 
 </tr>
</table>
<script src="http://www.gstatic.com/codesite/ph/2314035420504622226/js/prettify.js"></script>
<script type="text/javascript">
 prettyPrint();
</script>

 
 
 <script type="text/javascript" src="http://www.gstatic.com/codesite/ph/2314035420504622226/js/core_scripts_20081103.js"></script>
 <script type="text/javascript" src="/js/codesite_product_dictionary_ph.pack.04102009.js"></script>
 </div>
<div id="footer" dir="ltr">
 
 <div class="text">
 
 &copy;2010 Google -
 <a href="/projecthosting/terms.html">Terms</a> -
 <a href="http://www.google.com/privacy.html">Privacy</a> -
 <a href="/p/support/">Project Hosting Help</a>
 
 </div>
</div>

 <div class="hostedBy" style="margin-top: -20px;">
 <span style="vertical-align: top;">Powered by <a href="http://code.google.com/projecthosting/">Google Project Hosting</a></span>
 </div>
 
 


 
 </body>
</html>

