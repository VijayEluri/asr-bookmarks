

<!DOCTYPE html>
<html>
<head>
 <link rel="icon" type="image/vnd.microsoft.icon" href="http://www.gstatic.com/codesite/ph/images/phosting.ico">
 
 <script type="text/javascript">
 
 
 
 var codesite_token = null;
 
 
 var logged_in_user_email = null;
 
 
 var relative_base_url = "";
 
 </script>
 
 
 <title>
 bigcache -
 
 Project Hosting on Google Code</title>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
 <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" >
 
 <meta name="ROBOTS" content="NOARCHIVE">
 
 <link type="text/css" rel="stylesheet" href="http://www.gstatic.com/codesite/ph/2314035420504622226/css/ph_core.css">
 
 <link type="text/css" rel="stylesheet" href="http://www.gstatic.com/codesite/ph/2314035420504622226/css/ph_detail.css" >
 
 
 
 
<!--[if IE]>
 <link type="text/css" rel="stylesheet" href="http://www.gstatic.com/codesite/ph/2314035420504622226/css/d_ie.css" >
<![endif]-->
 <style type="text/css">
 .menuIcon.off { background: no-repeat url(http://www.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 -42px }
 .menuIcon.on { background: no-repeat url(http://www.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 -28px }
 .menuIcon.down { background: no-repeat url(http://www.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 0; }
 
 
 
 .activity-level-High {
 background:no-repeat url(http://www.gstatic.com/codesite/ph/images/activity-level.png) 0 0;
 width: 16px;
 height: 16px;
 }
 .activity-level-Low {
 background:no-repeat url(http://www.gstatic.com/codesite/ph/images/activity-level.png) 0 -16px;
 width: 16px;
 height: 16px;
 }
 .activity-level-Medium {
 background: no-repeat url(http://www.gstatic.com/codesite/ph/images/activity-level.png) -16px 0;
 width: 16px;
 height: 16px;
 }
 .activity-level-None {
 background:no-repeat url(http://www.gstatic.com/codesite/ph/images/activity-level.png) -16px -16px;
 width: 16px;
 height: 16px;
 }


 </style>
</head>
<body class="t1">
 <script type="text/javascript">
 var _gaq = _gaq || [];
 _gaq.push(
 ['siteTracker._setAccount', 'UA-18071-1'],
 ['siteTracker._trackPageview']);
 
 _gaq.push(
 ['projectTracker._setAccount', 'UA-565197-17'],
 ['projectTracker._trackPageview']);
 
 (function() {
 var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
 ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
 (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
 })();
 </script>
<div class="headbg">
 <div id="gaia">
 
 <span>
 
 <a href="#" id="projects-dropdown" onclick="return false;"><u>My favorites</u> <small>&#9660;</small></a>
 | <a href="https://www.google.com/accounts/ServiceLogin?service=code&amp;ltmpl=phosting&amp;continue=http%3A%2F%2Fcode.google.com%2Fp%2Fbigcache%2F&amp;followup=http%3A%2F%2Fcode.google.com%2Fp%2Fbigcache%2F" onclick="_CS_click('/gb/ph/signin');"><u>Sign in</u></a>
 
 </span>

 </div>
 <div class="gbh" style="left: 0pt;"></div>
 <div class="gbh" style="right: 0pt;"></div>
 
 
 <div style="height: 1px"></div>
<!--[if lte IE 7]>
<div style="text-align:center;">
Your version of Internet Explorer is not supported. Try a browser that
contributes to open source, such as <a href="http://www.firefox.com">Firefox</a>,
<a href="http://www.google.com/chrome">Google Chrome</a>, or
<a href="http://code.google.com/chrome/chromeframe/">Google Chrome Frame</a>.
</div>
<![endif]-->




 <table style="padding:0px; margin: 0px 0px 10px 0px; width:100%" cellpadding="0" cellspacing="0">
 <tr style="height: 58px;">
 
 <td id="plogo">
 <a href="/p/bigcache/">
 
 <img src="http://www.gstatic.com/codesite/ph/images/defaultlogo.png" alt="Logo">
 
 </a>
 </td>
 
 <td style="padding-left: 0.5em">
 
 <div id="pname">
 <a href="/p/bigcache/">bigcache</a>
 </div>
 <div id="psum">
 <a id="project_summary_link" href="/p/bigcache/" >A memcached like interface to Amazon S3</a>
 
 </div>
 
 </td>
 <td style="white-space:nowrap;text-align:right; vertical-align:bottom;">
 
 <form action="/hosting/search">
 <input size="30" name="q" value="" type="text">
 <input type="submit" name="projectsearch" value="Search projects" >
 </form>
 
 </tr>
 </table>

</div>

 
<div id="mt" class="gtb"> 
 <a href="/p/bigcache/" class="tab active">Project&nbsp;Home</a> 
 
 
 
 
 <a href="/p/bigcache/downloads/list" class="tab ">Downloads</a>
 
 
 
 
 
 <a href="/p/bigcache/w/list" class="tab ">Wiki</a>
 
 
 
 
 
 <a href="/p/bigcache/issues/list"
 class="tab ">Issues</a>
 
 
 
 
 
 <a href="/p/bigcache/source/checkout"
 class="tab ">Source</a>
 
 
 
 <div class=gtbc></div>
</div>
<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0" class="st">
 <tr>
 
 
 
 
 
 
 
 <td class="subt">
 <div class="st1">
 <div class="isf">
 <span class="inst1">
 <a href="/p/bigcache/">Summary</a>
 </span>
 
 
 &nbsp;
 <span class="inst2">
 <a href="/p/bigcache/updates/list">Updates</a>
 </span>
 
 
 &nbsp;
 <span class="inst3">
 <a href="/p/bigcache/people/list">People</a>
 </span>
 
 
 </div>
</div>

 </td>
 
 
 <td align="right" valign="top" class="bevel-right"></td>
 </tr>
</table>
<script type="text/javascript">
 var cancelBubble = false;
 function _go(url) { document.location = url; }
</script>


<div id="maincol"
 
>

 
<!-- IE -->







<table width="100%">
 <tr class="pscontent">
 <td class="pscolumnl">
 
 <div class="phead">Project Information</div>
 
 
 <ul class="pslist">
 
 
 <li class="psmeta">
 <a href="updates/list">Activity</a> &nbsp;
 <img src="http://www.gstatic.com/codesite/ph/images/cleardot.gif" class="activity-level-None">
 <span>None</span>
 </li>
 <li class="psgap"/>
 
 
 
 
 <li class="psmeta"><b>Code license</b></li>
 </li>
 <li class="psmeta">
 <a href="http://www.apache.org/licenses/LICENSE-2.0" rel="nofollow">Apache License 2.0</a>
 
 </li>
 <li class="psgap"/>
 
 
 
 
 
 
 <li class="psmeta">
 <span id="project_labels">
 <b>Labels</b><br/>
 
 <a class="label" 
 href="/hosting/search?q=label:java">java</a>, 
 
 <a class="label" 
 href="/hosting/search?q=label:caching">caching</a>, 
 
 <a class="label" 
 href="/hosting/search?q=label:cache">cache</a>, 
 
 <a class="label" 
 href="/hosting/search?q=label:s3">s3</a>
 
 </span>
 </li>
 <li class="psgap"/>
 
 
 
 <li class="psmeta"><b>Feeds</b></li>
 <li class="psmeta"><a href="/p/bigcache/feeds">Project feeds</a>
 <li>
 <li class="psgap"/>
 
 </ul>
 <div class="psmeta psline"></div>
 <div class="psicon">
 <img height="15" width="15" src="http://www.gstatic.com/codesite/ph/images/people-y16.png"/>
 <span><b>Owners</b></span>
 </div>
 <ul class="pslist">
  
 
 
 <li class="psmeta">
 
 <li class="psmeta">
 <a style="white-space: nowrap" href="/u/treeder/">treeder</a>
 </li>
 
 <li class="psgap"/>
 
 <li class="psmeta"><b>Committers</b></li>
 <li class="psmeta">
 <a href="people/list">0 committers</a>
 </li>
 <li class="psgap"/>
 
 <li class="psmeta"><b>Contributors</b></li>
 <li class="psmeta">
 <a href="people/list">0 contributors</a>
 </li>
 <li class="psgap"/>
 
 
 <li class="psmeta">
 <a href="people/list">People details &raquo;</a>
 </li>
 
 
 
 </ul>
 
 </td>
 <td id="wikicontent" class="psdescription">
 <h2><a name="Overview"></a>Overview<a href="#Overview" class="section_anchor">&para;</a></h2><p>BigCache is a very simple cache API providing users with an infinite shared cache backed by Amazon S3. No servers required. </p><p>Here&#x27;s a quick code sample for how to use it. </p><pre class="prettyprint">// put an object into the cache
bigcache.put(&quot;somekey&quot;, myObject, 3600);

// Get an object from the cache
Object o = bigcache.get(&quot;somekey&quot;);</pre><h2><a name="News"></a>News<a href="#News" class="section_anchor">&para;</a></h2><p>2008-11-14 Added <a href="/p/bigcache/wiki/AsyncMethods">asynchronous methods</a> getAsync(key) and putAsync(key, object, expires) </p><h2><a name="Background"></a>Background<a href="#Background" class="section_anchor">&para;</a></h2><p>While testing out different caching scenarios, I got the idea of using S3 as a simple cache like memcached and decided to run some tests.  This is what typical test times look like running on an EC2 server (the memcached was running on a separate server) for retrieving 100 simple strings: </p><ul><li>Memcached took: 219 </li><li>S3 took: 2679 </li><li>SDB took: 2302 </li><li>ehcache memory took: 1 </li><li>ehcache 95% disk took: 11 </li><li>Memcached mod took: 219 </li><li>S3 mod took: 2203 </li></ul><p>UPDATE: New <a href="/p/bigcache/wiki/AsyncMethods">AsyncMethods</a> need to be added to this benchmark, big performance gains when using them.  </p><p>The last two mod tests retrieved 100 times, but only 10 different objects to see if S3 did any caching on recently retrieved items.  Running this repeatedly revealed very similar results time after time. I realize this isn&#x27;t exactly the greatest benchmarking test, so no need to let me know otherwise. ;)  </p><p>So what can we gather from this: </p><ul><li>In Memory is ultra fast (of course) </li><li>From local disk is also extremely fast (although much slower than in memory, 10x) </li><li>Memcached is amazingly fast too, especially considering it&#x27;s over the network, apparently 2 ms per object (although much slower than in memory or local disk, 20x vs disk) </li><li>S3 and SimpleDB were similar when retreiving directly by key/id, but both were much slower than any other solution at about 25ms per object, 10x vs memcached) </li></ul><p>So now you might say, &quot;well obviously memcached is the way to go for large scale caching&quot;, and I would have to agree fully. BUT what about the extra work required to run a pool of extra servers just for memcached? When you&#x27;ve already got a ready to go infinite cache available in S3.  </p><h2><a name="Double_Layer_Cache"></a>Double Layer Cache<a href="#Double_Layer_Cache" class="section_anchor">&para;</a></h2><p>Now you could just use S3 if you could live with the slowness, but the following scenario is an alternative that gives you the ultra fast memory/disk combo for your <a href="http://code.google.com/p/kitty-cache/" rel="nofollow">local cache</a> and the slower S3 as the global shared cache. And usually your local disk is pretty much unused anyways so this makes good use of it.  It is like a chained cache consisting of in memory and disk caching (ehcache) with S3 as a secondary cache.  For example: </p><pre class="prettyprint">getObject(key){
   object = localCache.get(key);
   if(object != null) return object;
   object = s3cache.get(key);
   if(object != null) {
     localCache.put(key, object);
     return object;
   }
   object = getFromDatabase(key);
   if(object != null){
     localCache.put(key, object);
     s3Cache.put(key, object);
     return object;
   }
   return null;
}</pre><p>This scenario would fully support stateless/sessionless load balancing although if you had a ton of app servers and your data was pretty user specific (private), then local/disk cache might become useless unless you have sticky sessions enabled on your load balancer. It would really depend on your app.   </p><h2><a name="Other_Performance_Comparisons"></a>Other Performance Comparisons<a href="#Other_Performance_Comparisons" class="section_anchor">&para;</a></h2><ul><li>Greg Luck, the creator of EhCache, <a href="http://gregluck.com/blog/archives/2007/05/comparing_memca.html" rel="nofollow">compares ehcache and memcached</a> </li><li>Kevin Burton <a href="http://feedblog.org/2007/05/21/unfair-benchmarks-of-ehcache-vs-memcached/" rel="nofollow">retaliates against Greg&#x27;s comparison</a> </li></ul>
 </td>
 
 
 <td class="pscolumnr">
 
 
 <div class="phead pfeatured">Featured</div>
 
 <div class="psicon">
 <img height="15" width="15" src="http://www.gstatic.com/codesite/ph/images/filedownload-g16.png"/>
 <span><b>Downloads</b></span>
 </div>
 <ul class="pslist">
 
 <li id="downloadbox" class="psmeta">
 <a title="Download" href="http://bigcache.googlecode.com/files/bigcache-0.1.jar" onclick="_gaq.push(['siteTracker._trackEvent', 'Download - Downloaded', 'http://bigcache.googlecode.com/files/bigcache-0.1.jar', 'Featured']);_gaq.push(['projectTracker._trackEvent', 'Download - Downloaded', 'http://bigcache.googlecode.com/files/bigcache-0.1.jar', 'Featured']);">
 </a>
 <a href="downloads/detail?name=bigcache-0.1.jar"
 title="BigCache 0.1 beta">bigcache-0.1.jar</a>
 </li>
 
 <li class="psmeta"><a href="downloads/list">Show all &raquo</a></li>
 <li class="psgap"/>
 </ul>
 
 
 <div class="psicon">
 <img height="15" width="15" src="http://www.gstatic.com/codesite/ph/images/paper_pencil-y16.png"/>
 <span><b>Wiki pages</b></span>
 </div>
 <ul id="wikibox" class="pslist">
 
 <li class="psmeta">
 <a href="wiki/AsyncMethods" title="getAsync and putAsync"
 >AsyncMethods</a>
 </li>
 
 <li class="psmeta">
 <a href="wiki/GettingStarted" title="How to get up and running with BigCache"
 >GettingStarted</a>
 </li>
 
 <li class="psmeta">
 <a href="wiki/ReferenceDocumentation" title="BigCache Reference Documentation"
 >ReferenceDocumentation</a>
 </li>
 
 <li class="psmeta"><a href="w/list">Show all &raquo</a></li>
 <li class="psgap"/>
 </ul>
 
 
 
 
 <div class="phead">Links</div>
 <ul class="pslist">
 
 
 <li class="psmeta"><b>External links</b></li>
 
 <li class="psmeta">
 <a href="http://code.google.com/p/simplejpa/" rel="nofollow">SimpleJPA</a>
 </li>
 
 <li class="psmeta">
 <a href="http://code.google.com/p/kitty-cache/" rel="nofollow">KittyCache</a>
 </li>
 
 <li class="psgap"/>
 
 
 <li class="psmeta"><b>Groups</b></li>
 
 <li class="psmeta">
 <a href="http://groups.google.com/group/bigcache" rel="nofollow">Discussion Group</a>
 </li>
 
 <li class="psgap"/>
 
 </ul>
 
 </td>
 
 
 </tr>
</table>
<script src="http://www.gstatic.com/codesite/ph/2314035420504622226/js/prettify.js"></script>
<script type="text/javascript">
 prettyPrint();
</script>

 
 
 <script type="text/javascript" src="http://www.gstatic.com/codesite/ph/2314035420504622226/js/core_scripts_20081103.js"></script>
 <script type="text/javascript" src="/js/codesite_product_dictionary_ph.pack.04102009.js"></script>
 </div>
<div id="footer" dir="ltr">
 
 <div class="text">
 
 &copy;2010 Google -
 <a href="/projecthosting/terms.html">Terms</a> -
 <a href="http://www.google.com/privacy.html">Privacy</a> -
 <a href="/p/support/">Project Hosting Help</a>
 
 </div>
</div>

 <div class="hostedBy" style="margin-top: -20px;">
 <span style="vertical-align: top;">Powered by <a href="http://code.google.com/projecthosting/">Google Project Hosting</a></span>
 </div>
 
 


 
 </body>
</html>

